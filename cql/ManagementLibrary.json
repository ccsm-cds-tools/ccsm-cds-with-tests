{
   "library" : {
      "annotation" : [ {
         "translatorOptions" : "",
         "type" : "CqlToElmInfo"
      } ],
      "identifier" : {
         "id" : "ManagementLibrary",
         "version" : "1.0.0"
      },
      "schemaIdentifier" : {
         "id" : "urn:hl7-org:elm",
         "version" : "r1"
      },
      "usings" : {
         "def" : [ {
            "localIdentifier" : "System",
            "uri" : "urn:hl7-org:elm-types:r1"
         }, {
            "localIdentifier" : "FHIR",
            "uri" : "http://hl7.org/fhir",
            "version" : "4.0.1"
         } ]
      },
      "includes" : {
         "def" : [ {
            "localIdentifier" : "C3F",
            "path" : "CDSConnectCommonsforFHIRv401",
            "version" : "1.0.0"
         }, {
            "localIdentifier" : "FHIRHelpers",
            "path" : "FHIRHelpers",
            "version" : "4.0.1"
         }, {
            "localIdentifier" : "Dash",
            "path" : "DisplayCervicalCancerMedicalHistory",
            "version" : "1.0.0"
         }, {
            "localIdentifier" : "Common",
            "path" : "CCSMCommonFunctions",
            "version" : "1.0.0"
         }, {
            "localIdentifier" : "Entry",
            "path" : "TopLevelScreeningLibrary",
            "version" : "1.0.0"
         }, {
            "localIdentifier" : "Symptomatic",
            "path" : "ScreeningSymptomaticLibrary",
            "version" : "1.0.0"
         }, {
            "localIdentifier" : "L4",
            "path" : "ScreeningAverageRiskLibrary",
            "version" : "1.0.0"
         }, {
            "localIdentifier" : "RiskTableLookup",
            "path" : "AutogeneratedTableLookup",
            "version" : "1.0.0"
         } ]
      },
      "parameters" : {
         "def" : [ {
            "name" : "BiopsyLookbackPeriod",
            "accessLevel" : "Public",
            "default" : {
               "value" : 25,
               "unit" : "years",
               "type" : "Quantity"
            }
         }, {
            "name" : "BiopsyReferralPeriod",
            "accessLevel" : "Public",
            "default" : {
               "value" : 1,
               "unit" : "month",
               "type" : "Quantity"
            }
         }, {
            "name" : "ExcludeSymptomatic",
            "accessLevel" : "Public",
            "default" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
               "value" : "true",
               "type" : "Literal"
            }
         }, {
            "name" : "HpvTestingGracePeriod",
            "accessLevel" : "Public",
            "default" : {
               "value" : 6,
               "unit" : "months",
               "type" : "Quantity"
            }
         } ]
      },
      "codeSystems" : {
         "def" : [ {
            "name" : "LOINC",
            "id" : "http://loinc.org",
            "accessLevel" : "Public"
         }, {
            "name" : "SNOMED-CT",
            "id" : "http://snomed.info/sct",
            "accessLevel" : "Public"
         }, {
            "name" : "ICD-9",
            "id" : "http://hl7.org/fhir/sid/icd-9-cm",
            "accessLevel" : "Public"
         }, {
            "name" : "ICD-10",
            "id" : "http://hl7.org/fhir/sid/icd-10-cm",
            "accessLevel" : "Public"
         }, {
            "name" : "NULL FLAVOR",
            "id" : "http://terminology.hl7.org/CodeSystem/v3-NullFlavor",
            "accessLevel" : "Public"
         }, {
            "name" : "LOCAL",
            "id" : "http://OUR-PLACEHOLDER-URL.com",
            "accessLevel" : "Public"
         } ]
      },
      "valueSets" : {
         "def" : [ {
            "name" : "Premenopausal",
            "id" : "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.254",
            "accessLevel" : "Public"
         }, {
            "name" : "All Results of High Risk HPV Test",
            "id" : "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.233",
            "accessLevel" : "Public"
         }, {
            "name" : "HSIL",
            "id" : "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.256",
            "accessLevel" : "Public"
         } ]
      },
      "codes" : {
         "def" : [ {
            "name" : "ASC-H",
            "id" : "441088002",
            "display" : "Atypical squamous cells on cervical Papanicolaou smear cannot exclude high grade squamous intraepithelial lesion (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "CIN1",
            "id" : "285836003",
            "display" : "Cervical intraepithelial neoplasia grade 1 (disorder)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Atypical Endometrial Cells",
            "id" : "103646000",
            "display" : "Atypical endometrial cells of undetermined significance (morphologic abnormality)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Atypical Endocervical Cells",
            "id" : "441094005",
            "display" : "Atypical endocervical cells on cervical Papanicolaou smear (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Endocervical AIS",
            "id" : "447760009",
            "display" : "Endocervical adenocarcinoma in situ (disorder)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "AGC",
            "id" : "441219009",
            "display" : "Atypical glandular cells on cervical Papanicolaou smear (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Endocervical Cells Favor Neoplasia",
            "id" : "373882004",
            "display" : "Atypical endocervical cells, favor neoplastic (morphologic abnormality)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Unsatisfactory",
            "id" : "126481000119106",
            "display" : "Vaginal Papanicolaou smear unsatisfactory for evaluation (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Absent Transformation Zone",
            "id" : "412716005",
            "display" : "Cervical smear transformation zone cells absent (situation)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Benign Endometrial Cells",
            "id" : "125155008",
            "display" : "Endometrial cells, cytologically benign, in a postmenopausal woman (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Premenopausal Menorrhagia",
            "id" : "627.0",
            "display" : "Premenopausal menorrhagia",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "ICD-9"
            }
         }, {
            "name" : "Excessive Bleeding in the Premenopausal Period",
            "id" : "N92.4",
            "display" : "Excessive bleeding in the premenopausal period",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "ICD-10"
            }
         }, {
            "name" : "Postmenopausal",
            "id" : "76498008",
            "display" : "Postmenopausal state (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Benign Glandular Cells",
            "id" : "103639009",
            "display" : "Atypical glandular cells of uncertain significance, probably benign (morphologic abnormality)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Histiocytes",
            "id" : "14295007",
            "display" : "Resident tissue macrophage (cell)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Unknown",
            "id" : "UNK",
            "display" : "Unknown",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "NULL FLAVOR"
            }
         }, {
            "name" : "HPV16+ Antigen",
            "id" : "766842008",
            "display" : "Antigen of Human papillomavirus type 16 L1 capsid protein (substance)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "HPV16+ DNA",
            "id" : "708298003",
            "display" : "Deoxyribonucleic acid of Human papillomavirus 16 (substance)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "HPV18+ Antigen",
            "id" : "766848007",
            "display" : "Antigen of Human papillomavirus type 18 L1 capsid protein (substance)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "HPV18+ DNA",
            "id" : "708299006",
            "display" : "Deoxyribonucleic acid of Human papillomavirus 18 (substance)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Biopsy Normal",
            "id" : "165324008",
            "display" : "Biopsy result normal (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "LSIL",
            "id" : "62051000119105",
            "display" : "Low grade squamous intraepithelial lesion on cervical Papanicolaou smear (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "ASC-US",
            "id" : "441087007",
            "display" : "Atypical squamous cells of undetermined significance on cervical Papanicolaou smear (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Endometrial Stromal Cells",
            "id" : "ESC",
            "display" : "Endometrial stromal cells",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "LOCAL"
            }
         } ]
      },
      "contexts" : {
         "def" : [ {
            "name" : "Patient"
         } ]
      },
      "statements" : {
         "def" : [ {
            "name" : "Patient",
            "context" : "Patient",
            "expression" : {
               "type" : "SingletonFrom",
               "operand" : {
                  "dataType" : "{http://hl7.org/fhir}Patient",
                  "templateId" : "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type" : "Retrieve"
               }
            }
         }, {
            "name" : "HpvTestingInterval",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Add",
               "operand" : [ {
                  "value" : 5,
                  "unit" : "years",
                  "type" : "Quantity"
               }, {
                  "name" : "HpvTestingGracePeriod",
                  "type" : "ParameterRef"
               } ]
            }
         }, {
            "name" : "HPVTestingIntervalLookBack",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "expression" : {
               "lowClosed" : true,
               "highClosed" : false,
               "type" : "Interval",
               "low" : {
                  "type" : "Subtract",
                  "operand" : [ {
                     "name" : "LookBackDate",
                     "type" : "OperandRef"
                  }, {
                     "name" : "HpvTestingInterval",
                     "type" : "ExpressionRef"
                  } ]
               },
               "high" : {
                  "name" : "LookBackDate",
                  "type" : "OperandRef"
               }
            },
            "operand" : [ {
               "name" : "LookBackDate",
               "operandTypeSpecifier" : {
                  "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "name" : "GetEarlierDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "d1",
                           "type" : "OperandRef"
                        }
                     }
                  }
               },
               "then" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "d2",
                              "type" : "OperandRef"
                           }
                        }
                     }
                  },
                  "then" : {
                     "type" : "If",
                     "condition" : {
                        "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "type" : "As",
                        "operand" : {
                           "type" : "SameOrBefore",
                           "operand" : [ {
                              "name" : "d1",
                              "type" : "OperandRef"
                           }, {
                              "name" : "d2",
                              "type" : "OperandRef"
                           } ]
                        }
                     },
                     "then" : {
                        "name" : "d1",
                        "type" : "OperandRef"
                     },
                     "else" : {
                        "name" : "d2",
                        "type" : "OperandRef"
                     }
                  },
                  "else" : {
                     "name" : "d1",
                     "type" : "OperandRef"
                  }
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "d2",
                              "type" : "OperandRef"
                           }
                        }
                     }
                  },
                  "then" : {
                     "name" : "d2",
                     "type" : "OperandRef"
                  },
                  "else" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}DateTime",
                     "type" : "As",
                     "operand" : {
                        "type" : "Null"
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "d1",
               "operandTypeSpecifier" : {
                  "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "d2",
               "operandTypeSpecifier" : {
                  "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "name" : "CytologyInterpretation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "conclusions",
                           "type" : "OperandRef"
                        }
                     }
                  }
               },
               "then" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "c",
                     "expression" : {
                        "name" : "conclusions",
                        "type" : "OperandRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Case",
                        "caseItem" : [ {
                           "when" : {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "c",
                                 "type" : "AliasRef"
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "NILM",
                                    "libraryName" : "Dash",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           },
                           "then" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "text",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "NILM",
                                    "type" : "Literal"
                                 }
                              }, {
                                 "name" : "rank",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "1",
                                    "type" : "Literal"
                                 }
                              } ]
                           }
                        }, {
                           "when" : {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "c",
                                 "type" : "AliasRef"
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "ASC-US",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           },
                           "then" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "text",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "ASC-US",
                                    "type" : "Literal"
                                 }
                              }, {
                                 "name" : "rank",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "2",
                                    "type" : "Literal"
                                 }
                              } ]
                           }
                        }, {
                           "when" : {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "c",
                                 "type" : "AliasRef"
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "LSIL",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           },
                           "then" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "text",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "LSIL",
                                    "type" : "Literal"
                                 }
                              }, {
                                 "name" : "rank",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "3",
                                    "type" : "Literal"
                                 }
                              } ]
                           }
                        }, {
                           "when" : {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "c",
                                 "type" : "AliasRef"
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "ASC-H",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           },
                           "then" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "text",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "ASC-H",
                                    "type" : "Literal"
                                 }
                              }, {
                                 "name" : "rank",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "4",
                                    "type" : "Literal"
                                 }
                              } ]
                           }
                        }, {
                           "when" : {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "c",
                                 "type" : "AliasRef"
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "AGC",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           },
                           "then" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "text",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "AGC",
                                    "type" : "Literal"
                                 }
                              }, {
                                 "name" : "rank",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "5",
                                    "type" : "Literal"
                                 }
                              } ]
                           }
                        }, {
                           "when" : {
                              "type" : "InValueSet",
                              "code" : {
                                 "name" : "c",
                                 "type" : "AliasRef"
                              },
                              "valueset" : {
                                 "name" : "HSIL",
                                 "type" : "ValueSetRef"
                              }
                           },
                           "then" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "text",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "HSIL+",
                                    "type" : "Literal"
                                 }
                              }, {
                                 "name" : "rank",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "6",
                                    "type" : "Literal"
                                 }
                              } ]
                           }
                        } ],
                        "else" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "text",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "ALL",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "rank",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "0",
                                 "type" : "Literal"
                              }
                           } ]
                        }
                     }
                  }
               },
               "else" : {
                  "type" : "ToList",
                  "operand" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "ALL",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "rank",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "0",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }
            },
            "operand" : [ {
               "name" : "conclusions",
               "operandTypeSpecifier" : {
                  "type" : "ListTypeSpecifier",
                  "elementType" : {
                     "name" : "{urn:hl7-org:elm-types:r1}Concept",
                     "type" : "NamedTypeSpecifier"
                  }
               }
            } ]
         }, {
            "name" : "HpvInterpretation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "c",
                  "expression" : {
                     "name" : "conclusions",
                     "type" : "OperandRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Case",
                     "caseItem" : [ {
                        "when" : {
                           "type" : "Equivalent",
                           "operand" : [ {
                              "name" : "c",
                              "type" : "AliasRef"
                           }, {
                              "type" : "ToConcept",
                              "operand" : {
                                 "name" : "Negative HPV Finding",
                                 "libraryName" : "Dash",
                                 "type" : "CodeRef"
                              }
                           } ]
                        },
                        "then" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "text",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "HPV-negative",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "rank",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "1",
                                 "type" : "Literal"
                              }
                           } ]
                        }
                     }, {
                        "when" : {
                           "type" : "Equivalent",
                           "operand" : [ {
                              "name" : "c",
                              "type" : "AliasRef"
                           }, {
                              "type" : "ToConcept",
                              "operand" : {
                                 "name" : "Positive HPV Finding",
                                 "libraryName" : "Dash",
                                 "type" : "CodeRef"
                              }
                           } ]
                        },
                        "then" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "text",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "HPV-positive",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "rank",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "2",
                                 "type" : "Literal"
                              }
                           } ]
                        }
                     }, {
                        "when" : {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "c",
                                 "type" : "AliasRef"
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "HPV18+ Antigen",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           }, {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "c",
                                 "type" : "AliasRef"
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "HPV18+ DNA",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           } ]
                        },
                        "then" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "text",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "HPV16-, HPV18+",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "rank",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "3",
                                 "type" : "Literal"
                              }
                           } ]
                        }
                     }, {
                        "when" : {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "c",
                                 "type" : "AliasRef"
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "HPV16+ Antigen",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           }, {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "c",
                                 "type" : "AliasRef"
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "HPV16+ DNA",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           } ]
                        },
                        "then" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "text",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "HPV16+",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "rank",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "4",
                                 "type" : "Literal"
                              }
                           } ]
                        }
                     } ],
                     "else" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "text",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "ALL",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "rank",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "0",
                              "type" : "Literal"
                           }
                        } ]
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "conclusions",
               "operandTypeSpecifier" : {
                  "type" : "ListTypeSpecifier",
                  "elementType" : {
                     "name" : "{urn:hl7-org:elm-types:r1}Concept",
                     "type" : "NamedTypeSpecifier"
                  }
               }
            } ]
         }, {
            "name" : "HighestRankedInterpretation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "expression" : {
               "type" : "Last",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "type" : "Query",
                        "source" : [ {
                           "alias" : "I",
                           "expression" : {
                              "name" : "interpretations",
                              "type" : "OperandRef"
                           }
                        } ],
                        "relationship" : [ ],
                        "sort" : {
                           "by" : [ {
                              "direction" : "asc",
                              "path" : "rank",
                              "type" : "ByColumn"
                           } ]
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "path" : "text",
                        "scope" : "S",
                        "type" : "Property"
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "interpretations",
               "operandTypeSpecifier" : {
                  "type" : "ListTypeSpecifier",
                  "elementType" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "text",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "rank",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Integer",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            } ]
         }, {
            "name" : "BiopsyInterpretation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "c",
                  "expression" : {
                     "name" : "conclusions",
                     "type" : "OperandRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Case",
                     "caseItem" : [ {
                        "when" : {
                           "type" : "Equivalent",
                           "operand" : [ {
                              "name" : "c",
                              "type" : "AliasRef"
                           }, {
                              "type" : "ToConcept",
                              "operand" : {
                                 "name" : "Biopsy Normal",
                                 "type" : "CodeRef"
                              }
                           } ]
                        },
                        "then" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "text",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "<CIN1",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "rank",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "1",
                                 "type" : "Literal"
                              }
                           } ]
                        }
                     }, {
                        "when" : {
                           "type" : "Equivalent",
                           "operand" : [ {
                              "name" : "c",
                              "type" : "AliasRef"
                           }, {
                              "type" : "ToConcept",
                              "operand" : {
                                 "name" : "CIN1",
                                 "type" : "CodeRef"
                              }
                           } ]
                        },
                        "then" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "text",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "CIN1",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "rank",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "2",
                                 "type" : "Literal"
                              }
                           } ]
                        }
                     }, {
                        "when" : {
                           "type" : "Equivalent",
                           "operand" : [ {
                              "name" : "c",
                              "type" : "AliasRef"
                           }, {
                              "type" : "ToConcept",
                              "operand" : {
                                 "name" : "CIN2",
                                 "libraryName" : "Dash",
                                 "type" : "CodeRef"
                              }
                           } ]
                        },
                        "then" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "text",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "CIN2",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "rank",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "3",
                                 "type" : "Literal"
                              }
                           } ]
                        }
                     }, {
                        "when" : {
                           "type" : "Equivalent",
                           "operand" : [ {
                              "name" : "c",
                              "type" : "AliasRef"
                           }, {
                              "type" : "ToConcept",
                              "operand" : {
                                 "name" : "CIN3",
                                 "libraryName" : "Dash",
                                 "type" : "CodeRef"
                              }
                           } ]
                        },
                        "then" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "text",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "CIN3",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "rank",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "4",
                                 "type" : "Literal"
                              }
                           } ]
                        }
                     }, {
                        "when" : {
                           "type" : "InValueSet",
                           "code" : {
                              "name" : "c",
                              "type" : "AliasRef"
                           },
                           "valueset" : {
                              "name" : "AIS",
                              "libraryName" : "Dash",
                              "type" : "ValueSetRef"
                           }
                        },
                        "then" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "text",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "AIS",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "rank",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "5",
                                 "type" : "Literal"
                              }
                           } ]
                        }
                     }, {
                        "when" : {
                           "type" : "InValueSet",
                           "code" : {
                              "name" : "c",
                              "type" : "AliasRef"
                           },
                           "valueset" : {
                              "name" : "Histologic cancer",
                              "libraryName" : "Dash",
                              "type" : "ValueSetRef"
                           }
                        },
                        "then" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "text",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Cancer",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "rank",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "6",
                                 "type" : "Literal"
                              }
                           } ]
                        }
                     } ],
                     "else" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "text",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "ALL",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "rank",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "0",
                              "type" : "Literal"
                           }
                        } ]
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "conclusions",
               "operandTypeSpecifier" : {
                  "type" : "ListTypeSpecifier",
                  "elementType" : {
                     "name" : "{urn:hl7-org:elm-types:r1}Concept",
                     "type" : "NamedTypeSpecifier"
                  }
               }
            } ]
         }, {
            "name" : "HasRecentAbnormalScreening",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "HasRecentAbnormalScreening",
               "libraryName" : "Dash",
               "type" : "ExpressionRef"
            }
         }, {
            "name" : "HasHighGradePreCancerCervicalLesion",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "CervicalPrecancerDisorders",
                  "libraryName" : "Dash",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "HasCervicalCancerDiagnoses",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "CervicalCancerDiagnoses",
                  "libraryName" : "Dash",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "IsIncluded",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "name" : "FemaleorTransgenderMale",
                  "libraryName" : "Entry",
                  "type" : "ExpressionRef"
               }, {
                  "type" : "Or",
                  "operand" : [ {
                     "type" : "Or",
                     "operand" : [ {
                        "type" : "Or",
                        "operand" : [ {
                           "name" : "HasRecentAbnormalScreening",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "HasHighGradePreCancerCervicalLesion",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HasCervicalCancerDiagnoses",
                        "type" : "ExpressionRef"
                     } ]
                  }, {
                     "type" : "Exists",
                     "operand" : {
                        "name" : "HighGradeOrCancerHistologyResults",
                        "libraryName" : "Dash",
                        "type" : "ExpressionRef"
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "Excluded",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "ExcludeSymptomatic",
                     "type" : "ParameterRef"
                  }
               },
               "then" : {
                  "name" : "IsSymptomatic",
                  "libraryName" : "Symptomatic",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "value" : "false",
                  "type" : "Literal"
               }
            }
         }, {
            "name" : "IsIncludedAndNotExcluded",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "name" : "IsIncluded",
                  "type" : "ExpressionRef"
               }, {
                  "type" : "Not",
                  "operand" : {
                     "name" : "Excluded",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "HpvReports",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "HpvDiagnosticReports",
               "libraryName" : "Dash",
               "type" : "ExpressionRef"
            }
         }, {
            "name" : "SortedHpvReports",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "H",
                  "expression" : {
                     "name" : "HpvReports",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "value" : {
                           "name" : "HighestRankedInterpretation",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "HpvInterpretation",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "type" : "Query",
                                 "source" : [ {
                                    "alias" : "X",
                                    "expression" : {
                                       "path" : "conclusionCode",
                                       "scope" : "H",
                                       "type" : "Property"
                                    }
                                 } ],
                                 "return" : {
                                    "distinct" : false,
                                    "expression" : {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "X",
                                          "type" : "AliasRef"
                                       } ]
                                    }
                                 }
                              } ]
                           } ]
                        }
                     }, {
                        "name" : "allConclusions",
                        "value" : {
                           "path" : "conclusionCode",
                           "scope" : "H",
                           "type" : "Property"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "name" : "DiagnosticReportDate",
                           "libraryName" : "Common",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "H",
                              "type" : "AliasRef"
                           } ]
                        }
                     } ]
                  }
               },
               "sort" : {
                  "by" : [ {
                     "direction" : "desc",
                     "path" : "date",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "MostRecentHpvReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "type" : "Count",
                        "source" : {
                           "name" : "SortedHpvReports",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     } ]
                  }
               },
               "then" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "type" : "Indexer",
                              "operand" : [ {
                                 "name" : "SortedHpvReports",
                                 "type" : "ExpressionRef"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "0",
                                 "type" : "Literal"
                              } ]
                           }
                        }, {
                           "name" : "HPVTestingIntervalLookBack",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "type" : "ToDateTime",
                              "operand" : {
                                 "type" : "Today"
                              }
                           } ]
                        } ]
                     }
                  },
                  "then" : {
                     "type" : "Indexer",
                     "operand" : [ {
                        "name" : "SortedHpvReports",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     } ]
                  },
                  "else" : {
                     "type" : "As",
                     "operand" : {
                        "type" : "Null"
                     },
                     "asTypeSpecifier" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "riskTableInput",
                           "type" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "allConclusions",
                           "type" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "name" : "{http://hl7.org/fhir}CodeableConcept",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        }, {
                           "name" : "date",
                           "type" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "allConclusions",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}CodeableConcept",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "date",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentHpvReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "type" : "Count",
                        "source" : {
                           "name" : "SortedHpvReports",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     } ]
                  }
               },
               "then" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "type" : "Indexer",
                              "operand" : [ {
                                 "name" : "SortedHpvReports",
                                 "type" : "ExpressionRef"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "1",
                                 "type" : "Literal"
                              } ]
                           }
                        }, {
                           "name" : "HPVTestingIntervalLookBack",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentHpvReport",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        } ]
                     }
                  },
                  "then" : {
                     "type" : "Indexer",
                     "operand" : [ {
                        "name" : "SortedHpvReports",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     } ]
                  },
                  "else" : {
                     "type" : "As",
                     "operand" : {
                        "type" : "Null"
                     },
                     "asTypeSpecifier" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "riskTableInput",
                           "type" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "allConclusions",
                           "type" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "name" : "{http://hl7.org/fhir}CodeableConcept",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        }, {
                           "name" : "date",
                           "type" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "allConclusions",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}CodeableConcept",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "date",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "ThirdMostRecentHpvReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "type" : "Count",
                        "source" : {
                           "name" : "SortedHpvReports",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "2",
                        "type" : "Literal"
                     } ]
                  }
               },
               "then" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "type" : "Indexer",
                              "operand" : [ {
                                 "name" : "SortedHpvReports",
                                 "type" : "ExpressionRef"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "2",
                                 "type" : "Literal"
                              } ]
                           }
                        }, {
                           "name" : "HPVTestingIntervalLookBack",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondMostRecentHpvReport",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        } ]
                     }
                  },
                  "then" : {
                     "type" : "Indexer",
                     "operand" : [ {
                        "name" : "SortedHpvReports",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "2",
                        "type" : "Literal"
                     } ]
                  },
                  "else" : {
                     "type" : "As",
                     "operand" : {
                        "type" : "Null"
                     },
                     "asTypeSpecifier" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "riskTableInput",
                           "type" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "allConclusions",
                           "type" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "name" : "{http://hl7.org/fhir}CodeableConcept",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        }, {
                           "name" : "date",
                           "type" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "allConclusions",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}CodeableConcept",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "date",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "FourthMostRecentHpvReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "type" : "Count",
                        "source" : {
                           "name" : "SortedHpvReports",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "3",
                        "type" : "Literal"
                     } ]
                  }
               },
               "then" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "type" : "Indexer",
                              "operand" : [ {
                                 "name" : "SortedHpvReports",
                                 "type" : "ExpressionRef"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "3",
                                 "type" : "Literal"
                              } ]
                           }
                        }, {
                           "name" : "HPVTestingIntervalLookBack",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "ThirdMostRecentHpvReport",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        } ]
                     }
                  },
                  "then" : {
                     "type" : "Indexer",
                     "operand" : [ {
                        "name" : "SortedHpvReports",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "3",
                        "type" : "Literal"
                     } ]
                  },
                  "else" : {
                     "type" : "As",
                     "operand" : {
                        "type" : "Null"
                     },
                     "asTypeSpecifier" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "riskTableInput",
                           "type" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "allConclusions",
                           "type" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "name" : "{http://hl7.org/fhir}CodeableConcept",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        }, {
                           "name" : "date",
                           "type" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "allConclusions",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}CodeableConcept",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "date",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "MostRecentHpvResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "path" : "riskTableInput",
               "type" : "Property",
               "source" : {
                  "name" : "MostRecentHpvReport",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "SecondMostRecentHpvResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "path" : "riskTableInput",
               "type" : "Property",
               "source" : {
                  "name" : "SecondMostRecentHpvReport",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "ThirdMostRecentHpvResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "path" : "riskTableInput",
               "type" : "Property",
               "source" : {
                  "name" : "ThirdMostRecentHpvReport",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "FourthMostRecentHpvResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "path" : "riskTableInput",
               "type" : "Property",
               "source" : {
                  "name" : "FourthMostRecentHpvReport",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "CervicalCytologyReports",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "CervicalCytologyReports",
               "libraryName" : "Dash",
               "type" : "ExpressionRef"
            }
         }, {
            "name" : "SortedCytologyReports",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "C",
                  "expression" : {
                     "name" : "CervicalCytologyReports",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "value" : {
                           "name" : "HighestRankedInterpretation",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "CytologyInterpretation",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "type" : "Query",
                                 "source" : [ {
                                    "alias" : "X",
                                    "expression" : {
                                       "path" : "conclusionCode",
                                       "scope" : "C",
                                       "type" : "Property"
                                    }
                                 } ],
                                 "return" : {
                                    "distinct" : false,
                                    "expression" : {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "X",
                                          "type" : "AliasRef"
                                       } ]
                                    }
                                 }
                              } ]
                           } ]
                        }
                     }, {
                        "name" : "allConclusions",
                        "value" : {
                           "path" : "conclusionCode",
                           "scope" : "C",
                           "type" : "Property"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "name" : "DiagnosticReportDate",
                           "libraryName" : "Common",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "C",
                              "type" : "AliasRef"
                           } ]
                        }
                     } ]
                  }
               },
               "sort" : {
                  "by" : [ {
                     "direction" : "desc",
                     "path" : "date",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "MostRecentCytologyCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "lowClosed" : true,
                           "highClosed" : true,
                           "type" : "Interval",
                           "low" : {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentHpvReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "day",
                                 "type" : "Quantity"
                              } ]
                           },
                           "high" : {
                              "type" : "Add",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentHpvReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "day",
                                 "type" : "Quantity"
                              } ]
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentHpvReport",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "SecondMostRecentCytologyCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "lowClosed" : true,
                           "highClosed" : true,
                           "type" : "Interval",
                           "low" : {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "SecondMostRecentHpvReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "day",
                                 "type" : "Quantity"
                              } ]
                           },
                           "high" : {
                              "type" : "Add",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "SecondMostRecentHpvReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "day",
                                 "type" : "Quantity"
                              } ]
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondMostRecentHpvReport",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "ThirdMostRecentCytologyCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "lowClosed" : true,
                           "highClosed" : true,
                           "type" : "Interval",
                           "low" : {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "ThirdMostRecentHpvReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "day",
                                 "type" : "Quantity"
                              } ]
                           },
                           "high" : {
                              "type" : "Add",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "ThirdMostRecentHpvReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "day",
                                 "type" : "Quantity"
                              } ]
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "ThirdMostRecentHpvReport",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "FourthMostRecentCytologyCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "lowClosed" : true,
                           "highClosed" : true,
                           "type" : "Interval",
                           "low" : {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "FourthMostRecentHpvReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "day",
                                 "type" : "Quantity"
                              } ]
                           },
                           "high" : {
                              "type" : "Add",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "FourthMostRecentHpvReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "day",
                                 "type" : "Quantity"
                              } ]
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "FourthMostRecentHpvReport",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "MostRecentCytologyCotestResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "MostRecentHpvReport",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "MostRecentCytologyCotest",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ALL",
                     "type" : "Literal"
                  },
                  "else" : {
                     "path" : "riskTableInput",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentCytologyCotest",
                        "type" : "ExpressionRef"
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentCytologyCotestResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "SecondMostRecentHpvReport",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "SecondMostRecentCytologyCotest",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ALL",
                     "type" : "Literal"
                  },
                  "else" : {
                     "path" : "riskTableInput",
                     "type" : "Property",
                     "source" : {
                        "name" : "SecondMostRecentCytologyCotest",
                        "type" : "ExpressionRef"
                     }
                  }
               }
            }
         }, {
            "name" : "ThirdMostRecentCytologyCotestResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "ThirdMostRecentHpvReport",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "ThirdMostRecentCytologyCotest",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ALL",
                     "type" : "Literal"
                  },
                  "else" : {
                     "path" : "riskTableInput",
                     "type" : "Property",
                     "source" : {
                        "name" : "ThirdMostRecentCytologyCotest",
                        "type" : "ExpressionRef"
                     }
                  }
               }
            }
         }, {
            "name" : "FourthMostRecentCytologyCotestResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "FourthMostRecentHpvReport",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "FourthMostRecentCytologyCotest",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ALL",
                     "type" : "Literal"
                  },
                  "else" : {
                     "path" : "riskTableInput",
                     "type" : "Property",
                     "source" : {
                        "name" : "FourthMostRecentCytologyCotest",
                        "type" : "ExpressionRef"
                     }
                  }
               }
            }
         }, {
            "name" : "BiopsyReports",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "LookBack",
               "libraryName" : "Common",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "HistologyDiagnosticReports",
                  "libraryName" : "Dash",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "BiopsyLookbackPeriod",
                  "type" : "ParameterRef"
               } ]
            }
         }, {
            "name" : "SortedBiopsyReports",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "B",
                  "expression" : {
                     "name" : "BiopsyReports",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "value" : {
                           "name" : "HighestRankedInterpretation",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "BiopsyInterpretation",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "type" : "Query",
                                 "source" : [ {
                                    "alias" : "X",
                                    "expression" : {
                                       "path" : "conclusionCode",
                                       "scope" : "B",
                                       "type" : "Property"
                                    }
                                 } ],
                                 "return" : {
                                    "distinct" : false,
                                    "expression" : {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "X",
                                          "type" : "AliasRef"
                                       } ]
                                    }
                                 }
                              } ]
                           } ]
                        }
                     }, {
                        "name" : "allConclusions",
                        "value" : {
                           "path" : "conclusionCode",
                           "scope" : "B",
                           "type" : "Property"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "name" : "DiagnosticReportDate",
                           "libraryName" : "Common",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "B",
                              "type" : "AliasRef"
                           } ]
                        }
                     } ]
                  }
               },
               "sort" : {
                  "by" : [ {
                     "direction" : "desc",
                     "path" : "date",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "MostRecentBiopsyReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "type" : "Count",
                        "source" : {
                           "name" : "SortedBiopsyReports",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Indexer",
                  "operand" : [ {
                     "name" : "SortedBiopsyReports",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "0",
                     "type" : "Literal"
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "allConclusions",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}CodeableConcept",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "date",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "MostRecentBiopsyResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "path" : "riskTableInput",
               "type" : "Property",
               "source" : {
                  "name" : "MostRecentBiopsyReport",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "MostRecentBiopsyReferralPeriod",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "lowClosed" : true,
               "highClosed" : false,
               "type" : "Interval",
               "low" : {
                  "type" : "Subtract",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentBiopsyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "name" : "BiopsyReferralPeriod",
                     "type" : "ParameterRef"
                  } ]
               },
               "high" : {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentBiopsyReport",
                     "type" : "ExpressionRef"
                  }
               }
            }
         }, {
            "name" : "ReferringHpvResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "In",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHpvReport",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "name" : "MostRecentBiopsyReferralPeriod",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "then" : {
                  "name" : "MostRecentHpvResult",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "SecondMostRecentHpvReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "MostRecentBiopsyReferralPeriod",
                           "type" : "ExpressionRef"
                        } ]
                     }
                  },
                  "then" : {
                     "name" : "SecondMostRecentHpvResult",
                     "type" : "ExpressionRef"
                  },
                  "else" : {
                     "type" : "If",
                     "condition" : {
                        "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "type" : "As",
                        "operand" : {
                           "type" : "In",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "ThirdMostRecentHpvReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "name" : "MostRecentBiopsyReferralPeriod",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     },
                     "then" : {
                        "name" : "ThirdMostRecentHpvResult",
                        "type" : "ExpressionRef"
                     },
                     "else" : {
                        "type" : "If",
                        "condition" : {
                           "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                           "type" : "As",
                           "operand" : {
                              "type" : "In",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "FourthMostRecentHpvReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "name" : "MostRecentBiopsyReferralPeriod",
                                 "type" : "ExpressionRef"
                              } ]
                           }
                        },
                        "then" : {
                           "name" : "FourthMostRecentHpvResult",
                           "type" : "ExpressionRef"
                        },
                        "else" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "ALL",
                           "type" : "Literal"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "MostRecentCytologyBeforeBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "In",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "S",
                        "type" : "Property"
                     }, {
                        "name" : "MostRecentBiopsyReferralPeriod",
                        "type" : "ExpressionRef"
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "MostRecentCytologyResultBeforeBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "path" : "riskTableInput",
               "type" : "Property",
               "source" : {
                  "name" : "MostRecentCytologyBeforeBiopsy",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "ReferringCytologyResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "In",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyCotest",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "name" : "MostRecentBiopsyReferralPeriod",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "then" : {
                  "name" : "MostRecentCytologyCotestResult",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "SecondMostRecentCytologyCotest",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "MostRecentBiopsyReferralPeriod",
                           "type" : "ExpressionRef"
                        } ]
                     }
                  },
                  "then" : {
                     "name" : "SecondMostRecentCytologyCotestResult",
                     "type" : "ExpressionRef"
                  },
                  "else" : {
                     "type" : "If",
                     "condition" : {
                        "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "type" : "As",
                        "operand" : {
                           "type" : "In",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "ThirdMostRecentCytologyCotest",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "name" : "MostRecentBiopsyReferralPeriod",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     },
                     "then" : {
                        "name" : "ThirdMostRecentCytologyCotestResult",
                        "type" : "ExpressionRef"
                     },
                     "else" : {
                        "type" : "If",
                        "condition" : {
                           "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                           "type" : "As",
                           "operand" : {
                              "type" : "In",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "FourthMostRecentCytologyCotest",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "name" : "MostRecentBiopsyReferralPeriod",
                                 "type" : "ExpressionRef"
                              } ]
                           }
                        },
                        "then" : {
                           "name" : "FourthMostRecentCytologyCotestResult",
                           "type" : "ExpressionRef"
                        },
                        "else" : {
                           "type" : "If",
                           "condition" : {
                              "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                              "type" : "As",
                              "operand" : {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "IsNull",
                                    "operand" : {
                                       "name" : "MostRecentCytologyBeforeBiopsy",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }
                           },
                           "then" : {
                              "name" : "MostRecentCytologyResultBeforeBiopsy",
                              "type" : "ExpressionRef"
                           },
                           "else" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "ALL",
                              "type" : "Literal"
                           }
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "MostRecentHpvResultPostBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "After",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHpvReport",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               },
               "then" : {
                  "name" : "MostRecentHpvResult",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "MostRecentCytologyResultPostBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "After",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyCotest",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               },
               "then" : {
                  "name" : "MostRecentCytologyCotestResult",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentHpvResultPostBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "After",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentHpvReport",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               },
               "then" : {
                  "name" : "SecondMostRecentHpvResult",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentCytologyResultPostBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "After",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentCytologyCotest",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               },
               "then" : {
                  "name" : "SecondMostRecentCytologyCotestResult",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "ThirdMostRecentHpvResultPostBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "After",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "ThirdMostRecentHpvReport",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               },
               "then" : {
                  "name" : "ThirdMostRecentHpvResult",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "ThirdMostRecentCytologyResultPostBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "After",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "ThirdMostRecentCytologyCotest",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               },
               "then" : {
                  "name" : "ThirdMostRecentCytologyCotestResult",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "Cin2orCin3Biopsies",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "S",
                  "expression" : {
                     "name" : "SortedBiopsyReports",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "In",
                  "operand" : [ {
                     "path" : "riskTableInput",
                     "scope" : "S",
                     "type" : "Property"
                  }, {
                     "type" : "List",
                     "element" : [ {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CIN2",
                        "type" : "Literal"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CIN3",
                        "type" : "Literal"
                     } ]
                  } ]
               }
            }
         }, {
            "name" : "MostRecentCin2orCin3Biopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "name" : "Cin2orCin3Biopsies",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "CervicalPrecancerTreatments",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Union",
               "operand" : [ {
                  "name" : "CervicalExcisionProcedures",
                  "libraryName" : "Dash",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "CervicalAblationProcedures",
                  "libraryName" : "Dash",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "CervicalPrecancerTreatmentsAfterBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "T",
                  "expression" : {
                     "name" : "CervicalPrecancerTreatments",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "After",
                  "operand" : [ {
                     "name" : "ProcedureDate",
                     "libraryName" : "Common",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "T",
                        "type" : "AliasRef"
                     } ]
                  }, {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentCin2orCin3Biopsy",
                        "type" : "ExpressionRef"
                     }
                  } ]
               },
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "date",
                        "value" : {
                           "name" : "ProcedureDate",
                           "libraryName" : "Common",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "T",
                              "type" : "AliasRef"
                           } ]
                        }
                     } ]
                  }
               },
               "sort" : {
                  "by" : [ {
                     "direction" : "asc",
                     "path" : "date",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "DateOfLastCervicalPrecancerTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "path" : "date",
               "type" : "Property",
               "source" : {
                  "type" : "Last",
                  "source" : {
                     "name" : "CervicalPrecancerTreatmentsAfterBiopsy",
                     "type" : "ExpressionRef"
                  }
               }
            }
         }, {
            "name" : "MostRecentHpvResultAfterTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "After",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHpvReport",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "name" : "DateOfLastCervicalPrecancerTreatment",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "then" : {
                  "name" : "MostRecentHpvResult",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentHpvResultAfterTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "After",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentHpvReport",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "name" : "DateOfLastCervicalPrecancerTreatment",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "then" : {
                  "name" : "SecondMostRecentHpvResult",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "ThirdMostRecentHpvResultAfterTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "After",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "ThirdMostRecentHpvReport",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "name" : "DateOfLastCervicalPrecancerTreatment",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "then" : {
                  "name" : "ThirdMostRecentHpvResult",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "MostRecentCytologyResultAfterTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "MostRecentHpvResultAfterTreatment",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               },
               "else" : {
                  "name" : "MostRecentCytologyCotestResult",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "SecondMostRecentCytologyResultAfterTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "SecondMostRecentHpvResultAfterTreatment",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               },
               "else" : {
                  "name" : "SecondMostRecentCytologyCotestResult",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "ThirdMostRecentCytologyResultAfterTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "ThirdMostRecentHpvResultAfterTreatment",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               },
               "else" : {
                  "name" : "ThirdMostRecentCytologyCotestResult",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "MostRecentCytologyReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "type" : "Count",
                        "source" : {
                           "name" : "SortedCytologyReports",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Indexer",
                  "operand" : [ {
                     "name" : "SortedCytologyReports",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "0",
                     "type" : "Literal"
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "allConclusions",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}CodeableConcept",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "date",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "GreaterOrEqual",
               "operand" : [ {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentCytologyReport",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Subtract",
                  "operand" : [ {
                     "type" : "Now"
                  }, {
                     "value" : 5,
                     "unit" : "years",
                     "type" : "Quantity"
                  } ]
               } ]
            }
         }, {
            "name" : "CytologyInterpretedAsAgc",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "AGC",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsAis",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "AIS",
                           "libraryName" : "Dash",
                           "type" : "ValueSetRef"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsAgcOrAis",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "name" : "CytologyInterpretedAsAgc",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "CytologyInterpretedAsAis",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "CytologyInterpretedAsAtypicalEndometrialCells",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Atypical Endometrial Cells",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsAtypicalEndocervicalCells",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Atypical Endocervical Cells",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsEndocervicalAis",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Endocervical AIS",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsEndocervicalCellsFavorNeoplasia",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Endocervical Cells Favor Neoplasia",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyUnsatisfactory",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Unsatisfactory",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyAbsentTransformationZone",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Absent Transformation Zone",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsNilm",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "NILM",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsBenignEndometrialCells",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Benign Endometrial Cells",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsBenignGlandularCells",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Benign Glandular Cells",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsEndometrialStromalCells",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Endometrial Stromal Cells",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsHistiocytes",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Histiocytes",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "PremenopausalObservations",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Verified",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "type" : "Union",
                  "operand" : [ {
                     "type" : "Union",
                     "operand" : [ {
                        "dataType" : "{http://hl7.org/fhir}Observation",
                        "templateId" : "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty" : "code",
                        "codeComparator" : "in",
                        "type" : "Retrieve",
                        "codes" : {
                           "name" : "Premenopausal",
                           "type" : "ValueSetRef"
                        }
                     }, {
                        "dataType" : "{http://hl7.org/fhir}Observation",
                        "templateId" : "http://hl7.org/fhir/StructureDefinition/Observation",
                        "codeProperty" : "code",
                        "codeComparator" : "~",
                        "type" : "Retrieve",
                        "codes" : {
                           "type" : "ToList",
                           "operand" : {
                              "name" : "Premenopausal Menorrhagia",
                              "type" : "CodeRef"
                           }
                        }
                     } ]
                  }, {
                     "dataType" : "{http://hl7.org/fhir}Observation",
                     "templateId" : "http://hl7.org/fhir/StructureDefinition/Observation",
                     "codeProperty" : "code",
                     "codeComparator" : "~",
                     "type" : "Retrieve",
                     "codes" : {
                        "type" : "ToList",
                        "operand" : {
                           "name" : "Excessive Bleeding in the Premenopausal Period",
                           "type" : "CodeRef"
                        }
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "HasPremenopausalObservation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "PremenopausalObservations",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "PostmenopausalObservations",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Verified",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}Observation",
                  "templateId" : "http://hl7.org/fhir/StructureDefinition/Observation",
                  "codeProperty" : "code",
                  "codeComparator" : "~",
                  "type" : "Retrieve",
                  "codes" : {
                     "type" : "ToList",
                     "operand" : {
                        "name" : "Postmenopausal",
                        "type" : "CodeRef"
                     }
                  }
               } ]
            }
         }, {
            "name" : "HasPostmenopausalObservation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "PostmenopausalObservations",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "Pregnant",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "PregnancyDiagnoses",
                     "libraryName" : "Dash",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "PregnancyObservations",
                     "libraryName" : "Dash",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "HistologyInterpretedAsCin2",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "CIN2",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "HistologyInterpretedAsCin3",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "CIN3",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "HistologyInterpretedAsAis",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "AIS",
                           "libraryName" : "Dash",
                           "type" : "ValueSetRef"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "HistologyInterpretedAsCancer",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "Histologic cancer",
                           "libraryName" : "Dash",
                           "type" : "ValueSetRef"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "AnyHistologyInterpretedAsCancer",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "type" : "Flatten",
                        "operand" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "$this",
                              "expression" : {
                                 "name" : "SortedBiopsyReports",
                                 "type" : "ExpressionRef"
                              }
                           } ],
                           "where" : {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "path" : "allConclusions",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "$this",
                                       "type" : "AliasRef"
                                    }
                                 }
                              }
                           },
                           "return" : {
                              "distinct" : false,
                              "expression" : {
                                 "path" : "allConclusions",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "$this",
                                    "type" : "AliasRef"
                                 }
                              }
                           }
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "Histologic cancer",
                           "libraryName" : "Dash",
                           "type" : "ValueSetRef"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "HistologyInterpretedAsCin2Cin3AisOrCancer",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Or",
                  "operand" : [ {
                     "type" : "Or",
                     "operand" : [ {
                        "name" : "HistologyInterpretedAsCin2",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "HistologyInterpretedAsCin3",
                        "type" : "ExpressionRef"
                     } ]
                  }, {
                     "name" : "HistologyInterpretedAsAis",
                     "type" : "ExpressionRef"
                  } ]
               }, {
                  "name" : "HistologyInterpretedAsCancer",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "AnyHpvSinceMostRecentCytology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "B",
                     "expression" : {
                        "name" : "SortedHpvReports",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "GreaterOrEqual",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "B",
                        "type" : "Property"
                     }, {
                        "type" : "Subtract",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 1,
                           "unit" : "day",
                           "type" : "Quantity"
                        } ]
                     } ]
                  }
               }
            }
         }, {
            "name" : "NegativeOrUnknownHpvCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "In",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHpvReport",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "low" : {
                           "type" : "Subtract",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 1,
                              "unit" : "day",
                              "type" : "Quantity"
                           } ]
                        },
                        "high" : {
                           "type" : "Add",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 1,
                              "unit" : "day",
                              "type" : "Quantity"
                           } ]
                        }
                     } ]
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }
                     }
                  } ]
               }, {
                  "type" : "AnyTrue",
                  "source" : {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "aC",
                        "expression" : {
                           "path" : "allConclusions",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentHpvReport",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ],
                     "relationship" : [ ],
                     "return" : {
                        "expression" : {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "Negative HPV Finding",
                                       "libraryName" : "Dash",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              }, {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "Unknown",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "InValueSet",
                                 "code" : {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 },
                                 "valueset" : {
                                    "name" : "All Results of High Risk HPV Test",
                                    "type" : "ValueSetRef"
                                 }
                              }
                           } ]
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "PositiveHpvCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "In",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHpvReport",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "low" : {
                           "type" : "Subtract",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 1,
                              "unit" : "day",
                              "type" : "Quantity"
                           } ]
                        },
                        "high" : {
                           "type" : "Add",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 1,
                              "unit" : "day",
                              "type" : "Quantity"
                           } ]
                        }
                     } ]
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }
                     }
                  } ]
               }, {
                  "type" : "AnyTrue",
                  "source" : {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "aC",
                        "expression" : {
                           "path" : "allConclusions",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentHpvReport",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ],
                     "relationship" : [ ],
                     "return" : {
                        "expression" : {
                           "type" : "Equivalent",
                           "operand" : [ {
                              "name" : "ToConcept",
                              "libraryName" : "FHIRHelpers",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "aC",
                                 "type" : "AliasRef"
                              } ]
                           }, {
                              "type" : "ToConcept",
                              "operand" : {
                                 "name" : "Positive HPV Finding",
                                 "libraryName" : "Dash",
                                 "type" : "CodeRef"
                              }
                           } ]
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "PositiveHpv16or18Cotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "In",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHpvReport",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "low" : {
                           "type" : "Subtract",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 1,
                              "unit" : "day",
                              "type" : "Quantity"
                           } ]
                        },
                        "high" : {
                           "type" : "Add",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 1,
                              "unit" : "day",
                              "type" : "Quantity"
                           } ]
                        }
                     } ]
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }
                     }
                  } ]
               }, {
                  "type" : "AnyTrue",
                  "source" : {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "aC",
                        "expression" : {
                           "path" : "allConclusions",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentHpvReport",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ],
                     "relationship" : [ ],
                     "return" : {
                        "expression" : {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Equivalent",
                                    "operand" : [ {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    }, {
                                       "type" : "ToConcept",
                                       "operand" : {
                                          "name" : "HPV16+ Antigen",
                                          "type" : "CodeRef"
                                       }
                                    } ]
                                 }, {
                                    "type" : "Equivalent",
                                    "operand" : [ {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    }, {
                                       "type" : "ToConcept",
                                       "operand" : {
                                          "name" : "HPV16+ DNA",
                                          "type" : "CodeRef"
                                       }
                                    } ]
                                 } ]
                              }, {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "HPV18+ Antigen",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              } ]
                           }, {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "ToConcept",
                                 "libraryName" : "FHIRHelpers",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "aC",
                                    "type" : "AliasRef"
                                 } ]
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "HPV18+ DNA",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           } ]
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "HasRemovalOfCervixProcedures",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "RemovalOfCervixProcedures",
                  "libraryName" : "Dash",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "HasAbsenceOfCervixDiagnoses",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "AbsenceOfCervixDiagnoses",
                  "libraryName" : "Dash",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "HasAbsenceOfCervixObservations",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "AbsenceOfCervixObservations",
                  "libraryName" : "Dash",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "AbsenceOrRemovalOfCervix",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Or",
                  "operand" : [ {
                     "name" : "HasRemovalOfCervixProcedures",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "HasAbsenceOfCervixDiagnoses",
                     "type" : "ExpressionRef"
                  } ]
               }, {
                  "name" : "HasAbsenceOfCervixObservations",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "RecommendationForRareCytology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "Less",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "35",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "name" : "CytologyInterpretedAsAgcOrAis",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "CytologyInterpretedAsAtypicalEndometrialCells",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "Pregnant",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "For nonpregnant patients of all ages with all subcategories of AGC and AIS, except when atypical endometrial cells are specified, colposcopy is recommended regardless of HPV test result; endocervical sampling is recommended at initial colposcopy except in pregnancy (for management in pregnancy, see Section K.2) (AII). Accordingly, triage by reflex HPV testing is not recommended, and triage by repeat cytology is unacceptable (DII). Endometrial sampling is also recommended for nonpregnant patients younger than 35 years at increased risk of endometrial neoplasia based on clinical indications (e.g., abnormal uterine bleeding, conditions suggesting chronic anovulation, or obesity) (AII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "35",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "name" : "CytologyInterpretedAsAgcOrAis",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "CytologyInterpretedAsAtypicalEndometrialCells",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "Pregnant",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "For nonpregnant patients of all ages with all subcategories of AGC and AIS, except when atypical endometrial cells are specified, colposcopy is recommended regardless of HPV test result; endocervical sampling is recommended at initial colposcopy except in pregnancy (for management in pregnancy, see Section K.2) (AII). Accordingly, triage by reflex HPV testing is not recommended, and triage by repeat cytology is unacceptable (DII). Endometrial sampling is recommended in conjunction with colposcopy and endocervical sampling in nonpregnant patients 35 years or older with all categories of AGC and AIS (AII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "CytologyInterpretedAsAgcOrAis",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "CytologyInterpretedAsAtypicalEndometrialCells",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "Pregnant",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "For patients with atypical endometrial cells specified, initial evaluation limited to endometrial and endocervical sampling is preferred, with colposcopy acceptable at the time of initial evaluation. If colposcopy was deferred and no endometrial pathology is identified, additional evaluation with colposcopy is then recommended.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              }, {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "name" : "CytologyInterpretedAsAgc",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "name" : "CytologyInterpretedAsAtypicalEndometrialCells",
                                    "type" : "ExpressionRef"
                                 } ]
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "CytologyInterpretedAsAtypicalEndometrialCells",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "GreaterOrEqual",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentBiopsyReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "type" : "Subtract",
                                 "operand" : [ {
                                    "type" : "Now"
                                 }, {
                                    "value" : 1,
                                    "unit" : "year",
                                    "type" : "Quantity"
                                 } ]
                              } ]
                           }, {
                              "type" : "LessOrEqual",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentBiopsyReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "type" : "Add",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 1,
                                    "unit" : "year",
                                    "type" : "Quantity"
                                 } ]
                              } ]
                           } ]
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "HistologyInterpretedAsCin2Cin3AisOrCancer",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Cotesting at 1 and 2 years is recommended.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "CytologyInterpretedAsAgcOrAis",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "Or",
                           "operand" : [ {
                              "name" : "CytologyInterpretedAsEndocervicalAis",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "CytologyInterpretedAsEndocervicalCellsFavorNeoplasia",
                              "type" : "ExpressionRef"
                           } ]
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "Or",
                           "operand" : [ {
                              "name" : "HasCervicalCancerDiagnoses",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "AnyHistologyInterpretedAsCancer",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "For patients with atypical glandular or endocervical cells “favor neoplasia” or endocervical AIS cytology, if invasive disease is not identified during initial colposcopic workup, a diagnostic excisional procedure is recommended. The diagnostic excisional procedure used in this setting should provide an intact specimen with interpretable margins (BII). Endocervical sampling above the excisional bed is preferred (BII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "CytologyUnsatisfactory",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Not",
                           "operand" : {
                              "name" : "AnyHpvSinceMostRecentCytology",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "NegativeOrUnknownHpvCotest",
                           "type" : "ExpressionRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "For patients with an unsatisfactory cytology result and no, unknown, or a negative HPV test result, repeat age-based screening (cytology, cotest, or primary HPV test) in 2 to 4 months is recommended (BIII). Triage using HPV testing is not recommended (DIII). Before repeat cytology, treatment to resolve atrophy or obscuring inflammation when a specific infection is present is acceptable (CIII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "CytologyUnsatisfactory",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "PositiveHpvCotest",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "25",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "For patients 25 years and older who are cotested and have unsatisfactory cytology and a positive HPV test without genotyping, repeat cytology in 2 to 4 months or colposcopy is acceptable (BII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "CytologyUnsatisfactory",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "PositiveHpv16or18Cotest",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "25",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "For patients 25 years and older who are cotested and have unsatisfactory cytology and a positive HPV test with partial genotyping is positive for HPV 16 or HPV 18, direct referral for colposcopy is recommended (BII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "In",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "lowClosed" : true,
                                 "highClosed" : false,
                                 "type" : "Interval",
                                 "low" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "21",
                                    "type" : "Literal"
                                 },
                                 "high" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "30",
                                    "type" : "Literal"
                                 }
                              } ]
                           }, {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "CytologyAbsentTransformationZone",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "CytologyInterpretedAsNilm",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Routine screening is recommended (BIII). When cervical cytology alone is performed for screening, HPV testing as a triage test after negative cytology and absent endocervical cells/transformation zone component in this age group is unacceptable (DIII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "30",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "name" : "CytologyAbsentTransformationZone",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "CytologyInterpretedAsNilm",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Not",
                           "operand" : {
                              "name" : "AnyHpvSinceMostRecentCytology",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "NegativeOrUnknownHpvCotest",
                           "type" : "ExpressionRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "HPV testing is preferred (BIII). Repeat cytology in 3 years is acceptable if HPV testing is not performed (BIII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "HasPremenopausalObservation",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Or",
                           "operand" : [ {
                              "name" : "CytologyInterpretedAsBenignEndometrialCells",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "CytologyInterpretedAsEndometrialStromalCells",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "CytologyInterpretedAsHistiocytes",
                           "type" : "ExpressionRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "No further evaluation is recommended (BII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "HasPostmenopausalObservation",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "CytologyInterpretedAsBenignEndometrialCells",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Endometrial assessment is recommended (BII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "AbsenceOrRemovalOfCervix",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "CytologyInterpretedAsBenignGlandularCells",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "No further evaluation is recommended (BII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "action",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Any",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "text",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsAscH",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "ASC-H",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentCytologyReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "type" : "Count",
                        "source" : {
                           "name" : "SortedCytologyReports",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Indexer",
                  "operand" : [ {
                     "name" : "SortedCytologyReports",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "allConclusions",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}CodeableConcept",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "date",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "TwoMostRecentCytologyReportsWithin5yearsApart",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "In",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "SecondMostRecentCytologyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "lowClosed" : true,
                     "highClosed" : true,
                     "type" : "Interval",
                     "low" : {
                        "type" : "Subtract",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 5,
                           "unit" : "years",
                           "type" : "Quantity"
                        } ]
                     },
                     "high" : {
                        "type" : "Add",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 5,
                           "unit" : "years",
                           "type" : "Quantity"
                        } ]
                     }
                  } ]
               }, {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "SecondMostRecentCytologyUnsatisfactory",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Unsatisfactory",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "RecommendationForExceptionsToColposcopyThreshold",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "CytologyInterpretedAsAscH",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "For patients with ASC-H cytology, colposcopy is recommended regardless of hrHPV result (AII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "PositiveHpv16or18Cotest",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "CytologyInterpretedAsNilm",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "For patients with hrHPV 18–positive NILM or hrHPV 16-positive NILM, colposcopy is recommended (AII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "CytologyUnsatisfactory",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "TwoMostRecentCytologyReportsWithin5yearsApart",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "SecondMostRecentCytologyUnsatisfactory",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy should be performed after 2 consecutive unsatisfactory screening tests (CIII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "action",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Any",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "text",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "MostRecentBiopsyReportWasWithinPastYear",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "GreaterOrEqual",
               "operand" : [ {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentBiopsyReport",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Subtract",
                  "operand" : [ {
                     "type" : "Now"
                  }, {
                     "value" : 1,
                     "unit" : "year",
                     "type" : "Quantity"
                  } ]
               } ]
            }
         }, {
            "name" : "HistologyInterpretedAsUnspecifiedHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "HSIL, Unspecified",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "HistologyInterpretedAsCin1",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "CIN1",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "HistologyInterpretedAsNormal",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Biopsy Normal",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "PrecedingCytologyResults",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "LessOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentBiopsyReport",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentBiopsyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 1,
                              "unit" : "year",
                              "type" : "Quantity"
                           } ]
                        } ]
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "PrecedingCytologyIsHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "PrecedingCytologyResults",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "HSIL",
                           "type" : "ValueSetRef"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "PrecedingCytologyIsAscH",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "PrecedingCytologyResults",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "ASC-H",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentBiopsyReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "type" : "Count",
                        "source" : {
                           "name" : "SortedBiopsyReports",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Indexer",
                  "operand" : [ {
                     "name" : "SortedBiopsyReports",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "allConclusions",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}CodeableConcept",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "date",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentHistologyInterpretedAsCin1",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "CIN1",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentHistologyInterpretedAsNormal",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Biopsy Normal",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "MostRecentBiopsyReportWasWithinPast18months",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "GreaterOrEqual",
               "operand" : [ {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentBiopsyReport",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Subtract",
                  "operand" : [ {
                     "type" : "Now"
                  }, {
                     "value" : 18,
                     "unit" : "months",
                     "type" : "Quantity"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentBiopsyReportWasBetween12and18monthsAgo",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "GreaterOrEqual",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentBiopsyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "type" : "Subtract",
                     "operand" : [ {
                        "type" : "Now"
                     }, {
                        "value" : 18,
                        "unit" : "months",
                        "type" : "Quantity"
                     } ]
                  } ]
               }, {
                  "type" : "Less",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentBiopsyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "type" : "Subtract",
                     "operand" : [ {
                        "type" : "Now"
                     }, {
                        "value" : 12,
                        "unit" : "months",
                        "type" : "Quantity"
                     } ]
                  } ]
               } ]
            }
         }, {
            "name" : "TwoMostRecentBiopsyReportsWithin18monthsApart",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "In",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "SecondMostRecentBiopsyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "lowClosed" : true,
                     "highClosed" : true,
                     "type" : "Interval",
                     "low" : {
                        "type" : "Subtract",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentBiopsyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 18,
                           "unit" : "months",
                           "type" : "Quantity"
                        } ]
                     },
                     "high" : {
                        "type" : "Add",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentBiopsyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 18,
                           "unit" : "months",
                           "type" : "Quantity"
                        } ]
                     }
                  } ]
               }, {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "SecondMostRecentBiopsyReportWasBetween18and36monthsAgo",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "GreaterOrEqual",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "SecondMostRecentBiopsyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "type" : "Subtract",
                     "operand" : [ {
                        "type" : "Now"
                     }, {
                        "value" : 36,
                        "unit" : "months",
                        "type" : "Quantity"
                     } ]
                  } ]
               }, {
                  "type" : "Less",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "SecondMostRecentBiopsyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "type" : "Subtract",
                     "operand" : [ {
                        "type" : "Now"
                     }, {
                        "value" : 18,
                        "unit" : "months",
                        "type" : "Quantity"
                     } ]
                  } ]
               } ]
            }
         }, {
            "name" : "RecommendationForHistologyResults",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "MostRecentBiopsyReportWasWithinPastYear",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HistologyInterpretedAsUnspecifiedHsil",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment is preferred if histologic HSIL cannot be specified (e.g., reported as histologic HSIL or histologic HSIL [CIN 2,3]) (CIII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "GreaterOrEqual",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "25",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "Pregnant",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "name" : "MostRecentBiopsyReportWasWithinPastYear",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HistologyInterpretedAsCin3",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment is recommended, and observation is unacceptable (AII). When treatment of histologic HSIL is planned, excisional treatment is preferred, and treatment with ablation is acceptable (BI). Outside of the setting of a clinical research trial, nonsurgical therapies, including topical agents, therapeutic vaccines, and other biologics, are unacceptable for the treatment of histologic HSIL (CIN 2 or CIN 3) (DIII). Hysterectomy is unacceptable as primary therapy solely for the treatment of histologic HSIL (CIN 2, CIN 3, or unqualified) (EII). When considering ablative therapy, in particular cryotherapy, ablation is unacceptable in the following circumstances as defined by the WHO: (a) the lesion extends into the canal and (b) when the lesion covers more than 75% of the surface area of the ectocervix or extends beyond the cryotip being used.97 Additional situations for which cryotherapy is not recommended include the following: (a) the squamocolumnar junction or the upper limit of any lesion is not fully visualized; (b) endocervical canal sample is diagnosed as CIN 2+ or CIN that cannot be graded; (c) after previous treatment for CIN 2+; (d) in the setting of inadequate biopsies of the cervix to confirm histologic diagnosis; and (e) if cancer is suspected (EIII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "GreaterOrEqual",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "25",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "Pregnant",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "name" : "MostRecentBiopsyReportWasWithinPastYear",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HistologyInterpretedAsCin2",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment is recommended, unless the patient's concerns about the effect of treatment on future pregnancy outweigh concerns about cancer (BII). Observation is unacceptable when the squamocolumnar junction or the upper limit of the lesion is not fully visualized or when the results of an endocervical sampling, if performed, is CIN 2+ or ungraded (EIII). When treatment of histologic HSIL is planned, excisional treatment is preferred, and treatment with ablation is acceptable (BI). Outside of the setting of a clinical research trial, nonsurgical therapies, including topical agents, therapeutic vaccines, and other biologics, are unacceptable for the treatment of histologic HSIL (CIN 2 or CIN 3) (DIII). Hysterectomy is unacceptable as primary therapy solely for the treatment of histologic HSIL (CIN 2, CIN 3, or unqualified) (EII). When considering ablative therapy, in particular cryotherapy, ablation is unacceptable in the following circumstances as defined by the WHO: (a) the lesion extends into the canal and (b) when the lesion covers more than 75% of the surface area of the ectocervix or extends beyond the cryotip being used.97 Additional situations for which cryotherapy is not recommended include the following: (a) the squamocolumnar junction or the upper limit of any lesion is not fully visualized; (b) endocervical canal sample is diagnosed as CIN 2+ or CIN that cannot be graded; (c) after previous treatment for CIN 2+; (d) in the setting of inadequate biopsies of the cervix to confirm histologic diagnosis; and (e) if cancer is suspected (EIII). For patients with a diagnosis of histologic HSIL (CIN 2) whose concerns about the effects of treatment on a future pregnancy outweigh their concerns about cancer, either observation or treatment is acceptable provided the squamocolumnar junction is visible and CIN 2+ or ungraded CIN is not identified on endocervical sampling (CII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "GreaterOrEqual",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "25",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "name" : "MostRecentBiopsyReportWasWithinPastYear",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "Or",
                           "operand" : [ {
                              "name" : "HistologyInterpretedAsCin1",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "HistologyInterpretedAsNormal",
                              "type" : "ExpressionRef"
                           } ]
                        } ]
                     }, {
                        "name" : "PrecedingCytologyIsHsil",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "For cytology showing HSIL, but biopsy showing histologic LSIL (CIN 1) or less, either an immediate diagnostic excisional procedure or observation with HPV-based testing and colposcopy at 1 year is acceptable, provided in the latter case that the initial colposcopic examination fully visualized the squamocolumnar junction and the upper limit of any lesion, and that the endocervical sampling, if collected, was less than CIN 2 (BII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "GreaterOrEqual",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "25",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "name" : "MostRecentBiopsyReportWasWithinPastYear",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "Or",
                           "operand" : [ {
                              "name" : "HistologyInterpretedAsCin1",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "HistologyInterpretedAsNormal",
                              "type" : "ExpressionRef"
                           } ]
                        } ]
                     }, {
                        "name" : "PrecedingCytologyIsAscH",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "If the colposcopic examination can fully visualize the squamocolumnar junction and the upper limit of any lesion and that the endocervical sampling, if collected, is negative, observation at 1 year with HPV-based testing is recommended; a diagnostic excisional procedure is not recommended (BII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "25",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "name" : "MostRecentBiopsyReportWasWithinPast18months",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "name" : "HistologyInterpretedAsCin1",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "SecondMostRecentHistologyInterpretedAsCin1",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "TwoMostRecentBiopsyReportsWithin18monthsApart",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Observation is preferred (BII) but treatment is acceptable (CIII). If treatment is selected and the entire squamocolumnar junction and all lesions were fully visualized during colposcopic examination, either excision or ablation treatments are acceptable (CII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "MostRecentBiopsyReportWasWithinPastYear",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HistologyInterpretedAsAis",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "A diagnostic excisional procedure is recommended for all patients with a diagnosis of AIS on cervical biopsy to rule out invasive adenocarcinoma, even when definitive hysterectomy is planned. Excisional procedures should optimally remove an intact specimen to facilitate accurate interpretation of margin status. Although there is no preference for cold knife conization versus LEEP, intentional disruption of the specimen by performance of a LEEP followed by a “top hat” endocervical excision to achieve the desired specimen length is unacceptable. An excisional specimen length of at least 10 mm is preferred, and this can be increased to 18 to 20 mm for patients who are not concerned about the effect of treatment on future pregnancy. These dimensions are preferred regardless of whether hysterectomy is planned. After the initial diagnostic procedure, hysterectomy is the preferred management for all patients who have a histologic diagnosis of AIS, although fertility-sparing management for appropriately selected patients is acceptable. For patients with confirmed AIS with negative margins on the excisional specimen, simple hysterectomy is preferred. For patients with confirmed AIS with positive margins on the excisional specimen, re-excision to achieve negative margins is preferred, even if hysterectomy is planned. For patients with AIS and persistent positive margins for whom additional excisional procedures are not feasible, either a simple or modified radical hysterectomy is acceptable. After hysterectomy, surveillance per the ASCCP surveillance guidelines for treated CIN 2+ is recommended (Section J.3).\n\nFor patients of reproductive age who desire future pregnancy, fertility-sparing management with an excisional procedure is acceptable provided that negative margins have been achieved on the excisional specimen, and the patient is willing and able to adhere to surveillance recommendations. If negative margins cannot be achieved after maximal excisional attempts, fertility-sparing management is not recommended. For patients who undergo fertility-sparing management, surveillance with cotesting and endocervical sampling is recommended every 6 months for at least 3 years, then annually for at least 2 years, or until hysterectomy is performed. For patients who have consistently negative cotesting and endocervical sampling results for 5 years, extending the surveillance interval to every 3 years starting in the sixth year of surveillance is acceptable. Small retrospective studies have shown HPV test results to be the best predictor for recurrent disease. Therefore, for patients who have consistently negative cotesting and endocervical sampling results, continued surveillance is acceptable after completion of childbearing. For patients who have had positive HPV test results or abnormal cytology/histologic results during surveillance, hysterectomy at the completion of childbearing is preferred (see Figure 11).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "action",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Any",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "text",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "CervicalExcisionOrAblativeProceduresInLast25years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "P",
                  "expression" : {
                     "type" : "Union",
                     "operand" : [ {
                        "name" : "CervicalExcisionProcedures",
                        "libraryName" : "Dash",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "CervicalAblationProcedures",
                        "libraryName" : "Dash",
                        "type" : "ExpressionRef"
                     } ]
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "GreaterOrEqual",
                  "operand" : [ {
                     "name" : "ProcedureDate",
                     "libraryName" : "Common",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "P",
                        "type" : "AliasRef"
                     } ]
                  }, {
                     "type" : "Subtract",
                     "operand" : [ {
                        "type" : "Now"
                     }, {
                        "value" : 25,
                        "unit" : "years",
                        "type" : "Quantity"
                     } ]
                  } ]
               }
            }
         }, {
            "name" : "HasCervicalExcisionOrAblativeProceduresInLast25years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "CervicalExcisionOrAblativeProceduresInLast25years",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "MostRecentExicisionOrAblativeProcedure",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "MostRecentProcedure",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "CervicalExcisionOrAblativeProceduresInLast25years",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "DateOfMostRecentExicisionOrAblativeProcedure",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ProcedureDate",
               "libraryName" : "Common",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecentExicisionOrAblativeProcedure",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "PrecedingHistologyResults",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "B",
                  "expression" : {
                     "name" : "SortedBiopsyReports",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "LessOrEqual",
                  "operand" : [ {
                     "path" : "date",
                     "scope" : "B",
                     "type" : "Property"
                  }, {
                     "name" : "DateOfMostRecentExicisionOrAblativeProcedure",
                     "type" : "ExpressionRef"
                  } ]
               }
            }
         }, {
            "name" : "HasPrecedingHistologyResults",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "PrecedingHistologyResults",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "MostRecentPrecedingHistologyResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "name" : "PrecedingHistologyResults",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "MostRecentPrecedingHistologyIntepretedAsHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "type" : "Flatten",
                        "operand" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "$this",
                              "expression" : {
                                 "name" : "PrecedingHistologyResults",
                                 "type" : "ExpressionRef"
                              }
                           } ],
                           "where" : {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "path" : "allConclusions",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "$this",
                                       "type" : "AliasRef"
                                    }
                                 }
                              }
                           },
                           "return" : {
                              "distinct" : false,
                              "expression" : {
                                 "path" : "allConclusions",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "$this",
                                    "type" : "AliasRef"
                                 }
                              }
                           }
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Equivalent",
                           "operand" : [ {
                              "name" : "ToConcept",
                              "libraryName" : "FHIRHelpers",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "aC",
                                 "type" : "AliasRef"
                              } ]
                           }, {
                              "type" : "ToConcept",
                              "operand" : {
                                 "name" : "CIN2",
                                 "libraryName" : "Dash",
                                 "type" : "CodeRef"
                              }
                           } ]
                        }, {
                           "type" : "Equivalent",
                           "operand" : [ {
                              "name" : "ToConcept",
                              "libraryName" : "FHIRHelpers",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "aC",
                                 "type" : "AliasRef"
                              } ]
                           }, {
                              "type" : "ToConcept",
                              "operand" : {
                                 "name" : "CIN3",
                                 "libraryName" : "Dash",
                                 "type" : "CodeRef"
                              }
                           } ]
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "RecommendationForSurveillanceAfterAbnormalities",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "HasCervicalExcisionOrAblativeProceduresInLast25years",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "HasPrecedingHistologyResults",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "MostRecentPrecedingHistologyIntepretedAsHsil",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "After treatment, hrHPV-based testing at 6 months is referred regardless of the margin status of the excisional specimen (BII).",
                           "type" : "Literal"
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "action",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Any",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "text",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "RareAbnormalityRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "name" : "RecommendationForSurveillanceAfterAbnormalities",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "RecommendationForHistologyResults",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "RecommendationForExceptionsToColposcopyThreshold",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "RecommendationForRareCytology",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "WhichRarityMadeTheRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForSurveillanceAfterAbnormalities",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "4",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForHistologyResults",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "3",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForExceptionsToColposcopyThreshold",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForRareCytology",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  }
               } ],
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "MostRecentCytologyReportWasBetween12and18monthsAgo",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "GreaterOrEqual",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentCytologyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "type" : "Subtract",
                     "operand" : [ {
                        "type" : "Now"
                     }, {
                        "value" : 18,
                        "unit" : "months",
                        "type" : "Quantity"
                     } ]
                  } ]
               }, {
                  "type" : "Less",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentCytologyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "type" : "Subtract",
                     "operand" : [ {
                        "type" : "Now"
                     }, {
                        "value" : 12,
                        "unit" : "months",
                        "type" : "Quantity"
                     } ]
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentCytologyReportWasWithinPastYear",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "GreaterOrEqual",
               "operand" : [ {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentCytologyReport",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Subtract",
                  "operand" : [ {
                     "type" : "Now"
                  }, {
                     "value" : 1,
                     "unit" : "year",
                     "type" : "Quantity"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentCytologyReportWasWithinPastThreeYears",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "GreaterOrEqual",
               "operand" : [ {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentCytologyReport",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Subtract",
                  "operand" : [ {
                     "type" : "Now"
                  }, {
                     "value" : 3,
                     "unit" : "years",
                     "type" : "Quantity"
                  } ]
               } ]
            }
         }, {
            "name" : "CytologyInterpretedAsLsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "LSIL",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsAscus",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "ASC-US",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "HSIL",
                           "type" : "ValueSetRef"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentCytologyInterpretedAsLsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "LSIL",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentCytologyInterpretedAsAscus",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "ASC-US",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "AssociatedHpvCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "H",
                     "expression" : {
                        "name" : "SortedHpvReports",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "H",
                           "type" : "Property"
                        }, {
                           "lowClosed" : true,
                           "highClosed" : true,
                           "type" : "Interval",
                           "low" : {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "SecondMostRecentCytologyReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "day",
                                 "type" : "Quantity"
                              } ]
                           },
                           "high" : {
                              "type" : "Add",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "SecondMostRecentCytologyReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "day",
                                 "type" : "Quantity"
                              } ]
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondMostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "ColposcopySinceMostRecentCytology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "P",
                     "expression" : {
                        "name" : "ColposcopyProcedures",
                        "libraryName" : "Dash",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "GreaterOrEqual",
                     "operand" : [ {
                        "name" : "ProcedureDate",
                        "libraryName" : "Common",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "P",
                           "type" : "AliasRef"
                        } ]
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "MostRecentHsilHistologyWithinLastTwoYears",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "B",
                     "expression" : {
                        "name" : "SortedBiopsyReports",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "B",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "type" : "Now"
                           }, {
                              "value" : 2,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "B",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Or",
                                    "operand" : [ {
                                       "type" : "Equivalent",
                                       "operand" : [ {
                                          "name" : "ToConcept",
                                          "libraryName" : "FHIRHelpers",
                                          "type" : "FunctionRef",
                                          "operand" : [ {
                                             "name" : "aC",
                                             "type" : "AliasRef"
                                          } ]
                                       }, {
                                          "type" : "ToConcept",
                                          "operand" : {
                                             "name" : "HSIL, Unspecified",
                                             "libraryName" : "Dash",
                                             "type" : "CodeRef"
                                          }
                                       } ]
                                    }, {
                                       "type" : "Equivalent",
                                       "operand" : [ {
                                          "name" : "ToConcept",
                                          "libraryName" : "FHIRHelpers",
                                          "type" : "FunctionRef",
                                          "operand" : [ {
                                             "name" : "aC",
                                             "type" : "AliasRef"
                                          } ]
                                       }, {
                                          "type" : "ToConcept",
                                          "operand" : {
                                             "name" : "CIN2",
                                             "libraryName" : "Dash",
                                             "type" : "CodeRef"
                                          }
                                       } ]
                                    } ]
                                 }, {
                                    "type" : "Equivalent",
                                    "operand" : [ {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    }, {
                                       "type" : "ToConcept",
                                       "operand" : {
                                          "name" : "CIN3",
                                          "libraryName" : "Dash",
                                          "type" : "CodeRef"
                                       }
                                    } ]
                                 } ]
                              }
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "SubsequentLowGradeHistologyReports",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "B",
                  "expression" : {
                     "name" : "SortedBiopsyReports",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "Greater",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "B",
                        "type" : "Property"
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHsilHistologyWithinLastTwoYears",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }, {
                     "type" : "AnyTrue",
                     "source" : {
                        "type" : "Query",
                        "source" : [ {
                           "alias" : "aC",
                           "expression" : {
                              "path" : "allConclusions",
                              "scope" : "B",
                              "type" : "Property"
                           }
                        } ],
                        "relationship" : [ ],
                        "return" : {
                           "expression" : {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "CIN1",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              }, {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "Biopsy Normal",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              } ]
                           }
                        }
                     }
                  } ]
               }
            }
         }, {
            "name" : "SubsequentLowGradeCytologyReports",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "C",
                  "expression" : {
                     "name" : "SortedCytologyReports",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "Greater",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "C",
                        "type" : "Property"
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHsilHistologyWithinLastTwoYears",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }, {
                     "type" : "AnyTrue",
                     "source" : {
                        "type" : "Query",
                        "source" : [ {
                           "alias" : "aC",
                           "expression" : {
                              "path" : "allConclusions",
                              "scope" : "C",
                              "type" : "Property"
                           }
                        } ],
                        "relationship" : [ ],
                        "return" : {
                           "expression" : {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Equivalent",
                                    "operand" : [ {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    }, {
                                       "type" : "ToConcept",
                                       "operand" : {
                                          "name" : "NILM",
                                          "libraryName" : "Dash",
                                          "type" : "CodeRef"
                                       }
                                    } ]
                                 }, {
                                    "type" : "Equivalent",
                                    "operand" : [ {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    }, {
                                       "type" : "ToConcept",
                                       "operand" : {
                                          "name" : "LSIL",
                                          "type" : "CodeRef"
                                       }
                                    } ]
                                 } ]
                              }, {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "ASC-US",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              } ]
                           }
                        }
                     }
                  } ]
               }
            }
         }, {
            "name" : "SecondMostRecentHistologyInterpretedAsCin2",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "CIN2",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentHistologyInterpretedAsUnspecifiedHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "HSIL, Unspecified",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "TwoMostRecentBiopsyReportsWithin12monthsApart",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "In",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "SecondMostRecentBiopsyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "lowClosed" : true,
                     "highClosed" : true,
                     "type" : "Interval",
                     "low" : {
                        "type" : "Subtract",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentBiopsyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 12,
                           "unit" : "months",
                           "type" : "Quantity"
                        } ]
                     },
                     "high" : {
                        "type" : "Add",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentBiopsyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 12,
                           "unit" : "months",
                           "type" : "Quantity"
                        } ]
                     }
                  } ]
               }, {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "RecommendationForPatientsYoungerThan25",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Less",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "Or",
                              "operand" : [ {
                                 "name" : "CytologyInterpretedAsHsil",
                                 "type" : "ExpressionRef"
                              }, {
                                 "name" : "CytologyInterpretedAsAscH",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "name" : "CytologyInterpretedAsAgc",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "CytologyInterpretedAsAis",
                           "type" : "ExpressionRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy is recommended.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "Less",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "25",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "name" : "CytologyInterpretedAsLsil",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "type" : "And",
                                    "operand" : [ {
                                       "name" : "CytologyInterpretedAsAscus",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "type" : "IsNull",
                                       "operand" : {
                                          "name" : "MostRecentCytologyCotestResult",
                                          "type" : "ExpressionRef"
                                       }
                                    } ]
                                 } ]
                              }, {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "Equal",
                                    "operand" : [ {
                                       "name" : "MostRecentCytologyCotestResult",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                       "value" : "ASC-US",
                                       "type" : "Literal"
                                    } ]
                                 }, {
                                    "type" : "Equal",
                                    "operand" : [ {
                                       "name" : "MostRecentHpvResult",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                       "value" : "HPV-positive",
                                       "type" : "Literal"
                                    } ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "TwoMostRecentCytologyReportsWithin5yearsApart",
                              "type" : "ExpressionRef"
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "name" : "SecondMostRecentCytologyInterpretedAsLsil",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "type" : "And",
                                    "operand" : [ {
                                       "name" : "SecondMostRecentCytologyInterpretedAsAscus",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "type" : "Equal",
                                       "operand" : [ {
                                          "path" : "riskTableInput",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "AssociatedHpvCotest",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : "HPV-positive",
                                          "type" : "Literal"
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "type" : "And",
                                 "operand" : [ {
                                    "name" : "SecondMostRecentCytologyInterpretedAsAscus",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "type" : "IsNull",
                                    "operand" : {
                                       "name" : "AssociatedHpvCotest",
                                       "type" : "ExpressionRef"
                                    }
                                 } ]
                              } ]
                           } ]
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "ColposcopySinceMostRecentCytology",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy is recommended.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Less",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "MostRecentCytologyReportWasBetween12and18monthsAgo",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Or",
                           "operand" : [ {
                              "name" : "CytologyInterpretedAsLsil",
                              "type" : "ExpressionRef"
                           }, {
                              "type" : "And",
                              "operand" : [ {
                                 "name" : "CytologyInterpretedAsAscus",
                                 "type" : "ExpressionRef"
                              }, {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "MostRecentCytologyCotestResult",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           } ]
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "Equal",
                              "operand" : [ {
                                 "name" : "MostRecentCytologyCotestResult",
                                 "type" : "ExpressionRef"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "ASC-US",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "type" : "Equal",
                              "operand" : [ {
                                 "name" : "MostRecentHpvResult",
                                 "type" : "ExpressionRef"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "HPV-positive",
                                 "type" : "Literal"
                              } ]
                           } ]
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Cytology",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Repeat Cervical Cytology testing alone.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Less",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "MostRecentCytologyReportWasWithinPastYear",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Or",
                           "operand" : [ {
                              "name" : "CytologyInterpretedAsLsil",
                              "type" : "ExpressionRef"
                           }, {
                              "type" : "And",
                              "operand" : [ {
                                 "name" : "CytologyInterpretedAsAscus",
                                 "type" : "ExpressionRef"
                              }, {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "MostRecentCytologyCotestResult",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           } ]
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "Equal",
                              "operand" : [ {
                                 "name" : "MostRecentCytologyCotestResult",
                                 "type" : "ExpressionRef"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "ASC-US",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "type" : "Equal",
                              "operand" : [ {
                                 "name" : "MostRecentHpvResult",
                                 "type" : "ExpressionRef"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "HPV-positive",
                                 "type" : "Literal"
                              } ]
                           } ]
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "type" : "Concatenate",
                           "operand" : [ {
                              "type" : "Concatenate",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Repeat Cervical Cytology is next due on ",
                                 "type" : "Literal"
                              }, {
                                 "type" : "ToString",
                                 "operand" : {
                                    "type" : "ToDate",
                                    "operand" : {
                                       "type" : "Add",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "MostRecentCytologyReport",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "value" : 12,
                                          "unit" : "months",
                                          "type" : "Quantity"
                                       } ]
                                    }
                                 }
                              } ]
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : ".",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "Less",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "25",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "type" : "Equal",
                              "operand" : [ {
                                 "name" : "MostRecentCytologyCotestResult",
                                 "type" : "ExpressionRef"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "ASC-US",
                                 "type" : "Literal"
                              } ]
                           } ]
                        }, {
                           "type" : "Equal",
                           "operand" : [ {
                              "name" : "MostRecentHpvResult",
                              "type" : "ExpressionRef"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "HPV-negative",
                              "type" : "Literal"
                           } ]
                        } ]
                     }, {
                        "name" : "MostRecentCytologyReportWasWithinPastThreeYears",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "type" : "Concatenate",
                           "operand" : [ {
                              "type" : "Concatenate",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Repeat Cervical Cytology is next due on ",
                                 "type" : "Literal"
                              }, {
                                 "type" : "ToString",
                                 "operand" : {
                                    "type" : "ToDate",
                                    "operand" : {
                                       "type" : "Add",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "MostRecentCytologyReport",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "value" : 3,
                                          "unit" : "years",
                                          "type" : "Quantity"
                                       } ]
                                    }
                                 }
                              } ]
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : ".",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "Less",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "25",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "type" : "Equal",
                              "operand" : [ {
                                 "name" : "MostRecentCytologyCotestResult",
                                 "type" : "ExpressionRef"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "ASC-US",
                                 "type" : "Literal"
                              } ]
                           } ]
                        }, {
                           "type" : "Equal",
                           "operand" : [ {
                              "name" : "MostRecentHpvResult",
                              "type" : "ExpressionRef"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "HPV-negative",
                              "type" : "Literal"
                           } ]
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "MostRecentCytologyReportWasWithinPastThreeYears",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Cytology",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Repeat Cervical Cytology testing alone.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Less",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "In",
                           "operand" : [ {
                              "name" : "MostRecentBiopsyResult",
                              "type" : "ExpressionRef"
                           }, {
                              "type" : "List",
                              "element" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "<CIN1",
                                 "type" : "Literal"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "CIN1",
                                 "type" : "Literal"
                              } ]
                           } ]
                        } ]
                     }, {
                        "type" : "In",
                        "operand" : [ {
                           "name" : "ReferringCytologyResult",
                           "type" : "ExpressionRef"
                        }, {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "LSIL",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "ASC-US",
                              "type" : "Literal"
                           } ]
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Repeat Cervical Cytology in 1 year.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Less",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "In",
                           "operand" : [ {
                              "name" : "MostRecentBiopsyResult",
                              "type" : "ExpressionRef"
                           }, {
                              "type" : "List",
                              "element" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "<CIN1",
                                 "type" : "Literal"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "CIN1",
                                 "type" : "Literal"
                              } ]
                           } ]
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "ReferringCytologyResult",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "ASC-H",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Observation cytology in 1 and 2 years is recommended.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "And",
                                       "operand" : [ {
                                          "type" : "Less",
                                          "operand" : [ {
                                             "precision" : "Year",
                                             "type" : "CalculateAge",
                                             "operand" : {
                                                "path" : "birthDate.value",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "Patient",
                                                   "type" : "ExpressionRef"
                                                }
                                             }
                                          }, {
                                             "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                             "value" : "25",
                                             "type" : "Literal"
                                          } ]
                                       }, {
                                          "type" : "Not",
                                          "operand" : {
                                             "name" : "Pregnant",
                                             "type" : "ExpressionRef"
                                          }
                                       } ]
                                    }, {
                                       "name" : "MostRecentBiopsyReportWasBetween12and18monthsAgo",
                                       "type" : "ExpressionRef"
                                    } ]
                                 }, {
                                    "type" : "Or",
                                    "operand" : [ {
                                       "name" : "HistologyInterpretedAsCin1",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "name" : "HistologyInterpretedAsNormal",
                                       "type" : "ExpressionRef"
                                    } ]
                                 } ]
                              }, {
                                 "name" : "SecondMostRecentBiopsyReportWasBetween18and36monthsAgo",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "name" : "SecondMostRecentHistologyInterpretedAsCin1",
                                 "type" : "ExpressionRef"
                              }, {
                                 "name" : "SecondMostRecentHistologyInterpretedAsNormal",
                                 "type" : "ExpressionRef"
                              } ]
                           } ]
                        }, {
                           "name" : "MostRecentCytologyReportWasWithinPastYear",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "name" : "CytologyInterpretedAsHsil",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "CytologyInterpretedAsAscH",
                           "type" : "ExpressionRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "A diagnostic excisional procedure is recommended.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Less",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "MostRecentBiopsyReportWasWithinPastYear",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HistologyInterpretedAsCin2",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Observation is preferred, and treatment is acceptable. Observation includes colposcopy and cytology at 6-month intervals.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Less",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "MostRecentBiopsyReportWasWithinPastYear",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HistologyInterpretedAsCin3",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment is recommended, and observation is unacceptable.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Less",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "MostRecentBiopsyReportWasWithinPastYear",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HistologyInterpretedAsUnspecifiedHsil",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Observation or treatment is acceptable. Observation includes colposcopy and cytology at 6-month intervals.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "Less",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "25",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "MostRecentHsilHistologyWithinLastTwoYears",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ]
                        }, {
                           "type" : "Equal",
                           "operand" : [ {
                              "type" : "Count",
                              "source" : {
                                 "name" : "SubsequentLowGradeHistologyReports",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "2",
                              "type" : "Literal"
                           } ]
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "type" : "Count",
                           "source" : {
                              "name" : "SubsequentLowGradeCytologyReports",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "2",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "type" : "Concatenate",
                           "operand" : [ {
                              "type" : "Concatenate",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Repeat Cervical Cytology is next due on ",
                                 "type" : "Literal"
                              }, {
                                 "type" : "ToString",
                                 "operand" : {
                                    "type" : "ToDate",
                                    "operand" : {
                                       "type" : "Add",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "MostRecentCytologyReport",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "value" : 1,
                                          "unit" : "year",
                                          "type" : "Quantity"
                                       } ]
                                    }
                                 }
                              } ]
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : ".",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "Less",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "25",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "name" : "HistologyInterpretedAsCin2",
                                 "type" : "ExpressionRef"
                              }, {
                                 "name" : "HistologyInterpretedAsUnspecifiedHsil",
                                 "type" : "ExpressionRef"
                              } ]
                           } ]
                        }, {
                           "type" : "Or",
                           "operand" : [ {
                              "name" : "SecondMostRecentHistologyInterpretedAsCin2",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "SecondMostRecentHistologyInterpretedAsUnspecifiedHsil",
                              "type" : "ExpressionRef"
                           } ]
                        } ]
                     }, {
                        "name" : "TwoMostRecentBiopsyReportsWithin12monthsApart",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment is recommended.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "action",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Any",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "text",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "PregnancyOnset",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "name" : "Onset",
                  "libraryName" : "Common",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "MostRecentCondition",
                     "libraryName" : "C3F",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "PregnancyDiagnoses",
                        "libraryName" : "Dash",
                        "type" : "ExpressionRef"
                     } ]
                  } ]
               }, {
                  "name" : "ObservationDate",
                  "libraryName" : "Common",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "MostRecent",
                     "libraryName" : "C3F",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "PregnancyObservations",
                        "libraryName" : "Dash",
                        "type" : "ExpressionRef"
                     } ]
                  } ]
               } ]
            }
         }, {
            "name" : "FirstHistologyAfterPregnancyOnset",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "B",
                     "expression" : {
                        "name" : "SortedBiopsyReports",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "GreaterOrEqual",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "B",
                        "type" : "Property"
                     }, {
                        "asType" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "type" : "As",
                        "operand" : {
                           "name" : "PregnancyOnset",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "LookUpTable5",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetPostTreatmentManagement",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecentBiopsyResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentHpvResultAfterTreatment",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentCytologyResultAfterTreatment",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentHpvResultAfterTreatment",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyResultAfterTreatment",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResultAfterTreatment",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyResultAfterTreatment",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "PostTreatmentManagementRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "LookUpTable5",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               },
               "then" : {
                  "name" : "LookUpTable5",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "LookUpTable4",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetPostColposcopyManagement",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ReferringHpvResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ReferringCytologyResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentBiopsyResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentHpvResultPostBiopsy",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentCytologyResultPostBiopsy",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentHpvResultPostBiopsy",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyResultPostBiopsy",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResultPostBiopsy",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyResultPostBiopsy",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "PostColposcopyManagementRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "LookUpTable4",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               },
               "then" : {
                  "name" : "LookUpTable4",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "LookUpTable3",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetColposcopyResultsManagement",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ReferringHpvResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ReferringCytologyResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentBiopsyResult",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "ColposcopyResultsManagementRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "LookUpTable3",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               },
               "then" : {
                  "name" : "LookUpTable3",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "LookUpTable2",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetSurveillanceManagement",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ThirdMostRecentHpvResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentCytologyCotestResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentHpvResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyCotestResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyCotestResult",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "SurveillanceManagementRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "LookUpTable2",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               },
               "then" : {
                  "name" : "LookUpTable2",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "LookUpTable1",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetGeneralScreeningManagement",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "SecondMostRecentHpvResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyCotestResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResult",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyCotestResult",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "GeneralScreeningManagementRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "LookUpTable1",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               },
               "then" : {
                  "name" : "LookUpTable1",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "CommonAbnormalityRecommendationText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "name" : "PostTreatmentManagementRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "PostColposcopyManagementRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ColposcopyResultsManagementRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SurveillanceManagementRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "GeneralScreeningManagementRecommendation",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "RecommendationForPregnantPatients",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "Pregnant",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "CommonAbnormalityRecommendationText",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Refer to ASCCP management guidelines for considerations during patient pregnancy.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "Pregnant",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "Equal",
                           "operand" : [ {
                              "name" : "CommonAbnormalityRecommendationText",
                              "type" : "ExpressionRef"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Treatment",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "name" : "CommonAbnormalityRecommendationText",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Follow recommendations for Common Abnormalities to determine management.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "Pregnant",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "riskTableInput",
                           "type" : "Property",
                           "source" : {
                              "name" : "FirstHistologyAfterPregnancyOnset",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "CIN2",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "CIN3",
                              "type" : "Literal"
                           } ]
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance colposcopy and testing is preferred every 12 to 24 weeks but deferring colposcopy to the postpartum period is acceptable.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "action",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Any",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "text",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "Immunocompromised",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Immunocompromised",
               "libraryName" : "Dash",
               "type" : "ExpressionRef"
            }
         }, {
            "name" : "MostRecentHpvReportWasWithinPastFiveYears",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Greater",
               "operand" : [ {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentHpvReport",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Subtract",
                  "operand" : [ {
                     "type" : "Now"
                  }, {
                     "value" : 5,
                     "unit" : "years",
                     "type" : "Quantity"
                  } ]
               } ]
            }
         }, {
            "name" : "TwoMostRecentCytologyReportsWithin2yearsApart",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "In",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "SecondMostRecentCytologyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "lowClosed" : true,
                     "highClosed" : true,
                     "type" : "Interval",
                     "low" : {
                        "type" : "Subtract",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 2,
                           "unit" : "years",
                           "type" : "Quantity"
                        } ]
                     },
                     "high" : {
                        "type" : "Add",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 2,
                           "unit" : "years",
                           "type" : "Quantity"
                        } ]
                     }
                  } ]
               }, {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "RecommendationForImmunosuppressedPatients",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "name" : "Immunocompromised",
                        "type" : "ExpressionRef"
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "Equal",
                                    "operand" : [ {
                                       "name" : "MostRecentHpvResult",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                       "value" : "HPV-positive",
                                       "type" : "Literal"
                                    } ]
                                 }, {
                                    "type" : "Equal",
                                    "operand" : [ {
                                       "name" : "MostRecentCytologyCotestResult",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                       "value" : "ACS-US",
                                       "type" : "Literal"
                                    } ]
                                 } ]
                              }, {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "type" : "And",
                              "operand" : [ {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              }, {
                                 "type" : "In",
                                 "operand" : [ {
                                    "path" : "riskTableInput",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "type" : "List",
                                    "element" : [ {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                       "value" : "LSIL",
                                       "type" : "Literal"
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                       "value" : "HSIL",
                                       "type" : "Literal"
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                       "value" : "ASC-H",
                                       "type" : "Literal"
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                       "value" : "AGC",
                                       "type" : "Literal"
                                    } ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "In",
                              "operand" : [ {
                                 "name" : "MostRecentHpvResult",
                                 "type" : "ExpressionRef"
                              }, {
                                 "type" : "List",
                                 "element" : [ {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "HPV16+",
                                    "type" : "Literal"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "HPV16-, HPV18+",
                                    "type" : "Literal"
                                 } ]
                              } ]
                           }, {
                              "name" : "MostRecentHpvReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           } ]
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy is recommended.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "Immunocompromised",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "path" : "riskTableInput",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "ACS-US",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Repeat cytology in 6 to 12 months.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "name" : "Immunocompromised",
                                 "type" : "ExpressionRef"
                              }, {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "type" : "In",
                              "operand" : [ {
                                 "path" : "riskTableInput",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentCytologyReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "type" : "List",
                                 "element" : [ {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "ASC-US",
                                    "type" : "Literal"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "LSIL",
                                    "type" : "Literal"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "HSIL",
                                    "type" : "Literal"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "ASC-H",
                                    "type" : "Literal"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "AGC",
                                    "type" : "Literal"
                                 } ]
                              } ]
                           } ]
                        }, {
                           "type" : "Equal",
                           "operand" : [ {
                              "path" : "riskTableInput",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondMostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "ACS-US",
                              "type" : "Literal"
                           } ]
                        } ]
                     }, {
                        "name" : "TwoMostRecentCytologyReportsWithin2yearsApart",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy is recommended",
                           "type" : "Literal"
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "action",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Any",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "text",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "MostRecentCervixRemovalProcedureDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ProcedureDate",
               "libraryName" : "Common",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecentProcedure",
                  "libraryName" : "C3F",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "RemovalOfCervixProcedures",
                     "libraryName" : "Dash",
                     "type" : "ExpressionRef"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentCervixRemovalObservationDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ObservationDate",
               "libraryName" : "Common",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecent",
                  "libraryName" : "C3F",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "AbsenceOfCervixObservations",
                     "libraryName" : "Dash",
                     "type" : "ExpressionRef"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentCervixRemovalDiagnosisDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Onset",
               "libraryName" : "Common",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecentCondition",
                  "libraryName" : "C3F",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "AbsenceOfCervixDiagnoses",
                     "libraryName" : "Dash",
                     "type" : "ExpressionRef"
                  } ]
               } ]
            }
         }, {
            "name" : "CervixRemovalDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "name" : "MostRecentCervixRemovalProcedureDate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCervixRemovalObservationDate",
                  "type" : "ExpressionRef"
               }, {
                  "asType" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "type" : "As",
                  "operand" : {
                     "name" : "MostRecentCervixRemovalDiagnosisDate",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "NegativeHpvReportsSinceHysterectomy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "H",
                  "expression" : {
                     "name" : "SortedHpvReports",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "GreaterOrEqual",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "H",
                        "type" : "Property"
                     }, {
                        "name" : "CervixRemovalDate",
                        "type" : "ExpressionRef"
                     } ]
                  }, {
                     "type" : "Equal",
                     "operand" : [ {
                        "path" : "riskTableInput",
                        "scope" : "H",
                        "type" : "Property"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "HPV-negative",
                        "type" : "Literal"
                     } ]
                  } ]
               },
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "date",
                        "value" : {
                           "path" : "date",
                           "scope" : "H",
                           "type" : "Property"
                        }
                     } ]
                  }
               },
               "sort" : {
                  "by" : [ {
                     "direction" : "asc",
                     "path" : "date",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "FirstNegativeHpvReportSinceHysterectomy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "type" : "Count",
                        "source" : {
                           "name" : "NegativeHpvReportsSinceHysterectomy",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Indexer",
                  "operand" : [ {
                     "name" : "NegativeHpvReportsSinceHysterectomy",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "0",
                     "type" : "Literal"
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "date",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "SecondNegativeHpvReportSinceHysterectomy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "type" : "Count",
                        "source" : {
                           "name" : "NegativeHpvReportsSinceHysterectomy",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Indexer",
                  "operand" : [ {
                     "name" : "NegativeHpvReportsSinceHysterectomy",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "date",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "ThirdNegativeHpvReportSinceHysterectomy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "type" : "Count",
                        "source" : {
                           "name" : "NegativeHpvReportsSinceHysterectomy",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "2",
                        "type" : "Literal"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Indexer",
                  "operand" : [ {
                     "name" : "NegativeHpvReportsSinceHysterectomy",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2",
                     "type" : "Literal"
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "date",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "UndergoingLongTermSurveillance",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "name" : "FirstNegativeHpvReportSinceHysterectomy",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "name" : "SecondNegativeHpvReportSinceHysterectomy",
                                 "type" : "ExpressionRef"
                              }
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "ThirdNegativeHpvReportSinceHysterectomy",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ]
                  }, {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "SecondNegativeHpvReportSinceHysterectomy",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "lowClosed" : true,
                           "highClosed" : true,
                           "type" : "Interval",
                           "low" : {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "FirstNegativeHpvReportSinceHysterectomy",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "year",
                                 "type" : "Quantity"
                              } ]
                           },
                           "high" : {
                              "type" : "Add",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "FirstNegativeHpvReportSinceHysterectomy",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "year",
                                 "type" : "Quantity"
                              } ]
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "FirstNegativeHpvReportSinceHysterectomy",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }
                     } ]
                  } ]
               }, {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "In",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "ThirdNegativeHpvReportSinceHysterectomy",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "low" : {
                           "type" : "Subtract",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondNegativeHpvReportSinceHysterectomy",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 1,
                              "unit" : "year",
                              "type" : "Quantity"
                           } ]
                        },
                        "high" : {
                           "type" : "Add",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondNegativeHpvReportSinceHysterectomy",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 1,
                              "unit" : "year",
                              "type" : "Quantity"
                           } ]
                        }
                     } ]
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "SecondNegativeHpvReportSinceHysterectomy",
                              "type" : "ExpressionRef"
                           }
                        }
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "HpvTestingCadence",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "UndergoingLongTermSurveillance",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "value" : 3,
                  "unit" : "years",
                  "type" : "Quantity"
               },
               "else" : {
                  "value" : 1,
                  "unit" : "year",
                  "type" : "Quantity"
               }
            }
         }, {
            "name" : "NextHpvTestingDueDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Add",
               "operand" : [ {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentHpvReport",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "HpvTestingCadence",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "RecommendationForManagingPatientsAfterHysterectomy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "CervixRemovalDate",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               },
               "then" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "Less",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentHpvReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "type" : "Now"
                           }, {
                              "name" : "HpvTestingCadence",
                              "type" : "ExpressionRef"
                           } ]
                        } ]
                     }
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "hrHPV",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "hrHPV-based testing is recommended.",
                           "type" : "Literal"
                        }
                     } ]
                  },
                  "else" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "type" : "Concatenate",
                           "operand" : [ {
                              "type" : "Concatenate",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "hrHPV-based testing is next due on ",
                                 "type" : "Literal"
                              }, {
                                 "type" : "ToString",
                                 "operand" : {
                                    "type" : "ToDate",
                                    "operand" : {
                                       "name" : "NextHpvTestingDueDate",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              } ]
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : ".",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "name" : "AbsenceOrRemovalOfCervix",
                        "type" : "ExpressionRef"
                     }
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "type" : "Null"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "If hysterectomy is performed for treatment, patients should have 3 consecutive annual hrHPV-based tests before entering long-term surveillance. Long-term surveillance after treatment for histologic HSIL (CIN 2 or CIN 3) or AIS involves hrHPV-based testing at 3-year intervals for 25 years, regardless of whether the patient has had a hysterectomy either for treatment or at any point during the surveillance period (CIII).",
                           "type" : "Literal"
                        }
                     } ]
                  },
                  "else" : {
                     "type" : "As",
                     "operand" : {
                        "type" : "Null"
                     },
                     "asTypeSpecifier" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "action",
                           "type" : {
                              "name" : "{urn:hl7-org:elm-types:r1}Any",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "text",
                           "type" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "RecommendationForPatientsOlderThan65",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "Greater",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "65",
                           "type" : "Literal"
                        } ]
                     }, {
                        "name" : "IsIncludedAndNotExcluded",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "action",
                        "value" : {
                           "name" : "CommonAbnormalityRecommendationText",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Follow recommendations for Common Abnormalities to determine management.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "action",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "text",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "SpecialPopulationRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "name" : "RecommendationForPatientsYoungerThan25",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "RecommendationForPregnantPatients",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "RecommendationForImmunosuppressedPatients",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "RecommendationForManagingPatientsAfterHysterectomy",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "RecommendationForPatientsOlderThan65",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "WhichPopulationMadeTheRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForPatientsYoungerThan25",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "5",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForPregnantPatients",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "4",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForImmunosuppressedPatients",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "3",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForManagingPatientsAfterHysterectomy",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForPatientsOlderThan65",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  }
               } ],
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "WhichTableMadeTheRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "PostTreatmentManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "5",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "PostColposcopyManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "4",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "ColposcopyResultsManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "3",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "SurveillanceManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "GeneralScreeningManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  }
               } ],
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "CommonAbnormalityRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "action",
                  "value" : {
                     "name" : "CommonAbnormalityRecommendationText",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "text",
                  "value" : {
                     "type" : "Concatenate",
                     "operand" : [ {
                        "name" : "CommonAbnormalityRecommendationText",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : " is recommended.",
                        "type" : "Literal"
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "ManagementRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "name" : "SpecialPopulationRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "RareAbnormalityRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "CommonAbnormalityRecommendation",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "RareAbnormalityPresent",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "path" : "text",
                        "type" : "Property",
                        "source" : {
                           "name" : "RareAbnormalityRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               }, {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "path" : "text",
                        "type" : "Property",
                        "source" : {
                           "name" : "SpecialPopulationRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "SpecialPopulation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Not",
               "operand" : {
                  "type" : "IsNull",
                  "operand" : {
                     "path" : "text",
                     "type" : "Property",
                     "source" : {
                        "name" : "SpecialPopulationRecommendation",
                        "type" : "ExpressionRef"
                     }
                  }
               }
            }
         }, {
            "name" : "CommonAbnormalityPresent",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "path" : "text",
                        "type" : "Property",
                        "source" : {
                           "name" : "CommonAbnormalityRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               }, {
                  "type" : "Not",
                  "operand" : {
                     "name" : "RareAbnormalityPresent",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "ServiceRequestCode",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Null"
            }
         }, {
            "name" : "ServiceRequestOrderDetail",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Null"
            }
         }, {
            "name" : "ManagePatientUnder25",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Equal",
               "operand" : [ {
                  "name" : "WhichPopulationMadeTheRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "value" : "5",
                  "type" : "Literal"
               } ]
            }
         }, {
            "name" : "ManagePregnantPatient",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Equal",
               "operand" : [ {
                  "name" : "WhichPopulationMadeTheRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "value" : "4",
                  "type" : "Literal"
               } ]
            }
         }, {
            "name" : "ManageImmunosuppressedPatient",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Equal",
               "operand" : [ {
                  "name" : "WhichPopulationMadeTheRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "value" : "3",
                  "type" : "Literal"
               } ]
            }
         }, {
            "name" : "ManagePatientAfterHysterectomy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Equal",
               "operand" : [ {
                  "name" : "WhichPopulationMadeTheRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "value" : "2",
                  "type" : "Literal"
               } ]
            }
         }, {
            "name" : "ManagePatientOver65",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Equal",
               "operand" : [ {
                  "name" : "WhichPopulationMadeTheRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "value" : "1",
                  "type" : "Literal"
               } ]
            }
         }, {
            "name" : "RareCytology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "Not",
                  "operand" : {
                     "name" : "SpecialPopulation",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Equal",
                  "operand" : [ {
                     "name" : "WhichRarityMadeTheRecommendation",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  } ]
               } ]
            }
         }, {
            "name" : "ColposcopyException",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "Not",
                  "operand" : {
                     "name" : "SpecialPopulation",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Equal",
                  "operand" : [ {
                     "name" : "WhichRarityMadeTheRecommendation",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2",
                     "type" : "Literal"
                  } ]
               } ]
            }
         }, {
            "name" : "ManagingHistology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "Not",
                  "operand" : {
                     "name" : "SpecialPopulation",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Equal",
                  "operand" : [ {
                     "name" : "WhichRarityMadeTheRecommendation",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "3",
                     "type" : "Literal"
                  } ]
               } ]
            }
         }, {
            "name" : "SurveillanceAfterAbnormalities",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "Not",
                  "operand" : {
                     "name" : "SpecialPopulation",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Equal",
                  "operand" : [ {
                     "name" : "WhichRarityMadeTheRecommendation",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "4",
                     "type" : "Literal"
                  } ]
               } ]
            }
         }, {
            "name" : "GeneralScreening",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "name" : "CommonAbnormalityPresent",
                  "type" : "ExpressionRef"
               }, {
                  "type" : "Equal",
                  "operand" : [ {
                     "name" : "WhichTableMadeTheRecommendation",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  } ]
               } ]
            }
         }, {
            "name" : "Surveillance",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "name" : "CommonAbnormalityPresent",
                  "type" : "ExpressionRef"
               }, {
                  "type" : "Equal",
                  "operand" : [ {
                     "name" : "WhichTableMadeTheRecommendation",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2",
                     "type" : "Literal"
                  } ]
               } ]
            }
         }, {
            "name" : "ColposcopyResults",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "name" : "CommonAbnormalityPresent",
                  "type" : "ExpressionRef"
               }, {
                  "type" : "Equal",
                  "operand" : [ {
                     "name" : "WhichTableMadeTheRecommendation",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "3",
                     "type" : "Literal"
                  } ]
               } ]
            }
         }, {
            "name" : "PostColposcopy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "name" : "CommonAbnormalityPresent",
                  "type" : "ExpressionRef"
               }, {
                  "type" : "Equal",
                  "operand" : [ {
                     "name" : "WhichTableMadeTheRecommendation",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "4",
                     "type" : "Literal"
                  } ]
               } ]
            }
         }, {
            "name" : "PostTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "name" : "CommonAbnormalityPresent",
                  "type" : "ExpressionRef"
               }, {
                  "type" : "Equal",
                  "operand" : [ {
                     "name" : "WhichTableMadeTheRecommendation",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "5",
                     "type" : "Literal"
                  } ]
               } ]
            }
         }, {
            "name" : "Errors",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Union",
               "operand" : [ {
                  "type" : "List"
               }, {
                  "name" : "Errors",
                  "libraryName" : "Dash",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "ErrorsHaveOccurred",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "Errors",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "NoErrorsHaveOccurred",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Not",
               "operand" : {
                  "name" : "ErrorsHaveOccurred",
                  "type" : "ExpressionRef"
               }
            }
         } ]
      }
   }
}

