{
   "library" : {
      "annotation" : [ {
         "translatorVersion" : "2.4.0",
         "translatorOptions" : "",
         "type" : "CqlToElmInfo"
      } ],
      "identifier" : {
         "id" : "ManageRareAbnormality",
         "version" : "1.1.0"
      },
      "schemaIdentifier" : {
         "id" : "urn:hl7-org:elm",
         "version" : "r1"
      },
      "usings" : {
         "def" : [ {
            "localIdentifier" : "System",
            "uri" : "urn:hl7-org:elm-types:r1"
         }, {
            "localIdentifier" : "FHIR",
            "uri" : "http://hl7.org/fhir",
            "version" : "4.0.1"
         } ]
      },
      "includes" : {
         "def" : [ {
            "localIdentifier" : "FHIRHelpers",
            "path" : "FHIRHelpers",
            "version" : "4.0.1"
         }, {
            "localIdentifier" : "C3F",
            "path" : "CDSConnectCommonsforFHIRv401",
            "version" : "1.0.0"
         }, {
            "localIdentifier" : "Dash",
            "path" : "DashboardLibrary",
            "version" : "1.0.0"
         }, {
            "localIdentifier" : "Collate",
            "path" : "CollateManagementData",
            "version" : "1.1.0"
         }, {
            "localIdentifier" : "CCF",
            "path" : "CCSMCommonFunctions",
            "version" : "1.0.0"
         }, {
            "localIdentifier" : "Symptomatic",
            "path" : "ScreeningSymptomaticLibrary",
            "version" : "1.0.0"
         } ]
      },
      "parameters" : {
         "def" : [ {
            "name" : "CervicalPrecancerTreatmentLookback",
            "accessLevel" : "Public",
            "default" : {
               "value" : 7,
               "unit" : "years",
               "type" : "Quantity"
            }
         } ]
      },
      "codeSystems" : {
         "def" : [ {
            "name" : "SNOMED-CT",
            "id" : "http://snomed.info/sct",
            "accessLevel" : "Public"
         }, {
            "name" : "ICD-9",
            "id" : "http://hl7.org/fhir/sid/icd-9-cm",
            "accessLevel" : "Public"
         }, {
            "name" : "ICD-10",
            "id" : "http://hl7.org/fhir/sid/icd-10-cm",
            "accessLevel" : "Public"
         }, {
            "name" : "NULL FLAVOR",
            "id" : "http://terminology.hl7.org/CodeSystem/v3-NullFlavor",
            "accessLevel" : "Public"
         }, {
            "name" : "LOCAL",
            "id" : "http://OUR-PLACEHOLDER-URL.com",
            "accessLevel" : "Public"
         } ]
      },
      "valueSets" : {
         "def" : [ {
            "name" : "Premenopausal",
            "id" : "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.254",
            "accessLevel" : "Public"
         }, {
            "name" : "All Results of High Risk HPV Test",
            "id" : "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.233",
            "accessLevel" : "Public"
         }, {
            "name" : "HSIL",
            "id" : "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.256",
            "accessLevel" : "Public"
         }, {
            "name" : "Normal Histology Finding",
            "id" : "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1032.262",
            "accessLevel" : "Public"
         } ]
      },
      "codes" : {
         "def" : [ {
            "name" : "ASC-H",
            "id" : "441088002",
            "display" : "Atypical squamous cells on cervical Papanicolaou smear cannot exclude high grade squamous intraepithelial lesion (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "CIN1",
            "id" : "285836003",
            "display" : "Cervical intraepithelial neoplasia grade 1 (disorder)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Atypical Endometrial Cells",
            "id" : "103646000",
            "display" : "Atypical endometrial cells of undetermined significance (morphologic abnormality)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Atypical Endocervical Cells",
            "id" : "441094005",
            "display" : "Atypical endocervical cells on cervical Papanicolaou smear (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Endocervical AIS",
            "id" : "447760009",
            "display" : "Endocervical adenocarcinoma in situ (disorder)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "AGC",
            "id" : "441219009",
            "display" : "Atypical glandular cells on cervical Papanicolaou smear (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "AGC Favor Neoplasia",
            "id" : "373883009",
            "display" : "Atypical glandular cells, favor neoplastic (morphologic abnormality)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Endocervical Cells Favor Neoplasia",
            "id" : "373882004",
            "display" : "Atypical endocervical cells, favor neoplastic (morphologic abnormality)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Unsatisfactory",
            "id" : "126481000119106",
            "display" : "Vaginal Papanicolaou smear unsatisfactory for evaluation (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Absent Transformation Zone",
            "id" : "412716005",
            "display" : "Cervical smear transformation zone cells absent (situation)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Benign Endometrial Cells",
            "id" : "125155008",
            "display" : "Endometrial cells, cytologically benign, in a postmenopausal woman (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Premenopausal Menorrhagia",
            "id" : "627.0",
            "display" : "Premenopausal menorrhagia",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "ICD-9"
            }
         }, {
            "name" : "Excessive Bleeding in the Premenopausal Period",
            "id" : "N92.4",
            "display" : "Excessive bleeding in the premenopausal period",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "ICD-10"
            }
         }, {
            "name" : "Postmenopausal",
            "id" : "76498008",
            "display" : "Postmenopausal state (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Histiocytes",
            "id" : "14295007",
            "display" : "Resident tissue macrophage (cell)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Unknown",
            "id" : "UNK",
            "display" : "Unknown",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "NULL FLAVOR"
            }
         }, {
            "name" : "HPV16+",
            "id" : "708298003",
            "display" : "Deoxyribonucleic acid of Human papillomavirus 16 (substance)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "HPV18+",
            "id" : "708299006",
            "display" : "Deoxyribonucleic acid of Human papillomavirus 18 (substance)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "LSIL",
            "id" : "62051000119105",
            "display" : "Low grade squamous intraepithelial lesion on cervical Papanicolaou smear (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "ASC-US",
            "id" : "441087007",
            "display" : "Atypical squamous cells of undetermined significance on cervical Papanicolaou smear (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Benign Glandular Cells",
            "id" : "BGC",
            "display" : "Benign Glandular Cells",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "LOCAL"
            }
         }, {
            "name" : "Endometrial Stromal Cells",
            "id" : "ESC",
            "display" : "Endometrial stromal cells",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "LOCAL"
            }
         } ]
      },
      "contexts" : {
         "def" : [ {
            "name" : "Patient"
         } ]
      },
      "statements" : {
         "def" : [ {
            "name" : "Patient",
            "context" : "Patient",
            "expression" : {
               "type" : "SingletonFrom",
               "operand" : {
                  "dataType" : "{http://hl7.org/fhir}Patient",
                  "templateId" : "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type" : "Retrieve"
               }
            }
         }, {
            "name" : "MostRecentCytologyReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "MostRecentCytologyReport",
               "libraryName" : "Collate",
               "type" : "ExpressionRef"
            }
         }, {
            "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "GreaterOrEqual",
               "operand" : [ {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentCytologyReport",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Subtract",
                  "operand" : [ {
                     "type" : "Now"
                  }, {
                     "value" : 5,
                     "unit" : "years",
                     "type" : "Quantity"
                  } ]
               } ]
            }
         }, {
            "name" : "CytologyInterpretedAsAgc",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "AGC",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsAgcFavorNeoplasia",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "AGC Favor Neoplasia",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsAis",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "AIS",
                           "libraryName" : "Dash"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsAgcOrAis",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "name" : "CytologyInterpretedAsAgc",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "CytologyInterpretedAsAis",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "CytologyInterpretedAsAtypicalEndometrialCells",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Atypical Endometrial Cells",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsAtypicalEndocervicalCells",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Atypical Endocervical Cells",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsEndocervicalAis",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Endocervical AIS",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsEndocervicalCellsFavorNeoplasia",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Endocervical Cells Favor Neoplasia",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyUnsatisfactory",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Unsatisfactory",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyAbsentTransformationZone",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Absent Transformation Zone",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsNilm",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "NILM",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentCytologyReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Greater",
                  "operand" : [ {
                     "type" : "Count",
                     "source" : {
                        "name" : "SortedCytologyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  } ]
               },
               "then" : {
                  "type" : "Indexer",
                  "operand" : [ {
                     "name" : "SortedCytologyReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "allConclusions",
                        "elementType" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}CodeableConcept",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentCytologyInterpretedAsNilm",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "NILM",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsBenignEndometrialCells",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Benign Endometrial Cells",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsBenignGlandularCells",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Benign Glandular Cells",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsEndometrialStromalCells",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Endometrial Stromal Cells",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsHistiocytes",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Histiocytes",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "HasPremenopausalObservationOrCondition",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "PremenopausalObservations",
                     "libraryName" : "Dash",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "PremenopausalConditions",
                     "libraryName" : "Dash",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "HasPostmenopausalObservationOrCondition",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "PostmenopausalObservations",
                     "libraryName" : "Dash",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "PostmenopausalConditions",
                     "libraryName" : "Dash",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "HistologyInterpretedAsCin1",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "CIN1",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "HistologyInterpretedAsNormal",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "Normal Histology Finding",
                           "preserve" : true
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "HistologyInterpretedAsCin1OrNormal",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "name" : "HistologyInterpretedAsCin1",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "HistologyInterpretedAsNormal",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "HistologyInterpretedAsCancer",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "Histologic cancer",
                           "libraryName" : "Dash"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "AnyHistologyInterpretedAsCancer",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "type" : "Flatten",
                        "operand" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "$this",
                              "expression" : {
                                 "name" : "SortedBiopsyReports",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           } ],
                           "where" : {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "path" : "allConclusions",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "$this",
                                       "type" : "AliasRef"
                                    }
                                 }
                              }
                           },
                           "return" : {
                              "distinct" : false,
                              "expression" : {
                                 "path" : "allConclusions",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "$this",
                                    "type" : "AliasRef"
                                 }
                              }
                           }
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "Histologic cancer",
                           "libraryName" : "Dash"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "CancerDiagnosisAfterMostRecentCytology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "C",
                     "expression" : {
                        "name" : "CervicalCancerDiagnoses",
                        "libraryName" : "Dash",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "name" : "ConditionDate",
                        "libraryName" : "CCF",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "C",
                           "type" : "AliasRef"
                        } ]
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "AnyHpvSinceMostRecentCytology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "B",
                     "expression" : {
                        "name" : "SortedHpvReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "GreaterOrEqual",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "B",
                        "type" : "Property"
                     }, {
                        "type" : "Subtract",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 1,
                           "unit" : "day",
                           "type" : "Quantity"
                        } ]
                     } ]
                  }
               }
            }
         }, {
            "name" : "PositiveHpv16or18Cotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "In",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHpvReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "low" : {
                           "type" : "Subtract",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 1,
                              "unit" : "day",
                              "type" : "Quantity"
                           } ]
                        },
                        "high" : {
                           "type" : "Add",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 1,
                              "unit" : "day",
                              "type" : "Quantity"
                           } ]
                        }
                     } ]
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }
                     }
                  } ]
               }, {
                  "type" : "AnyTrue",
                  "source" : {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "aC",
                        "expression" : {
                           "path" : "allConclusions",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentHpvReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ],
                     "relationship" : [ ],
                     "return" : {
                        "expression" : {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "ToConcept",
                                 "libraryName" : "FHIRHelpers",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "aC",
                                    "type" : "AliasRef"
                                 } ]
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "HPV16+",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           }, {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "ToConcept",
                                 "libraryName" : "FHIRHelpers",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "aC",
                                    "type" : "AliasRef"
                                 } ]
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "HPV18+",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           } ]
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "PositiveUntypedHpvCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentHpvReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "lowClosed" : true,
                           "highClosed" : true,
                           "type" : "Interval",
                           "low" : {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentCytologyReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "day",
                                 "type" : "Quantity"
                              } ]
                           },
                           "high" : {
                              "type" : "Add",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentCytologyReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "value" : 1,
                                 "unit" : "day",
                                 "type" : "Quantity"
                              } ]
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }
                     } ]
                  }, {
                     "type" : "AnyTrue",
                     "source" : {
                        "type" : "Query",
                        "source" : [ {
                           "alias" : "aC",
                           "expression" : {
                              "path" : "allConclusions",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentHpvReport",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           }
                        } ],
                        "relationship" : [ ],
                        "return" : {
                           "expression" : {
                              "type" : "InValueSet",
                              "code" : {
                                 "name" : "ToConcept",
                                 "libraryName" : "FHIRHelpers",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "aC",
                                    "type" : "AliasRef"
                                 } ]
                              },
                              "valueset" : {
                                 "name" : "High Risk Positive HPV Results Without HPV16 or HPV18",
                                 "libraryName" : "Dash"
                              }
                           }
                        }
                     }
                  } ]
               }, {
                  "type" : "Not",
                  "operand" : {
                     "name" : "PositiveHpv16or18Cotest",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "UnknownHpvCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "In",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentHpvReport",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "lowClosed" : true,
                              "highClosed" : true,
                              "type" : "Interval",
                              "low" : {
                                 "type" : "Subtract",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 1,
                                    "unit" : "day",
                                    "type" : "Quantity"
                                 } ]
                              },
                              "high" : {
                                 "type" : "Add",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 1,
                                    "unit" : "day",
                                    "type" : "Quantity"
                                 } ]
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentCytologyReport",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentHpvReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Equivalent",
                                    "operand" : [ {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    }, {
                                       "type" : "ToConcept",
                                       "operand" : {
                                          "name" : "Unknown",
                                          "type" : "CodeRef"
                                       }
                                    } ]
                                 }, {
                                    "type" : "Not",
                                    "operand" : {
                                       "type" : "InValueSet",
                                       "code" : {
                                          "name" : "ToConcept",
                                          "libraryName" : "FHIRHelpers",
                                          "type" : "FunctionRef",
                                          "operand" : [ {
                                             "name" : "aC",
                                             "type" : "AliasRef"
                                          } ]
                                       },
                                       "valueset" : {
                                          "name" : "All Results of High Risk HPV Test",
                                          "preserve" : true
                                       }
                                    }
                                 } ]
                              }
                           }
                        }
                     } ]
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "name" : "PositiveHpv16or18Cotest",
                        "type" : "ExpressionRef"
                     }
                  } ]
               }, {
                  "type" : "Not",
                  "operand" : {
                     "name" : "PositiveUntypedHpvCotest",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "NegativeOrUnknownHpvCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "In",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentHpvReport",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "lowClosed" : true,
                              "highClosed" : true,
                              "type" : "Interval",
                              "low" : {
                                 "type" : "Subtract",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 1,
                                    "unit" : "day",
                                    "type" : "Quantity"
                                 } ]
                              },
                              "high" : {
                                 "type" : "Add",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 1,
                                    "unit" : "day",
                                    "type" : "Quantity"
                                 } ]
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentCytologyReport",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentHpvReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Or",
                                    "operand" : [ {
                                       "type" : "InValueSet",
                                       "code" : {
                                          "name" : "ToConcept",
                                          "libraryName" : "FHIRHelpers",
                                          "type" : "FunctionRef",
                                          "operand" : [ {
                                             "name" : "aC",
                                             "type" : "AliasRef"
                                          } ]
                                       },
                                       "valueset" : {
                                          "name" : "HPV Negative Results",
                                          "libraryName" : "Dash"
                                       }
                                    }, {
                                       "type" : "Equivalent",
                                       "operand" : [ {
                                          "name" : "ToConcept",
                                          "libraryName" : "FHIRHelpers",
                                          "type" : "FunctionRef",
                                          "operand" : [ {
                                             "name" : "aC",
                                             "type" : "AliasRef"
                                          } ]
                                       }, {
                                          "type" : "ToConcept",
                                          "operand" : {
                                             "name" : "Unknown",
                                             "type" : "CodeRef"
                                          }
                                       } ]
                                    } ]
                                 }, {
                                    "type" : "Not",
                                    "operand" : {
                                       "type" : "InValueSet",
                                       "code" : {
                                          "name" : "ToConcept",
                                          "libraryName" : "FHIRHelpers",
                                          "type" : "FunctionRef",
                                          "operand" : [ {
                                             "name" : "aC",
                                             "type" : "AliasRef"
                                          } ]
                                       },
                                       "valueset" : {
                                          "name" : "All Results of High Risk HPV Test",
                                          "preserve" : true
                                       }
                                    }
                                 } ]
                              }
                           }
                        }
                     } ]
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "name" : "PositiveHpv16or18Cotest",
                        "type" : "ExpressionRef"
                     }
                  } ]
               }, {
                  "type" : "Not",
                  "operand" : {
                     "name" : "PositiveUntypedHpvCotest",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "HasRemovalOfCervixProcedures",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "RemovalOfCervixProcedures",
                  "libraryName" : "Dash",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "HasAbsenceOfCervixDiagnoses",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "AbsenceOfCervixDiagnoses",
                  "libraryName" : "Dash",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "HasAbsenceOfCervixObservations",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "AbsenceOfCervixObservations",
                  "libraryName" : "Dash",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "AbsenceOrRemovalOfCervix",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Or",
                  "operand" : [ {
                     "name" : "HasRemovalOfCervixProcedures",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "HasAbsenceOfCervixDiagnoses",
                     "type" : "ExpressionRef"
                  } ]
               }, {
                  "name" : "HasAbsenceOfCervixObservations",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "MostRecentCervixRemovalProcedureDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ProcedureDate",
               "libraryName" : "CCF",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecentProcedure",
                  "libraryName" : "C3F",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "RemovalOfCervixProcedures",
                     "libraryName" : "Dash",
                     "type" : "ExpressionRef"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentCervixRemovalObservationDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ObservationDate",
               "libraryName" : "CCF",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecent",
                  "libraryName" : "C3F",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "AbsenceOfCervixObservations",
                     "libraryName" : "Dash",
                     "type" : "ExpressionRef"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentCervixRemovalDiagnosisDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Onset",
               "libraryName" : "CCF",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecentCondition",
                  "libraryName" : "C3F",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "AbsenceOfCervixDiagnoses",
                     "libraryName" : "Dash",
                     "type" : "ExpressionRef"
                  } ]
               } ]
            }
         }, {
            "name" : "CervixRemovalDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "name" : "MostRecentCervixRemovalProcedureDate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCervixRemovalObservationDate",
                  "type" : "ExpressionRef"
               }, {
                  "asType" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "type" : "As",
                  "operand" : {
                     "name" : "MostRecentCervixRemovalDiagnosisDate",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "HasColposcopyProcedureAfterMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "P",
                     "expression" : {
                        "name" : "ColposcopyProcedures",
                        "libraryName" : "Dash",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "GreaterOrEqual",
                     "operand" : [ {
                        "name" : "ProcedureDate",
                        "libraryName" : "CCF",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "P",
                           "type" : "AliasRef"
                        } ]
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "RecommendationForRareCytology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "name" : "CytologyInterpretedAsAgc",
                                 "type" : "ExpressionRef"
                              }, {
                                 "name" : "CytologyInterpretedAsAtypicalEndocervicalCells",
                                 "type" : "ExpressionRef"
                              } ]
                           } ]
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "In",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentBiopsyReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "lowClosed" : false,
                                 "highClosed" : true,
                                 "type" : "Interval",
                                 "low" : {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 },
                                 "high" : {
                                    "type" : "Add",
                                    "operand" : [ {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "MostRecentCytologyReport",
                                          "type" : "ExpressionRef"
                                       }
                                    }, {
                                       "value" : 12,
                                       "unit" : "months",
                                       "type" : "Quantity"
                                    } ]
                                 }
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }
                           } ]
                        } ]
                     }, {
                        "name" : "HistologyInterpretedAsCin1OrNormal",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Add",
                           "operand" : [ {
                              "name" : "DateOfMostRecentReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }, {
                              "value" : 1,
                              "unit" : "year",
                              "type" : "Quantity"
                           } ]
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.1.4)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Cotesting at 1 and 2 years is recommended.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "If both cotests are negative, repeat cotesting at 3 years is recommended.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "If any test is abnormal, then colposcopy is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                           "type" : "ExpressionRef"
                        }, {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "Or",
                              "operand" : [ {
                                 "name" : "CytologyInterpretedAsAgcFavorNeoplasia",
                                 "type" : "ExpressionRef"
                              }, {
                                 "name" : "CytologyInterpretedAsEndocervicalCellsFavorNeoplasia",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "name" : "CytologyInterpretedAsEndocervicalAis",
                              "type" : "ExpressionRef"
                           } ]
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "Or",
                           "operand" : [ {
                              "name" : "CancerDiagnosisAfterMostRecentCytology",
                              "type" : "ExpressionRef"
                           }, {
                              "type" : "And",
                              "operand" : [ {
                                 "name" : "HistologyInterpretedAsCancer",
                                 "type" : "ExpressionRef"
                              }, {
                                 "type" : "Greater",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentBiopsyReport",
                                       "libraryName" : "Collate",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 } ]
                              } ]
                           } ]
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.1.5)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "A diagnostic excisional procedure is recommended if cancer is not identified during initial colposcopic workup.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "The procedure used should provide an intact specimen with interpretable margins. Endocervical sampling above the excisional bed is preferred.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "Less",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "35",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "name" : "CytologyInterpretedAsAgcOrAis",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "CytologyInterpretedAsAtypicalEndometrialCells",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "Pregnant",
                           "libraryName" : "Dash",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.1.1)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Colposcopy is recommended.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Endocervical sampling is recommended at initial colposcopy, except in pregnancy.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Endometrial sampling is also recommended for nonpregnant patients younger than 35 years at increased risk of endometrial neoplasia based on clinical indications (e.g., abnormal uterine bleeding, conditions suggesting chronic anovulation, or obesity).",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "35",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "name" : "CytologyInterpretedAsAgcOrAis",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "CytologyInterpretedAsAtypicalEndometrialCells",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "Pregnant",
                           "libraryName" : "Dash",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.1.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Colposcopy is recommended.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Endocervical sampling is recommended at initial colposcopy, except in pregnancy.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Endometrial sampling is also recommended in conjunction with colposcopy and endocervical sampling for nonpregnant patients 35 years or older with all categories of AGC and AIS.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "CytologyInterpretedAsAgcOrAis",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "CytologyInterpretedAsAtypicalEndometrialCells",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "Pregnant",
                           "libraryName" : "Dash",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.1.3)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Endometrial and endocervical sampling is preferred, with colposcopy acceptable at initial evaluation.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Additional evaluation with colposcopy is recommended if colposcopy was deferred and no endometrial pathology is identified.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "CytologyUnsatisfactory",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Not",
                           "operand" : {
                              "name" : "AnyHpvSinceMostRecentCytology",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "NegativeOrUnknownHpvCotest",
                           "type" : "ExpressionRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Repeat Screening",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Add",
                           "operand" : [ {
                              "type" : "Today"
                           }, {
                              "value" : 2,
                              "unit" : "months",
                              "type" : "Quantity"
                           } ]
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.2.1)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Repeat age-based screening with cytology, cotesting or primary HPV testing in 2 to 4 months is recommended.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Treatment to resolve atrophy or obscuring inflammation when a specific infection is present is acceptable.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "CytologyUnsatisfactory",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "PositiveUntypedHpvCotest",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "25",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Cytology/Colposcopy",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Add",
                           "operand" : [ {
                              "type" : "Today"
                           }, {
                              "value" : 2,
                              "unit" : "months",
                              "type" : "Quantity"
                           } ]
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.2.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Repeat cytology in 2 to 4 months or colposcopy is acceptable.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "CytologyUnsatisfactory",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "PositiveHpv16or18Cotest",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "25",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.2.3)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Colposcopy is recommended for all patients with HPV 16 or 18.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "In",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "lowClosed" : true,
                                 "highClosed" : false,
                                 "type" : "Interval",
                                 "low" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "21",
                                    "type" : "Literal"
                                 },
                                 "high" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "30",
                                    "type" : "Literal"
                                 }
                              } ]
                           }, {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "CytologyAbsentTransformationZone",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "CytologyInterpretedAsNilm",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.3.1)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Absent transformation zone does not affect the interpretation of results. Routine screening is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "30",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "name" : "CytologyAbsentTransformationZone",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "CytologyInterpretedAsNilm",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Not",
                           "operand" : {
                              "name" : "AnyHpvSinceMostRecentCytology",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "UnknownHpvCotest",
                           "type" : "ExpressionRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.3.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "HPV testing is preferred.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Repeat cytology in 3 years is acceptable if HPV testing is not performed.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "name" : "HasPremenopausalObservationOrCondition",
                                 "type" : "ExpressionRef"
                              }, {
                                 "type" : "Not",
                                 "operand" : {
                                    "name" : "HasPostmenopausalObservationOrCondition",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "IsSymptomatic",
                                 "libraryName" : "Symptomatic",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Or",
                           "operand" : [ {
                              "name" : "CytologyInterpretedAsBenignEndometrialCells",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "CytologyInterpretedAsEndometrialStromalCells",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "CytologyInterpretedAsHistiocytes",
                           "type" : "ExpressionRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.4.1)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "For asymptomatic premenopausal patients with benign endometrial cells, endometrial stromal cells, or histiocytes, no further evaluation is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "HasPostmenopausalObservationOrCondition",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "CytologyInterpretedAsBenignEndometrialCells",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.4.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Endometrial assessment is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "AbsenceOrRemovalOfCervix",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "CytologyInterpretedAsBenignGlandularCells",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Rare Cytology (G.4.3)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "No further evaluation is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "short",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Date",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "group",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "details",
                        "elementType" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsAscH",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "ASC-H",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "LastKnownCytologyInterpretedAsAscHInPast5Years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "type" : "Now"
                           }, {
                              "value" : 5,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "S",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "ASC-H",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "TwoMostRecentCytologyReportsWithin5yearsApart",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "In",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "SecondMostRecentCytologyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "lowClosed" : true,
                     "highClosed" : true,
                     "type" : "Interval",
                     "low" : {
                        "type" : "Subtract",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 5,
                           "unit" : "years",
                           "type" : "Quantity"
                        } ]
                     },
                     "high" : {
                        "type" : "Add",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 5,
                           "unit" : "years",
                           "type" : "Quantity"
                        } ]
                     }
                  } ]
               }, {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "SecondMostRecentCytologyUnsatisfactory",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Unsatisfactory",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "RecommendationForExceptionsToColposcopyThreshold",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "CytologyInterpretedAsAscH",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Exception to Colposcopy Threshold (H.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Colposcopy is recommended regardless of hrHPV result.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "PositiveHpv16or18Cotest",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "CytologyInterpretedAsNilm",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "25",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Exception to Colposcopy Threshold (H.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Colposcopy is recommended for all patients with HPV 16 or 18.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "MostRecentCytologyReportWasWithinPastFiveYears",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "CytologyUnsatisfactory",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "TwoMostRecentCytologyReportsWithin5yearsApart",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "SecondMostRecentCytologyUnsatisfactory",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Exception to Colposcopy Threshold",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Colposcopy should be performed.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "short",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Date",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "group",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "details",
                        "elementType" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "MostRecentBiopsyReportWasWithinPastYear",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "GreaterOrEqual",
               "operand" : [ {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentBiopsyReport",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Subtract",
                  "operand" : [ {
                     "type" : "Now"
                  }, {
                     "value" : 1,
                     "unit" : "year",
                     "type" : "Quantity"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentBiopsyReportWasWithinPastThreeYears",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "GreaterOrEqual",
               "operand" : [ {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentBiopsyReport",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Subtract",
                  "operand" : [ {
                     "type" : "Now"
                  }, {
                     "value" : 3,
                     "unit" : "year",
                     "type" : "Quantity"
                  } ]
               } ]
            }
         }, {
            "name" : "HistologyInterpretedAsCin2",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "CIN2",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "HistologyInterpretedAsCin3",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "Histologic CIN3",
                           "libraryName" : "Dash"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "AnyHistologyInterpretedAsCin3",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "type" : "Flatten",
                        "operand" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "$this",
                              "expression" : {
                                 "name" : "SortedBiopsyReports",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           } ],
                           "where" : {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "path" : "allConclusions",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "$this",
                                       "type" : "AliasRef"
                                    }
                                 }
                              }
                           },
                           "return" : {
                              "distinct" : false,
                              "expression" : {
                                 "path" : "allConclusions",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "$this",
                                    "type" : "AliasRef"
                                 }
                              }
                           }
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "Histologic CIN3",
                           "libraryName" : "Dash"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "AnyHistologyInterpretedAsCin2",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "type" : "Flatten",
                        "operand" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "$this",
                              "expression" : {
                                 "name" : "SortedBiopsyReports",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           } ],
                           "where" : {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "path" : "allConclusions",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "$this",
                                       "type" : "AliasRef"
                                    }
                                 }
                              }
                           },
                           "return" : {
                              "distinct" : false,
                              "expression" : {
                                 "path" : "allConclusions",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "$this",
                                    "type" : "AliasRef"
                                 }
                              }
                           }
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "CIN2",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "LastKnownCin2BiopsyInPast6Years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedBiopsyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "type" : "Now"
                           }, {
                              "value" : 6,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "S",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "CIN2",
                                       "libraryName" : "Dash",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "LastKnownCin2BiopsyInPast3Years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedBiopsyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "type" : "Now"
                           }, {
                              "value" : 3,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "S",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "CIN2",
                                       "libraryName" : "Dash",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "LastKnownCin2BiopsyInPast2Years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedBiopsyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "type" : "Now"
                           }, {
                              "value" : 2,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "S",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "CIN2",
                                       "libraryName" : "Dash",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "LastKnownHsilUnspecifiedBiopsyInPast6Years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedBiopsyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "type" : "Now"
                           }, {
                              "value" : 6,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "S",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "HSIL, Unspecified",
                                       "libraryName" : "Dash",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "LastKnownHsilUnspecifiedBiopsyInPast3Years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedBiopsyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "type" : "Now"
                           }, {
                              "value" : 3,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "S",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "HSIL, Unspecified",
                                       "libraryName" : "Dash",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "LastKnownHsilUnspecifiedBiopsyInPast2Years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedBiopsyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "type" : "Now"
                           }, {
                              "value" : 2,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "S",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "HSIL, Unspecified",
                                       "libraryName" : "Dash",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "HistologyInterpretedAsAis",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "AIS",
                           "libraryName" : "Dash"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "HistologyInterpretedAsUnspecifiedHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "HSIL, Unspecified",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "AnyHistologyInterpretedAsUnspecifiedHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "type" : "Flatten",
                        "operand" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "$this",
                              "expression" : {
                                 "name" : "SortedBiopsyReports",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           } ],
                           "where" : {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "path" : "allConclusions",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "$this",
                                       "type" : "AliasRef"
                                    }
                                 }
                              }
                           },
                           "return" : {
                              "distinct" : false,
                              "expression" : {
                                 "path" : "allConclusions",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "$this",
                                    "type" : "AliasRef"
                                 }
                              }
                           }
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "HSIL, Unspecified",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "PrecedingCytologyResults",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "LessOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentBiopsyReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentBiopsyReport",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 12,
                              "unit" : "months",
                              "type" : "Quantity"
                           } ]
                        } ]
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "PrecedingCytologyIsHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "PrecedingCytologyResults",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "HSIL",
                           "preserve" : true
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "PrecedingCytologyIsAscH",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "PrecedingCytologyResults",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "ASC-H",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentBiopsyReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Greater",
                  "operand" : [ {
                     "type" : "Count",
                     "source" : {
                        "name" : "SortedBiopsyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  } ]
               },
               "then" : {
                  "type" : "Indexer",
                  "operand" : [ {
                     "name" : "SortedBiopsyReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "allConclusions",
                        "elementType" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}CodeableConcept",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "PrecedingCytologyResultsBeforeSecondMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "LessOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "SecondMostRecentBiopsyReport",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondMostRecentBiopsyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 12,
                              "unit" : "months",
                              "type" : "Quantity"
                           } ]
                        } ]
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "PrecedingCytologyBeforeSecondMostRecentBiopsyIsHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "PrecedingCytologyResultsBeforeSecondMostRecentBiopsy",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "HSIL",
                           "preserve" : true
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "PrecedingCytologyBeforeSecondMostRecentBiopsyIsAscH",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "PrecedingCytologyResultsBeforeSecondMostRecentBiopsy",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "ASC-H",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentHistologyInterpretedAsCin1",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "CIN1",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentHistologyInterpretedAsNormal",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "Normal Histology Finding",
                           "preserve" : true
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentHistologyInterpretedAsCin1OrNormal",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "name" : "SecondMostRecentHistologyInterpretedAsCin1",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentHistologyInterpretedAsNormal",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "MostRecentBiopsyReportWasWithinPast2Years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "GreaterOrEqual",
               "operand" : [ {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentBiopsyReport",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Subtract",
                  "operand" : [ {
                     "type" : "Now"
                  }, {
                     "value" : 2,
                     "unit" : "years",
                     "type" : "Quantity"
                  } ]
               } ]
            }
         }, {
            "name" : "TwoMostRecentBiopsyReportsWithin2YearsApart",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "In",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "SecondMostRecentBiopsyReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "lowClosed" : true,
                     "highClosed" : true,
                     "type" : "Interval",
                     "low" : {
                        "type" : "Subtract",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentBiopsyReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 2,
                           "unit" : "years",
                           "type" : "Quantity"
                        } ]
                     },
                     "high" : {
                        "type" : "Add",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentBiopsyReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "value" : 2,
                           "unit" : "years",
                           "type" : "Quantity"
                        } ]
                     }
                  } ]
               }, {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "RecentlyRespondedYesToFuturePregnancyConcernsQuestion",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Not",
               "operand" : {
                  "type" : "IsNull",
                  "operand" : {
                     "name" : "MostRecent",
                     "libraryName" : "C3F",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "ObservationLookBack",
                        "libraryName" : "C3F",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "R",
                              "expression" : {
                                 "name" : "ResponsesToFuturePregnancyConcernsQuestion",
                                 "libraryName" : "Dash",
                                 "type" : "ExpressionRef"
                              }
                           } ],
                           "relationship" : [ ],
                           "where" : {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "ToConcept",
                                 "libraryName" : "FHIRHelpers",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "asType" : "{http://hl7.org/fhir}CodeableConcept",
                                    "type" : "As",
                                    "operand" : {
                                       "path" : "value",
                                       "scope" : "R",
                                       "type" : "Property"
                                    }
                                 } ]
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "Yes",
                                    "libraryName" : "Dash",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           }
                        }, {
                           "value" : 3,
                           "unit" : "months",
                           "type" : "Quantity"
                        } ]
                     } ]
                  }
               }
            }
         }, {
            "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "B",
                     "expression" : {
                        "name" : "SortedBiopsyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "B",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "type" : "Now"
                           }, {
                              "value" : 18,
                              "unit" : "months",
                              "type" : "Quantity"
                           } ]
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "B",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Equivalent",
                                    "operand" : [ {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    }, {
                                       "type" : "ToConcept",
                                       "operand" : {
                                          "name" : "HSIL, Unspecified",
                                          "libraryName" : "Dash",
                                          "type" : "CodeRef"
                                       }
                                    } ]
                                 }, {
                                    "type" : "Equivalent",
                                    "operand" : [ {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    }, {
                                       "type" : "ToConcept",
                                       "operand" : {
                                          "name" : "CIN2",
                                          "libraryName" : "Dash",
                                          "type" : "CodeRef"
                                       }
                                    } ]
                                 } ]
                              }
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast31Years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "B",
                     "expression" : {
                        "name" : "SortedBiopsyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "B",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "type" : "Now"
                           }, {
                              "value" : 31,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "B",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Equivalent",
                                    "operand" : [ {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    }, {
                                       "type" : "ToConcept",
                                       "operand" : {
                                          "name" : "HSIL, Unspecified",
                                          "libraryName" : "Dash",
                                          "type" : "CodeRef"
                                       }
                                    } ]
                                 }, {
                                    "type" : "Equivalent",
                                    "operand" : [ {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    }, {
                                       "type" : "ToConcept",
                                       "operand" : {
                                          "name" : "CIN2",
                                          "libraryName" : "Dash",
                                          "type" : "CodeRef"
                                       }
                                    } ]
                                 } ]
                              }
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "HistologyInterpretedAsUnspecifiedHsilOrCin2BeforeMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "B",
                  "expression" : {
                     "name" : "SortedBiopsyReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "SameOrBefore",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "B",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentBiopsyReport",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 2,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        } ]
                     }, {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "In",
                           "operand" : [ {
                              "path" : "date",
                              "scope" : "B",
                              "type" : "Property"
                           }, {
                              "lowClosed" : true,
                              "highClosed" : false,
                              "type" : "Interval",
                              "low" : {
                                 "type" : "Subtract",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentBiopsyReport",
                                       "libraryName" : "Collate",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 3,
                                    "unit" : "years",
                                    "type" : "Quantity"
                                 } ]
                              },
                              "high" : {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentBiopsyReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentBiopsyReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }
                        } ]
                     } ]
                  }, {
                     "type" : "AnyTrue",
                     "source" : {
                        "type" : "Query",
                        "source" : [ {
                           "alias" : "aC",
                           "expression" : {
                              "path" : "allConclusions",
                              "scope" : "B",
                              "type" : "Property"
                           }
                        } ],
                        "relationship" : [ ],
                        "return" : {
                           "expression" : {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "HSIL, Unspecified",
                                       "libraryName" : "Dash",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              }, {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "CIN2",
                                       "libraryName" : "Dash",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              } ]
                           }
                        }
                     }
                  } ]
               }
            }
         }, {
            "name" : "HasHistologyInterpretedAsUnspecifiedHsilOrCin2BeforeMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "HistologyInterpretedAsUnspecifiedHsilOrCin2BeforeMostRecentBiopsy",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "CytologyInterpretedAsLsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "LSIL",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyInterpretedAsAscus",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "ASC-US",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "MostRecentNegativeHsilSurveillanceResultWithin18Months",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "And",
                     "operand" : [ {
                        "name" : "HistologyInterpretedAsCin1OrNormal",
                        "type" : "ExpressionRef"
                     }, {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "In",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentBiopsyReport",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "lowClosed" : false,
                              "highClosed" : true,
                              "type" : "Interval",
                              "low" : {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                    "type" : "ExpressionRef"
                                 }
                              },
                              "high" : {
                                 "type" : "Add",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 18,
                                    "unit" : "months",
                                    "type" : "Quantity"
                                 } ]
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }
                        } ]
                     } ]
                  }, {
                     "type" : "Or",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "name" : "MostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "In",
                                    "operand" : [ {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "MostRecentCytologyReport",
                                          "type" : "ExpressionRef"
                                       }
                                    }, {
                                       "lowClosed" : false,
                                       "highClosed" : true,
                                       "type" : "Interval",
                                       "low" : {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                             "type" : "ExpressionRef"
                                          }
                                       },
                                       "high" : {
                                          "type" : "Add",
                                          "operand" : [ {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                                "type" : "ExpressionRef"
                                             }
                                          }, {
                                             "value" : 18,
                                             "unit" : "months",
                                             "type" : "Quantity"
                                          } ]
                                       }
                                    } ]
                                 }, {
                                    "type" : "Not",
                                    "operand" : {
                                       "type" : "IsNull",
                                       "operand" : {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                             "type" : "ExpressionRef"
                                          }
                                       }
                                    }
                                 } ]
                              }, {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Or",
                                    "operand" : [ {
                                       "name" : "CytologyInterpretedAsLsil",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "name" : "CytologyInterpretedAsAscus",
                                       "type" : "ExpressionRef"
                                    } ]
                                 }, {
                                    "name" : "CytologyInterpretedAsNilm",
                                    "type" : "ExpressionRef"
                                 } ]
                              } ]
                           }, {
                              "type" : "SameAs",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentBiopsyReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentCytologyReport",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           } ]
                        } ]
                     }, {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "Not",
                                    "operand" : {
                                       "type" : "IsNull",
                                       "operand" : {
                                          "name" : "MostRecentHpvReport",
                                          "libraryName" : "Collate",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "In",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "MostRecentHpvReport",
                                             "libraryName" : "Collate",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "lowClosed" : false,
                                          "highClosed" : true,
                                          "type" : "Interval",
                                          "low" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                                "type" : "ExpressionRef"
                                             }
                                          },
                                          "high" : {
                                             "type" : "Add",
                                             "operand" : [ {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                                   "type" : "ExpressionRef"
                                                }
                                             }, {
                                                "value" : 18,
                                                "unit" : "months",
                                                "type" : "Quantity"
                                             } ]
                                          }
                                       } ]
                                    }, {
                                       "type" : "Not",
                                       "operand" : {
                                          "type" : "IsNull",
                                          "operand" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                                "type" : "ExpressionRef"
                                             }
                                          }
                                       }
                                    } ]
                                 } ]
                              }, {
                                 "type" : "Equal",
                                 "operand" : [ {
                                    "name" : "MostRecentHpvResult",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "HPV-negative",
                                    "type" : "Literal"
                                 } ]
                              } ]
                           }, {
                              "type" : "SameAs",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentHpvReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentBiopsyReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "IsNull",
                                    "operand" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "type" : "SameAs",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentHpvReport",
                                       "libraryName" : "Collate",
                                       "type" : "ExpressionRef"
                                    }
                                 } ]
                              } ]
                           }
                        } ]
                     } ]
                  } ]
               },
               "else" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "value" : "false",
                  "type" : "Literal"
               }
            }
         }, {
            "name" : "SecondMostRecentCytologyInterpretedAsLsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "LSIL",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentCytologyInterpretedAsAscus",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "ASC-US",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentNegativeHsilSurveillanceResultWithin18Months",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "And",
                     "operand" : [ {
                        "name" : "SecondMostRecentHistologyInterpretedAsCin1OrNormal",
                        "type" : "ExpressionRef"
                     }, {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "In",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondMostRecentBiopsyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "lowClosed" : false,
                              "highClosed" : true,
                              "type" : "Interval",
                              "low" : {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                    "type" : "ExpressionRef"
                                 }
                              },
                              "high" : {
                                 "type" : "Add",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 18,
                                    "unit" : "months",
                                    "type" : "Quantity"
                                 } ]
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }
                        } ]
                     } ]
                  }, {
                     "type" : "Or",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "In",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "SecondMostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "lowClosed" : false,
                                    "highClosed" : true,
                                    "type" : "Interval",
                                    "low" : {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                          "type" : "ExpressionRef"
                                       }
                                    },
                                    "high" : {
                                       "type" : "Add",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "value" : 18,
                                          "unit" : "months",
                                          "type" : "Quantity"
                                       } ]
                                    }
                                 } ]
                              }, {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "IsNull",
                                    "operand" : {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }
                              } ]
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "name" : "SecondMostRecentCytologyInterpretedAsLsil",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "name" : "SecondMostRecentCytologyInterpretedAsAscus",
                                    "type" : "ExpressionRef"
                                 } ]
                              }, {
                                 "name" : "SecondMostRecentCytologyInterpretedAsNilm",
                                 "type" : "ExpressionRef"
                              } ]
                           } ]
                        }, {
                           "type" : "SameAs",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondMostRecentBiopsyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondMostRecentCytologyReport",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "Not",
                                    "operand" : {
                                       "type" : "IsNull",
                                       "operand" : {
                                          "name" : "SecondMostRecentHpvReport",
                                          "libraryName" : "Collate",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "In",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "SecondMostRecentHpvReport",
                                             "libraryName" : "Collate",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "lowClosed" : false,
                                          "highClosed" : true,
                                          "type" : "Interval",
                                          "low" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                                "type" : "ExpressionRef"
                                             }
                                          },
                                          "high" : {
                                             "type" : "Add",
                                             "operand" : [ {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                                   "type" : "ExpressionRef"
                                                }
                                             }, {
                                                "value" : 18,
                                                "unit" : "months",
                                                "type" : "Quantity"
                                             } ]
                                          }
                                       } ]
                                    }, {
                                       "type" : "Not",
                                       "operand" : {
                                          "type" : "IsNull",
                                          "operand" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                                "type" : "ExpressionRef"
                                             }
                                          }
                                       }
                                    } ]
                                 } ]
                              }, {
                                 "type" : "Equal",
                                 "operand" : [ {
                                    "name" : "SecondMostRecentHpvResult",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "HPV-negative",
                                    "type" : "Literal"
                                 } ]
                              } ]
                           }, {
                              "type" : "SameAs",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "SecondMostRecentHpvReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "SecondMostRecentBiopsyReport",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "IsNull",
                                    "operand" : {
                                       "name" : "SecondMostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "type" : "SameAs",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "SecondMostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "SecondMostRecentHpvReport",
                                       "libraryName" : "Collate",
                                       "type" : "ExpressionRef"
                                    }
                                 } ]
                              } ]
                           }
                        } ]
                     } ]
                  } ]
               },
               "else" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "value" : "false",
                  "type" : "Literal"
               }
            }
         }, {
            "name" : "SubsequentLowGradeHistologyReportsSinceInitialUnspecifiedHsilOrCin2InLast31Years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast31Years",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "R",
                     "expression" : {
                        "name" : "SortedBiopsyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "After",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "R",
                           "type" : "Property"
                        }, {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast31Years",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "R",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Equivalent",
                                    "operand" : [ {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    }, {
                                       "type" : "ToConcept",
                                       "operand" : {
                                          "name" : "CIN1",
                                          "type" : "CodeRef"
                                       }
                                    } ]
                                 }, {
                                    "type" : "InValueSet",
                                    "code" : {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    },
                                    "valueset" : {
                                       "name" : "Normal Histology Finding",
                                       "preserve" : true
                                    }
                                 } ]
                              }
                           }
                        }
                     } ]
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "riskTableInput",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "allConclusions",
                           "elementType" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "name" : "{http://hl7.org/fhir}CodeableConcept",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        }, {
                           "name" : "date",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SubsequentLowGradeCytologyReportsSinceInitialUnspecifiedHsilOrCin2InLast31Years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast31Years",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "R",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "After",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "R",
                           "type" : "Property"
                        }, {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast31Years",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "R",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Or",
                                    "operand" : [ {
                                       "type" : "Equivalent",
                                       "operand" : [ {
                                          "name" : "ToConcept",
                                          "libraryName" : "FHIRHelpers",
                                          "type" : "FunctionRef",
                                          "operand" : [ {
                                             "name" : "aC",
                                             "type" : "AliasRef"
                                          } ]
                                       }, {
                                          "type" : "ToConcept",
                                          "operand" : {
                                             "name" : "NILM",
                                             "libraryName" : "Dash",
                                             "type" : "CodeRef"
                                          }
                                       } ]
                                    }, {
                                       "type" : "Equivalent",
                                       "operand" : [ {
                                          "name" : "ToConcept",
                                          "libraryName" : "FHIRHelpers",
                                          "type" : "FunctionRef",
                                          "operand" : [ {
                                             "name" : "aC",
                                             "type" : "AliasRef"
                                          } ]
                                       }, {
                                          "type" : "ToConcept",
                                          "operand" : {
                                             "name" : "LSIL",
                                             "type" : "CodeRef"
                                          }
                                       } ]
                                    } ]
                                 }, {
                                    "type" : "Equivalent",
                                    "operand" : [ {
                                       "name" : "ToConcept",
                                       "libraryName" : "FHIRHelpers",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "aC",
                                          "type" : "AliasRef"
                                       } ]
                                    }, {
                                       "type" : "ToConcept",
                                       "operand" : {
                                          "name" : "ASC-US",
                                          "type" : "CodeRef"
                                       }
                                    } ]
                                 } ]
                              }
                           }
                        }
                     } ]
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "riskTableInput",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "allConclusions",
                           "elementType" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "name" : "{http://hl7.org/fhir}CodeableConcept",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        }, {
                           "name" : "date",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "NegativeHrHpvTests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "R",
                  "expression" : {
                     "name" : "SortedHpvReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "AnyTrue",
                  "source" : {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "aC",
                        "expression" : {
                           "path" : "allConclusions",
                           "scope" : "R",
                           "type" : "Property"
                        }
                     } ],
                     "relationship" : [ ],
                     "return" : {
                        "expression" : {
                           "type" : "InValueSet",
                           "code" : {
                              "name" : "ToConcept",
                              "libraryName" : "FHIRHelpers",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "aC",
                                 "type" : "AliasRef"
                              } ]
                           },
                           "valueset" : {
                              "name" : "HPV Negative Results",
                              "libraryName" : "Dash"
                           }
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "RecentNegativeHsilSurveillanceTests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "SubsequentLowGradeHistologyReportsSinceInitialUnspecifiedHsilOrCin2InLast31Years",
                           "type" : "ExpressionRef"
                        }
                     }
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "SubsequentLowGradeCytologyReportsSinceInitialUnspecifiedHsilOrCin2InLast31Years",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ]
               },
               "then" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "R",
                     "expression" : {
                        "type" : "Union",
                        "operand" : [ {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "H",
                              "expression" : {
                                 "name" : "SubsequentLowGradeHistologyReportsSinceInitialUnspecifiedHsilOrCin2InLast31Years",
                                 "type" : "ExpressionRef"
                              }
                           } ],
                           "relationship" : [ {
                              "alias" : "C",
                              "type" : "With",
                              "expression" : {
                                 "name" : "SubsequentLowGradeCytologyReportsSinceInitialUnspecifiedHsilOrCin2InLast31Years",
                                 "type" : "ExpressionRef"
                              },
                              "suchThat" : {
                                 "type" : "SameAs",
                                 "operand" : [ {
                                    "path" : "date",
                                    "scope" : "C",
                                    "type" : "Property"
                                 }, {
                                    "path" : "date",
                                    "scope" : "H",
                                    "type" : "Property"
                                 } ]
                              }
                           } ]
                        }, {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "H",
                              "expression" : {
                                 "name" : "SubsequentLowGradeHistologyReportsSinceInitialUnspecifiedHsilOrCin2InLast31Years",
                                 "type" : "ExpressionRef"
                              }
                           } ],
                           "relationship" : [ {
                              "alias" : "N",
                              "type" : "With",
                              "expression" : {
                                 "name" : "NegativeHrHpvTests",
                                 "type" : "ExpressionRef"
                              },
                              "suchThat" : {
                                 "type" : "SameAs",
                                 "operand" : [ {
                                    "path" : "date",
                                    "scope" : "N",
                                    "type" : "Property"
                                 }, {
                                    "path" : "date",
                                    "scope" : "H",
                                    "type" : "Property"
                                 } ]
                              }
                           } ]
                        } ]
                     }
                  } ],
                  "relationship" : [ ],
                  "sort" : {
                     "by" : [ {
                        "direction" : "asc",
                        "path" : "date",
                        "type" : "ByColumn"
                     } ]
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "riskTableInput",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "allConclusions",
                           "elementType" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "name" : "{http://hl7.org/fhir}CodeableConcept",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        }, {
                           "name" : "date",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "HasTwoNegativeHsilSurveillanceTests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "GreaterOrEqual",
               "operand" : [ {
                  "type" : "Count",
                  "source" : {
                     "name" : "RecentNegativeHsilSurveillanceTests",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "value" : "2",
                  "type" : "Literal"
               } ]
            }
         }, {
            "name" : "SecondNegativeHsilSurveillanceTestDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "name" : "HasTwoNegativeHsilSurveillanceTests",
                  "type" : "ExpressionRef"
               },
               "then" : {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "type" : "Indexer",
                     "operand" : [ {
                        "name" : "RecentNegativeHsilSurveillanceTests",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     } ]
                  }
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "NegativeHrHpvTestsAsPartOfCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "H",
                  "expression" : {
                     "name" : "NegativeHrHpvTests",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "alias" : "C",
                  "expression" : {
                     "name" : "SortedCytologyReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "In",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "H",
                        "type" : "Property"
                     }, {
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "low" : {
                           "type" : "Subtract",
                           "operand" : [ {
                              "path" : "date",
                              "scope" : "C",
                              "type" : "Property"
                           }, {
                              "value" : 1,
                              "unit" : "day",
                              "type" : "Quantity"
                           } ]
                        },
                        "high" : {
                           "type" : "Add",
                           "operand" : [ {
                              "path" : "date",
                              "scope" : "C",
                              "type" : "Property"
                           }, {
                              "value" : 1,
                              "unit" : "day",
                              "type" : "Quantity"
                           } ]
                        }
                     } ]
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "path" : "date",
                           "scope" : "C",
                           "type" : "Property"
                        }
                     }
                  } ]
               },
               "return" : {
                  "expression" : {
                     "name" : "H",
                     "type" : "AliasRef"
                  }
               }
            }
         }, {
            "name" : "NegativePrimaryHrHpvTests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Except",
               "operand" : [ {
                  "name" : "NegativeHrHpvTests",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "NegativeHrHpvTestsAsPartOfCotest",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "NegativeCytologyTests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "R",
                  "expression" : {
                     "name" : "SortedCytologyReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "AnyTrue",
                  "source" : {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "aC",
                        "expression" : {
                           "path" : "allConclusions",
                           "scope" : "R",
                           "type" : "Property"
                        }
                     } ],
                     "relationship" : [ ],
                     "return" : {
                        "expression" : {
                           "type" : "Equivalent",
                           "operand" : [ {
                              "name" : "ToConcept",
                              "libraryName" : "FHIRHelpers",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "aC",
                                 "type" : "AliasRef"
                              } ]
                           }, {
                              "type" : "ToConcept",
                              "operand" : {
                                 "name" : "NILM",
                                 "libraryName" : "Dash",
                                 "type" : "CodeRef"
                              }
                           } ]
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "NegativeCotests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "H",
                  "expression" : {
                     "name" : "NegativeHrHpvTests",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "alias" : "C",
                  "expression" : {
                     "name" : "NegativeCytologyTests",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "In",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "H",
                        "type" : "Property"
                     }, {
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "low" : {
                           "type" : "Subtract",
                           "operand" : [ {
                              "path" : "date",
                              "scope" : "C",
                              "type" : "Property"
                           }, {
                              "value" : 1,
                              "unit" : "day",
                              "type" : "Quantity"
                           } ]
                        },
                        "high" : {
                           "type" : "Add",
                           "operand" : [ {
                              "path" : "date",
                              "scope" : "C",
                              "type" : "Property"
                           }, {
                              "value" : 1,
                              "unit" : "day",
                              "type" : "Quantity"
                           } ]
                        }
                     } ]
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "path" : "date",
                           "scope" : "C",
                           "type" : "Property"
                        }
                     }
                  } ]
               },
               "return" : {
                  "expression" : {
                     "name" : "H",
                     "type" : "AliasRef"
                  }
               }
            }
         }, {
            "name" : "NegativeSurveillanceTests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Union",
               "operand" : [ {
                  "name" : "NegativePrimaryHrHpvTests",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "NegativeCotests",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "SortedNegativeSurveillanceTests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "H",
                  "expression" : {
                     "name" : "NegativeSurveillanceTests",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "path" : "date",
                        "scope" : "H",
                        "type" : "Property"
                     }
                  }
               },
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "date",
                        "value" : {
                           "path" : "date",
                           "scope" : "H",
                           "type" : "Property"
                        }
                     } ]
                  }
               },
               "sort" : {
                  "by" : [ {
                     "direction" : "asc",
                     "path" : "date",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "NegativeSurveillanceTestDatesAfterHsilSurveillance",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "name" : "HasTwoNegativeHsilSurveillanceTests",
                  "type" : "ExpressionRef"
               },
               "then" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "T",
                     "expression" : {
                        "name" : "SortedNegativeSurveillanceTests",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "After",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "T",
                        "type" : "Property"
                     }, {
                        "name" : "SecondNegativeHsilSurveillanceTestDate",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "date",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "MostRecentSurveillanceTestNegative",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "MostRecentHpvResult",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "HPV-negative",
                        "type" : "Literal"
                     } ]
                  }, {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "MostRecentCytologyCotestResult",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "NILM",
                        "type" : "Literal"
                     } ]
                  } ]
               }, {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "MostRecentHpvResult",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "HPV-negative",
                        "type" : "Literal"
                     } ]
                  }, {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "MostRecentCytologyCotest",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "CytologyInterpretedAsHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "HSIL",
                           "preserve" : true
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "LastKnownCytologyInterpretedAsHsilInPast5Years",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "S",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "S",
                           "type" : "Property"
                        }, {
                           "type" : "Subtract",
                           "operand" : [ {
                              "type" : "Now"
                           }, {
                              "value" : 5,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        } ]
                     }, {
                        "type" : "AnyTrue",
                        "source" : {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "aC",
                              "expression" : {
                                 "path" : "allConclusions",
                                 "scope" : "S",
                                 "type" : "Property"
                              }
                           } ],
                           "relationship" : [ ],
                           "return" : {
                              "expression" : {
                                 "type" : "InValueSet",
                                 "code" : {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 },
                                 "valueset" : {
                                    "name" : "HSIL",
                                    "preserve" : true
                                 }
                              }
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "CervixRemovalDateIsAfterLastKnownAisBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "CervixRemovalDate",
                        "type" : "ExpressionRef"
                     }
                  }
               }, {
                  "type" : "After",
                  "operand" : [ {
                     "name" : "CervixRemovalDate",
                     "type" : "ExpressionRef"
                  }, {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "LastKnownAisBiopsy",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "CervicalPrecancerTreatments",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "CervicalPrecancerTreatments",
               "libraryName" : "Collate",
               "type" : "ExpressionRef"
            }
         }, {
            "name" : "MostRecentTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "MostRecentProcedure",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "CervicalPrecancerTreatments",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "MostRecentTreatmentSameDateOrAfterAis",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "P",
                  "expression" : {
                     "name" : "MostRecentTreatment",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "SameOrAfter",
                  "operand" : [ {
                     "name" : "ProcedureDate",
                     "libraryName" : "CCF",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "P",
                        "type" : "AliasRef"
                     } ]
                  }, {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "LastKnownAisBiopsy",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ]
               }
            }
         }, {
            "name" : "AisFoundDuringTreatmentOrHadTreatmentAfterAis",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Not",
               "operand" : {
                  "type" : "IsNull",
                  "operand" : {
                     "name" : "MostRecentTreatmentSameDateOrAfterAis",
                     "type" : "ExpressionRef"
                  }
               }
            }
         }, {
            "name" : "HadNoCervicalPrecancerTreatmentFromDateToPresent",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "IsNull",
                  "operand" : {
                     "name" : "DateOfLastCervicalPrecancerTreatment",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Not",
                  "operand" : {
                     "type" : "In",
                     "operand" : [ {
                        "name" : "DateOfLastCervicalPrecancerTreatment",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }, {
                        "lowClosed" : true,
                        "highClosed" : true,
                        "type" : "Interval",
                        "low" : {
                           "type" : "Subtract",
                           "operand" : [ {
                              "name" : "d",
                              "type" : "OperandRef"
                           }, {
                              "name" : "Lookback",
                              "type" : "OperandRef"
                           } ]
                        },
                        "high" : {
                           "type" : "Now"
                        }
                     } ]
                  }
               } ]
            },
            "operand" : [ {
               "name" : "d",
               "operandTypeSpecifier" : {
                  "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "Lookback",
               "operandTypeSpecifier" : {
                  "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "name" : "RecommendationForAisHistologyResults",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "Greater",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "50",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "LastKnownAisBiopsy",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "CervixRemovalDateIsAfterLastKnownAisBiopsy",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "AisFoundDuringTreatmentOrHadTreatmentAfterAis",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.6)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "A diagnostic excisional procedure is recommended for all patients with a diagnosis of AIS on cervical biopsy to rule out invasive adenocarcinoma.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "If negative margins on the excisional specimen, a hysterectomy is preferred.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "For patients with positive margins on the excisional specimen, re-excision to achieve negative margins is preferred, even if hysterectomy is planned.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "25",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "type" : "LessOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "50",
                                    "type" : "Literal"
                                 } ]
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "LastKnownAisBiopsy",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "CervixRemovalDateIsAfterLastKnownAisBiopsy",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "AisFoundDuringTreatmentOrHadTreatmentAfterAis",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.6)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "A diagnostic excisional procedure is recommended for all patients with a diagnosis of AIS on cervical biopsy to rule out invasive adenocarcinoma.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "If negative margins on the excisional specimen, a hysterectomy is preferred although fertility-sparing management for appropriately selected patients is acceptable.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "For patients who undergo fertility-sparing management, surveillance with cotesting and endocervical sampling is recommended every 6 months for at least 3 years, then annually for at least 2 years, or until hysterectomy is performed.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "If an abnormal result is returned during surveillance, manage using the 2019 ASCCP guidelines.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "Greater",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "50",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "LastKnownAisBiopsy",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ]
                        }, {
                           "name" : "AisFoundDuringTreatmentOrHadTreatmentAfterAis",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "CervixRemovalDateIsAfterLastKnownAisBiopsy",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.6)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "If negative margins on the diagnostic excisional specimen, a hysterectomy is preferred.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "For patients with positive margins on the excisional specimen, re-excision to achieve negative margins is preferred, even if hysterectomy is planned.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "For patients with AIS and persistent positive margins for whom additional excisional procedures are not feasible, either a simple or modified radical hysterectomy is acceptable.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "25",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "type" : "LessOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "50",
                                    "type" : "Literal"
                                 } ]
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "LastKnownAisBiopsy",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "CervixRemovalDateIsAfterLastKnownAisBiopsy",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "name" : "AisFoundDuringTreatmentOrHadTreatmentAfterAis",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.6)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "If negative margins on the diagnostic excisional specimen, a hysterectomy is preferred although fertility-sparing management for appropriately selected patients is acceptable.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "For patients with positive margins on the excisional specimen, re-excision to achieve negative margins is preferred, even if hysterectomy is planned.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "For patients who undergo fertility-sparing management, surveillance with cotesting and endocervical sampling is recommended every 6 months for at least 3 years, then annually for at least 2 years, or until hysterectomy is performed.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "If cotesting and endocervical sampling consistently negative in first 5 years, extending surveillance interval to every 3 years is acceptable.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "If an abnormal result is returned during surveillance, manage using the 2019 ASCCP guidelines.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "short",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Date",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "group",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "details",
                        "elementType" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "PositiveSurveillanceAfterSecondNegativeHsilSurveillance",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Union",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "R",
                     "expression" : {
                        "name" : "RecentPositiveHpv",
                        "libraryName" : "Dash",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "name" : "DiagnosticReportDate",
                        "libraryName" : "CCF",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "R",
                           "type" : "AliasRef"
                        } ]
                     }, {
                        "name" : "SecondNegativeHsilSurveillanceTestDate",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "C",
                     "expression" : {
                        "name" : "RecentAbnormalCytologyResults",
                        "libraryName" : "Dash",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ {
                     "alias" : "P",
                     "type" : "With",
                     "expression" : {
                        "name" : "SortedHpvReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     },
                     "suchThat" : {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "In",
                           "operand" : [ {
                              "name" : "DiagnosticReportDate",
                              "libraryName" : "CCF",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "C",
                                 "type" : "AliasRef"
                              } ]
                           }, {
                              "lowClosed" : true,
                              "highClosed" : true,
                              "type" : "Interval",
                              "low" : {
                                 "type" : "Subtract",
                                 "operand" : [ {
                                    "path" : "date",
                                    "scope" : "P",
                                    "type" : "Property"
                                 }, {
                                    "value" : 1,
                                    "unit" : "day",
                                    "type" : "Quantity"
                                 } ]
                              },
                              "high" : {
                                 "type" : "Add",
                                 "operand" : [ {
                                    "path" : "date",
                                    "scope" : "P",
                                    "type" : "Property"
                                 }, {
                                    "value" : 1,
                                    "unit" : "day",
                                    "type" : "Quantity"
                                 } ]
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "path" : "date",
                                 "scope" : "P",
                                 "type" : "Property"
                              }
                           }
                        } ]
                     }
                  } ],
                  "where" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "name" : "DiagnosticReportDate",
                        "libraryName" : "CCF",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "C",
                           "type" : "AliasRef"
                        } ]
                     }, {
                        "name" : "SecondNegativeHsilSurveillanceTestDate",
                        "type" : "ExpressionRef"
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "HasPositiveSurveillanceAfterSecondNegativeHsilSurveillance",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "PositiveSurveillanceAfterSecondNegativeHsilSurveillance",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "MostRecentTreatmentDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ProcedureDate",
               "libraryName" : "CCF",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecentTreatment",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "NegativeSurveillanceTestsAfterSecondMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "H",
                  "expression" : {
                     "name" : "SortedNegativeSurveillanceTests",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "Greater",
                  "operand" : [ {
                     "path" : "date",
                     "scope" : "H",
                     "type" : "Property"
                  }, {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "SecondMostRecentBiopsyReport",
                        "type" : "ExpressionRef"
                     }
                  } ]
               }
            }
         }, {
            "name" : "FirstNegativeSurveillanceTestAfterSecondMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Greater",
                  "operand" : [ {
                     "type" : "Count",
                     "source" : {
                        "name" : "NegativeSurveillanceTestsAfterSecondMostRecentBiopsy",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "0",
                     "type" : "Literal"
                  } ]
               },
               "then" : {
                  "type" : "Indexer",
                  "operand" : [ {
                     "name" : "NegativeSurveillanceTestsAfterSecondMostRecentBiopsy",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "0",
                     "type" : "Literal"
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "HasFirstNegativeSurveillanceTestAfterSecondMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Not",
               "operand" : {
                  "type" : "IsNull",
                  "operand" : {
                     "name" : "FirstNegativeSurveillanceTestAfterSecondMostRecentBiopsy",
                     "type" : "ExpressionRef"
                  }
               }
            }
         }, {
            "name" : "NegativeSurveillanceTestsAfterMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "H",
                  "expression" : {
                     "name" : "SortedNegativeSurveillanceTests",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "Greater",
                  "operand" : [ {
                     "path" : "date",
                     "scope" : "H",
                     "type" : "Property"
                  }, {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentBiopsyReport",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ]
               }
            }
         }, {
            "name" : "FirstNegativeSurveillanceTestAfterMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Greater",
                  "operand" : [ {
                     "type" : "Count",
                     "source" : {
                        "name" : "NegativeSurveillanceTestsAfterMostRecentBiopsy",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "0",
                     "type" : "Literal"
                  } ]
               },
               "then" : {
                  "type" : "Indexer",
                  "operand" : [ {
                     "name" : "NegativeSurveillanceTestsAfterMostRecentBiopsy",
                     "type" : "ExpressionRef"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "0",
                     "type" : "Literal"
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "HasFirstNegativeSurveillanceTestAfterMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Not",
               "operand" : {
                  "type" : "IsNull",
                  "operand" : {
                     "name" : "FirstNegativeSurveillanceTestAfterMostRecentBiopsy",
                     "type" : "ExpressionRef"
                  }
               }
            }
         }, {
            "name" : "PositiveSurveillanceAfterMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Union",
               "operand" : [ {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "R",
                     "expression" : {
                        "name" : "RecentPositiveHpv",
                        "libraryName" : "Dash",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "name" : "DiagnosticReportDate",
                        "libraryName" : "CCF",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "R",
                           "type" : "AliasRef"
                        } ]
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               }, {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "C",
                     "expression" : {
                        "name" : "RecentAbnormalCytologyResults",
                        "libraryName" : "Dash",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ {
                     "alias" : "P",
                     "type" : "With",
                     "expression" : {
                        "name" : "SortedHpvReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     },
                     "suchThat" : {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "In",
                           "operand" : [ {
                              "name" : "DiagnosticReportDate",
                              "libraryName" : "CCF",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "C",
                                 "type" : "AliasRef"
                              } ]
                           }, {
                              "lowClosed" : true,
                              "highClosed" : true,
                              "type" : "Interval",
                              "low" : {
                                 "type" : "Subtract",
                                 "operand" : [ {
                                    "path" : "date",
                                    "scope" : "P",
                                    "type" : "Property"
                                 }, {
                                    "value" : 1,
                                    "unit" : "day",
                                    "type" : "Quantity"
                                 } ]
                              },
                              "high" : {
                                 "type" : "Add",
                                 "operand" : [ {
                                    "path" : "date",
                                    "scope" : "P",
                                    "type" : "Property"
                                 }, {
                                    "value" : 1,
                                    "unit" : "day",
                                    "type" : "Quantity"
                                 } ]
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "path" : "date",
                                 "scope" : "P",
                                 "type" : "Property"
                              }
                           }
                        } ]
                     }
                  } ],
                  "where" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "name" : "DiagnosticReportDate",
                        "libraryName" : "CCF",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "C",
                           "type" : "AliasRef"
                        } ]
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "HasPositiveSurveillanceAfterMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "PositiveSurveillanceAfterMostRecentBiopsy",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "HasTreatmentAfterMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "MostRecentTreatmentDate",
                        "type" : "ExpressionRef"
                     }
                  }
               }, {
                  "type" : "After",
                  "operand" : [ {
                     "name" : "MostRecentTreatmentDate",
                     "type" : "ExpressionRef"
                  }, {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentBiopsyReport",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "HasSurveillanceAfterMostRecentBiopsy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "name" : "HasPositiveSurveillanceAfterMostRecentBiopsy",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "HasFirstNegativeSurveillanceTestAfterMostRecentBiopsy",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "RecommendationForHistologyResults",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "GreaterOrEqual",
                                    "operand" : [ {
                                       "precision" : "Year",
                                       "type" : "CalculateAge",
                                       "operand" : {
                                          "path" : "birthDate.value",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "Patient",
                                             "type" : "ExpressionRef"
                                          }
                                       }
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "25",
                                       "type" : "Literal"
                                    } ]
                                 }, {
                                    "type" : "LessOrEqual",
                                    "operand" : [ {
                                       "precision" : "Year",
                                       "type" : "CalculateAge",
                                       "operand" : {
                                          "path" : "birthDate.value",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "Patient",
                                             "type" : "ExpressionRef"
                                          }
                                       }
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "50",
                                       "type" : "Literal"
                                    } ]
                                 } ]
                              }, {
                                 "name" : "AnyHistologyInterpretedAsUnspecifiedHsil",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "RecentlyRespondedYesToFuturePregnancyConcernsQuestion",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "name" : "HadNoCervicalPrecancerTreatmentFromDateToPresent",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "LastKnownHsilUnspecifiedBiopsy",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "name" : "CervicalPrecancerTreatmentLookback",
                              "type" : "ParameterRef"
                           } ]
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "SecondMostRecentNegativeHsilSurveillanceResultWithin18Months",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance or Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.1)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Treatment is preferred if histologic HSIL cannot be specified (e.g., reported as histologic HSIL or histologic HSIL [CIN 2,3].",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Observation is acceptable if there are concerns related to future pregnancies and the following criteria are met: entire SCJ is visualized, lesion does not extend into endocervical canal, ECC is < CIN 2.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Observation, if elected, includes colposcopy and primary hrHPV testing or cotesting at 6-month intervals for up to 2 years.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Greater",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "50",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "AnyHistologyInterpretedAsUnspecifiedHsil",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HadNoCervicalPrecancerTreatmentFromDateToPresent",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "LastKnownHsilUnspecifiedBiopsy",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "CervicalPrecancerTreatmentLookback",
                           "type" : "ParameterRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.1)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Treatment is preferred if histologic HSIL cannot be specified (e.g., reported as histologic HSIL or histologic HSIL [CIN 2,3]).",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "GreaterOrEqual",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "25",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "Pregnant",
                                 "libraryName" : "Dash",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "name" : "AnyHistologyInterpretedAsCin3",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HadNoCervicalPrecancerTreatmentFromDateToPresent",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "LastKnownCin3Biopsy",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "CervicalPrecancerTreatmentLookback",
                           "type" : "ParameterRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Treatment of CIN3 is recommended. Observation is unacceptable except during pregnancy.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "When treatment of histologic HSIL is planned, excisional treatment is preferred, and treatment with ablation is acceptable.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "When considering ablative therapy, in particular cryotherapy, ablation is unacceptable in circumstances defined by the WHO.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "GreaterOrEqual",
                                    "operand" : [ {
                                       "precision" : "Year",
                                       "type" : "CalculateAge",
                                       "operand" : {
                                          "path" : "birthDate.value",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "Patient",
                                             "type" : "ExpressionRef"
                                          }
                                       }
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "25",
                                       "type" : "Literal"
                                    } ]
                                 }, {
                                    "type" : "LessOrEqual",
                                    "operand" : [ {
                                       "precision" : "Year",
                                       "type" : "CalculateAge",
                                       "operand" : {
                                          "path" : "birthDate.value",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "Patient",
                                             "type" : "ExpressionRef"
                                          }
                                       }
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "50",
                                       "type" : "Literal"
                                    } ]
                                 } ]
                              }, {
                                 "type" : "Not",
                                 "operand" : {
                                    "name" : "Pregnant",
                                    "libraryName" : "Dash",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "RecentlyRespondedYesToFuturePregnancyConcernsQuestion",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "name" : "LastKnownCin2BiopsyInPast3Years",
                                 "type" : "ExpressionRef"
                              }
                           }
                        } ]
                     }, {
                        "name" : "HadNoCervicalPrecancerTreatmentFromDateToPresent",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "LastKnownCin2Biopsy",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "CervicalPrecancerTreatmentLookback",
                           "type" : "ParameterRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance or Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Treatment of CIN2 is recommended unless the patient's concerns about the effect of treatment on future pregnancy outweigh concerns about cancer.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Excisional treatment is preferred, and treatment with ablation is acceptable.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Observation is unacceptable when the squamocolumnar junction or the upper limit of the lesion is not fully visualized or when the results of an endocervical sampling, if performed, is CIN 2+ or ungraded.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Observation includes colposcopy and primary hrHPV testing or cotesting at 6-month intervals for up to 2 years.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "Greater",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "50",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "Pregnant",
                                 "libraryName" : "Dash",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "name" : "AnyHistologyInterpretedAsCin2",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HadNoCervicalPrecancerTreatmentFromDateToPresent",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "LastKnownCin2Biopsy",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "CervicalPrecancerTreatmentLookback",
                           "type" : "ParameterRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Treatment of CIN2 is recommended.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Excisional treatment is preferred, and treatment with ablation is acceptable.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "25",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "type" : "LessOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "50",
                                    "type" : "Literal"
                                 } ]
                              } ]
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "name" : "HistologyInterpretedAsUnspecifiedHsil",
                                 "type" : "ExpressionRef"
                              }, {
                                 "name" : "HistologyInterpretedAsCin2",
                                 "type" : "ExpressionRef"
                              } ]
                           } ]
                        }, {
                           "name" : "HasHistologyInterpretedAsUnspecifiedHsilOrCin2BeforeMostRecentBiopsy",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HadNoCervicalPrecancerTreatmentFromDateToPresent",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "LastKnownCin2Biopsy",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "CervicalPrecancerTreatmentLookback",
                           "type" : "ParameterRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance or Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.3)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Treatment is recommended for histologic HSIL (CIN 2) or histologic HSIL (unspecified) lasting 2 years.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "GreaterOrEqual",
                                    "operand" : [ {
                                       "precision" : "Year",
                                       "type" : "CalculateAge",
                                       "operand" : {
                                          "path" : "birthDate.value",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "Patient",
                                             "type" : "ExpressionRef"
                                          }
                                       }
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "25",
                                       "type" : "Literal"
                                    } ]
                                 }, {
                                    "type" : "LessOrEqual",
                                    "operand" : [ {
                                       "precision" : "Year",
                                       "type" : "CalculateAge",
                                       "operand" : {
                                          "path" : "birthDate.value",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "Patient",
                                             "type" : "ExpressionRef"
                                          }
                                       }
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "50",
                                       "type" : "Literal"
                                    } ]
                                 } ]
                              }, {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "IsNull",
                                    "operand" : {
                                       "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast31Years",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              } ]
                           }, {
                              "name" : "HasTwoNegativeHsilSurveillanceTests",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "type" : "Count",
                              "source" : {
                                 "name" : "NegativeSurveillanceTestDatesAfterHsilSurveillance",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "3",
                              "type" : "Literal"
                           } ]
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "HasPositiveSurveillanceAfterSecondNegativeHsilSurveillance",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Add",
                           "operand" : [ {
                              "type" : "Today"
                           }, {
                              "value" : 3,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.3)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Surveillance with primary HPV testing or cotesting is recommended every 3 years for at least 25 years, even if beyond the age of 65. Surveillance can continue for as long as the patient remains in good health.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "25",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "type" : "LessOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "50",
                                    "type" : "Literal"
                                 } ]
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "InitialCervicalHistologyInterpretedAsUnspecifiedHsilOrCin2InLast18Months",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ]
                        }, {
                           "type" : "Query",
                           "source" : [ {
                              "alias" : "SecondMostRecentNegativeHsilSurveillanceResultWithin18Months",
                              "expression" : {
                                 "name" : "MostRecentNegativeHsilSurveillanceResultWithin18Months",
                                 "type" : "ExpressionRef"
                              }
                           } ],
                           "relationship" : [ ]
                        } ]
                     }, {
                        "type" : "SameOrAfter",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentBiopsyReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "type" : "Add",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondMostRecentBiopsyReport",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "value" : 3,
                              "unit" : "months",
                              "type" : "Quantity"
                           } ]
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Add",
                           "operand" : [ {
                              "type" : "Today"
                           }, {
                              "value" : 1,
                              "unit" : "year",
                              "type" : "Quantity"
                           } ]
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.3)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Primary HPV testing or cotesting in 1 year is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "25",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "type" : "LessOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "50",
                                    "type" : "Literal"
                                 } ]
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "LastKnownHsilUnspecifiedBiopsyInPast3Years",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ]
                        }, {
                           "name" : "RecentlyRespondedYesToFuturePregnancyConcernsQuestion",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HadNoCervicalPrecancerTreatmentFromDateToPresent",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "LastKnownHsilUnspecifiedBiopsy",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "CervicalPrecancerTreatmentLookback",
                           "type" : "ParameterRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance or Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.3)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Treatment is preferred for histologic HSIL. Observation is acceptable if there are concerns related to future pregnancies and the following criteria are met: entire SCJ is visualized, lesion does not extend into endocervical canal, ECC is < CIN 2.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Observation, if elected includes colposcopy and primary hrHPV testing or cotesting at 6-month intervals for up to 2 years.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "25",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "type" : "LessOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "50",
                                    "type" : "Literal"
                                 } ]
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "LastKnownCin2BiopsyInPast3Years",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ]
                        }, {
                           "name" : "RecentlyRespondedYesToFuturePregnancyConcernsQuestion",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HadNoCervicalPrecancerTreatmentFromDateToPresent",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "LastKnownCin2Biopsy",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "CervicalPrecancerTreatmentLookback",
                           "type" : "ParameterRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance or Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.3)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Either observation or treatment of CIN 2 is acceptable when the patient's concerns about the effect of treatment on future pregnancy outweigh concerns about cancer.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Observation is unacceptable when the squamocolumnar junction or the upper limit of the lesion is not fully visualized or when the results of an endocervical sampling, if performed, is CIN 2+ or ungraded.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Observation includes colposcopy and primary hrHPV testing or cotesting at 6-month intervals for up to 2 years.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "25",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "name" : "HistologyInterpretedAsCin1OrNormal",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "name" : "PrecedingCytologyIsHsil",
                                 "type" : "ExpressionRef"
                              }, {
                                 "name" : "PrecedingCytologyIsAscH",
                                 "type" : "ExpressionRef"
                              } ]
                           } ]
                        }, {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "In",
                                    "operand" : [ {
                                       "name" : "MostRecentTreatmentDate",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "lowClosed" : false,
                                       "highClosed" : true,
                                       "type" : "Interval",
                                       "low" : {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "MostRecentBiopsyReport",
                                             "libraryName" : "Collate",
                                             "type" : "ExpressionRef"
                                          }
                                       },
                                       "high" : {
                                          "type" : "Add",
                                          "operand" : [ {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "MostRecentBiopsyReport",
                                                "libraryName" : "Collate",
                                                "type" : "ExpressionRef"
                                             }
                                          }, {
                                             "value" : 2,
                                             "unit" : "years",
                                             "type" : "Quantity"
                                          } ]
                                       }
                                    } ]
                                 }, {
                                    "type" : "Not",
                                    "operand" : {
                                       "type" : "IsNull",
                                       "operand" : {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "MostRecentBiopsyReport",
                                             "libraryName" : "Collate",
                                             "type" : "ExpressionRef"
                                          }
                                       }
                                    }
                                 } ]
                              }
                           }, {
                              "type" : "IsNull",
                              "operand" : {
                                 "name" : "MostRecentTreatment",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "name" : "CytologyInterpretedAsHsil",
                                 "type" : "ExpressionRef"
                              }, {
                                 "type" : "SameOrAfter",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "type" : "Add",
                                    "operand" : [ {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "MostRecentBiopsyReport",
                                          "libraryName" : "Collate",
                                          "type" : "ExpressionRef"
                                       }
                                    }, {
                                       "value" : 6,
                                       "unit" : "months",
                                       "type" : "Quantity"
                                    } ]
                                 } ]
                              } ]
                           }, {
                              "type" : "In",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentCytologyReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "lowClosed" : false,
                                 "highClosed" : false,
                                 "type" : "Interval",
                                 "low" : {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentBiopsyReport",
                                       "libraryName" : "Collate",
                                       "type" : "ExpressionRef"
                                    }
                                 },
                                 "high" : {
                                    "type" : "Add",
                                    "operand" : [ {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "MostRecentBiopsyReport",
                                          "libraryName" : "Collate",
                                          "type" : "ExpressionRef"
                                       }
                                    }, {
                                       "value" : 3.5,
                                       "unit" : "years",
                                       "type" : "Quantity"
                                    } ]
                                 }
                              } ]
                           } ]
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "name" : "CytologyInterpretedAsAscH",
                                 "type" : "ExpressionRef"
                              }, {
                                 "type" : "SameOrAfter",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "type" : "Add",
                                    "operand" : [ {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "MostRecentBiopsyReport",
                                          "libraryName" : "Collate",
                                          "type" : "ExpressionRef"
                                       }
                                    }, {
                                       "value" : 18,
                                       "unit" : "months",
                                       "type" : "Quantity"
                                    } ]
                                 } ]
                              } ]
                           }, {
                              "type" : "In",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentCytologyReport",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "lowClosed" : false,
                                 "highClosed" : false,
                                 "type" : "Interval",
                                 "low" : {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentBiopsyReport",
                                       "libraryName" : "Collate",
                                       "type" : "ExpressionRef"
                                    }
                                 },
                                 "high" : {
                                    "type" : "Add",
                                    "operand" : [ {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "MostRecentBiopsyReport",
                                          "libraryName" : "Collate",
                                          "type" : "ExpressionRef"
                                       }
                                    }, {
                                       "value" : 3.5,
                                       "unit" : "years",
                                       "type" : "Quantity"
                                    } ]
                                 }
                              } ]
                           } ]
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.4.5)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "A diagnostic excisional procedure is recommended (unless the patient is pregnant).",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "And",
                                       "operand" : [ {
                                          "name" : "HistologyInterpretedAsNormal",
                                          "type" : "ExpressionRef"
                                       }, {
                                          "name" : "TwoMostRecentBiopsyReportsWithin2YearsApart",
                                          "type" : "ExpressionRef"
                                       } ]
                                    }, {
                                       "type" : "And",
                                       "operand" : [ {
                                          "type" : "And",
                                          "operand" : [ {
                                             "type" : "And",
                                             "operand" : [ {
                                                "name" : "HasFirstNegativeSurveillanceTestAfterSecondMostRecentBiopsy",
                                                "type" : "ExpressionRef"
                                             }, {
                                                "type" : "And",
                                                "operand" : [ {
                                                   "type" : "In",
                                                   "operand" : [ {
                                                      "path" : "date",
                                                      "type" : "Property",
                                                      "source" : {
                                                         "name" : "FirstNegativeSurveillanceTestAfterSecondMostRecentBiopsy",
                                                         "type" : "ExpressionRef"
                                                      }
                                                   }, {
                                                      "lowClosed" : false,
                                                      "highClosed" : true,
                                                      "type" : "Interval",
                                                      "low" : {
                                                         "path" : "date",
                                                         "type" : "Property",
                                                         "source" : {
                                                            "name" : "SecondMostRecentBiopsyReport",
                                                            "type" : "ExpressionRef"
                                                         }
                                                      },
                                                      "high" : {
                                                         "type" : "Add",
                                                         "operand" : [ {
                                                            "path" : "date",
                                                            "type" : "Property",
                                                            "source" : {
                                                               "name" : "SecondMostRecentBiopsyReport",
                                                               "type" : "ExpressionRef"
                                                            }
                                                         }, {
                                                            "value" : 2,
                                                            "unit" : "years",
                                                            "type" : "Quantity"
                                                         } ]
                                                      }
                                                   } ]
                                                }, {
                                                   "type" : "Not",
                                                   "operand" : {
                                                      "type" : "IsNull",
                                                      "operand" : {
                                                         "path" : "date",
                                                         "type" : "Property",
                                                         "source" : {
                                                            "name" : "SecondMostRecentBiopsyReport",
                                                            "type" : "ExpressionRef"
                                                         }
                                                      }
                                                   }
                                                } ]
                                             } ]
                                          }, {
                                             "type" : "GreaterOrEqual",
                                             "operand" : [ {
                                                "type" : "Count",
                                                "source" : {
                                                   "name" : "NegativeSurveillanceTestsAfterSecondMostRecentBiopsy",
                                                   "type" : "ExpressionRef"
                                                }
                                             }, {
                                                "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                                "value" : "2",
                                                "type" : "Literal"
                                             } ]
                                          } ]
                                       }, {
                                          "type" : "And",
                                          "operand" : [ {
                                             "type" : "In",
                                             "operand" : [ {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "type" : "Indexer",
                                                   "operand" : [ {
                                                      "name" : "NegativeSurveillanceTestsAfterSecondMostRecentBiopsy",
                                                      "type" : "ExpressionRef"
                                                   }, {
                                                      "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                                      "value" : "1",
                                                      "type" : "Literal"
                                                   } ]
                                                }
                                             }, {
                                                "lowClosed" : false,
                                                "highClosed" : true,
                                                "type" : "Interval",
                                                "low" : {
                                                   "path" : "date",
                                                   "type" : "Property",
                                                   "source" : {
                                                      "name" : "MostRecentBiopsyReport",
                                                      "libraryName" : "Collate",
                                                      "type" : "ExpressionRef"
                                                   }
                                                },
                                                "high" : {
                                                   "type" : "Add",
                                                   "operand" : [ {
                                                      "path" : "date",
                                                      "type" : "Property",
                                                      "source" : {
                                                         "name" : "MostRecentBiopsyReport",
                                                         "libraryName" : "Collate",
                                                         "type" : "ExpressionRef"
                                                      }
                                                   }, {
                                                      "value" : 18,
                                                      "unit" : "months",
                                                      "type" : "Quantity"
                                                   } ]
                                                }
                                             } ]
                                          }, {
                                             "type" : "Not",
                                             "operand" : {
                                                "type" : "IsNull",
                                                "operand" : {
                                                   "path" : "date",
                                                   "type" : "Property",
                                                   "source" : {
                                                      "name" : "MostRecentBiopsyReport",
                                                      "libraryName" : "Collate",
                                                      "type" : "ExpressionRef"
                                                   }
                                                }
                                             }
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "type" : "And",
                                    "operand" : [ {
                                       "name" : "SecondMostRecentHistologyInterpretedAsCin1OrNormal",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "name" : "PrecedingCytologyBeforeSecondMostRecentBiopsyIsHsil",
                                       "type" : "ExpressionRef"
                                    } ]
                                 } ]
                              }, {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Not",
                                    "operand" : {
                                       "type" : "And",
                                       "operand" : [ {
                                          "type" : "In",
                                          "operand" : [ {
                                             "name" : "MostRecentTreatmentDate",
                                             "type" : "ExpressionRef"
                                          }, {
                                             "lowClosed" : false,
                                             "highClosed" : true,
                                             "type" : "Interval",
                                             "low" : {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "SecondMostRecentBiopsyReport",
                                                   "type" : "ExpressionRef"
                                                }
                                             },
                                             "high" : {
                                                "type" : "Add",
                                                "operand" : [ {
                                                   "path" : "date",
                                                   "type" : "Property",
                                                   "source" : {
                                                      "name" : "SecondMostRecentBiopsyReport",
                                                      "type" : "ExpressionRef"
                                                   }
                                                }, {
                                                   "value" : 2,
                                                   "unit" : "years",
                                                   "type" : "Quantity"
                                                } ]
                                             }
                                          } ]
                                       }, {
                                          "type" : "Not",
                                          "operand" : {
                                             "type" : "IsNull",
                                             "operand" : {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "SecondMostRecentBiopsyReport",
                                                   "type" : "ExpressionRef"
                                                }
                                             }
                                          }
                                       } ]
                                    }
                                 }, {
                                    "type" : "IsNull",
                                    "operand" : {
                                       "name" : "MostRecentTreatment",
                                       "type" : "ExpressionRef"
                                    }
                                 } ]
                              } ]
                           }, {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "And",
                                       "operand" : [ {
                                          "name" : "HasFirstNegativeSurveillanceTestAfterMostRecentBiopsy",
                                          "type" : "ExpressionRef"
                                       }, {
                                          "type" : "GreaterOrEqual",
                                          "operand" : [ {
                                             "type" : "Count",
                                             "source" : {
                                                "name" : "NegativeSurveillanceTestsAfterMostRecentBiopsy",
                                                "type" : "ExpressionRef"
                                             }
                                          }, {
                                             "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                             "value" : "2",
                                             "type" : "Literal"
                                          } ]
                                       } ]
                                    }, {
                                       "type" : "And",
                                       "operand" : [ {
                                          "type" : "In",
                                          "operand" : [ {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "type" : "Indexer",
                                                "operand" : [ {
                                                   "name" : "NegativeSurveillanceTestsAfterMostRecentBiopsy",
                                                   "type" : "ExpressionRef"
                                                }, {
                                                   "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                                   "value" : "1",
                                                   "type" : "Literal"
                                                } ]
                                             }
                                          }, {
                                             "lowClosed" : false,
                                             "highClosed" : true,
                                             "type" : "Interval",
                                             "low" : {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "MostRecentBiopsyReport",
                                                   "libraryName" : "Collate",
                                                   "type" : "ExpressionRef"
                                                }
                                             },
                                             "high" : {
                                                "type" : "Add",
                                                "operand" : [ {
                                                   "path" : "date",
                                                   "type" : "Property",
                                                   "source" : {
                                                      "name" : "MostRecentBiopsyReport",
                                                      "libraryName" : "Collate",
                                                      "type" : "ExpressionRef"
                                                   }
                                                }, {
                                                   "value" : 3.5,
                                                   "unit" : "years",
                                                   "type" : "Quantity"
                                                } ]
                                             }
                                          } ]
                                       }, {
                                          "type" : "Not",
                                          "operand" : {
                                             "type" : "IsNull",
                                             "operand" : {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "MostRecentBiopsyReport",
                                                   "libraryName" : "Collate",
                                                   "type" : "ExpressionRef"
                                                }
                                             }
                                          }
                                       } ]
                                    } ]
                                 }, {
                                    "type" : "And",
                                    "operand" : [ {
                                       "name" : "HistologyInterpretedAsCin1OrNormal",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "name" : "PrecedingCytologyIsAscH",
                                       "type" : "ExpressionRef"
                                    } ]
                                 } ]
                              }, {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Not",
                                    "operand" : {
                                       "type" : "And",
                                       "operand" : [ {
                                          "type" : "In",
                                          "operand" : [ {
                                             "name" : "MostRecentTreatmentDate",
                                             "type" : "ExpressionRef"
                                          }, {
                                             "lowClosed" : false,
                                             "highClosed" : true,
                                             "type" : "Interval",
                                             "low" : {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "MostRecentBiopsyReport",
                                                   "libraryName" : "Collate",
                                                   "type" : "ExpressionRef"
                                                }
                                             },
                                             "high" : {
                                                "type" : "Add",
                                                "operand" : [ {
                                                   "path" : "date",
                                                   "type" : "Property",
                                                   "source" : {
                                                      "name" : "MostRecentBiopsyReport",
                                                      "libraryName" : "Collate",
                                                      "type" : "ExpressionRef"
                                                   }
                                                }, {
                                                   "value" : 2,
                                                   "unit" : "years",
                                                   "type" : "Quantity"
                                                } ]
                                             }
                                          } ]
                                       }, {
                                          "type" : "Not",
                                          "operand" : {
                                             "type" : "IsNull",
                                             "operand" : {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "MostRecentBiopsyReport",
                                                   "libraryName" : "Collate",
                                                   "type" : "ExpressionRef"
                                                }
                                             }
                                          }
                                       } ]
                                    }
                                 }, {
                                    "type" : "IsNull",
                                    "operand" : {
                                       "name" : "MostRecentTreatment",
                                       "type" : "ExpressionRef"
                                    }
                                 } ]
                              } ]
                           } ]
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "HasPositiveSurveillanceAfterMostRecentBiopsy",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.4.3.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Primary hrHPV testing or cotesting every 3 years is recommended for at least 25 years, even if this is beyond the age of 65 years. Surveillance may continue for as long as the patient remains in good health.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "25",
                           "type" : "Literal"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "And",
                                       "operand" : [ {
                                          "name" : "MostRecentBiopsyReportWasWithinPast2Years",
                                          "type" : "ExpressionRef"
                                       }, {
                                          "name" : "HistologyInterpretedAsNormal",
                                          "type" : "ExpressionRef"
                                       } ]
                                    }, {
                                       "name" : "TwoMostRecentBiopsyReportsWithin2YearsApart",
                                       "type" : "ExpressionRef"
                                    } ]
                                 }, {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "And",
                                       "operand" : [ {
                                          "name" : "HasFirstNegativeSurveillanceTestAfterSecondMostRecentBiopsy",
                                          "type" : "ExpressionRef"
                                       }, {
                                          "type" : "Greater",
                                          "operand" : [ {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "FirstNegativeSurveillanceTestAfterSecondMostRecentBiopsy",
                                                "type" : "ExpressionRef"
                                             }
                                          }, {
                                             "type" : "Subtract",
                                             "operand" : [ {
                                                "type" : "Now"
                                             }, {
                                                "value" : 24,
                                                "unit" : "months",
                                                "type" : "Quantity"
                                             } ]
                                          } ]
                                       } ]
                                    }, {
                                       "type" : "And",
                                       "operand" : [ {
                                          "type" : "In",
                                          "operand" : [ {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "FirstNegativeSurveillanceTestAfterSecondMostRecentBiopsy",
                                                "type" : "ExpressionRef"
                                             }
                                          }, {
                                             "lowClosed" : false,
                                             "highClosed" : true,
                                             "type" : "Interval",
                                             "low" : {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "SecondMostRecentBiopsyReport",
                                                   "type" : "ExpressionRef"
                                                }
                                             },
                                             "high" : {
                                                "type" : "Add",
                                                "operand" : [ {
                                                   "path" : "date",
                                                   "type" : "Property",
                                                   "source" : {
                                                      "name" : "SecondMostRecentBiopsyReport",
                                                      "type" : "ExpressionRef"
                                                   }
                                                }, {
                                                   "value" : 24,
                                                   "unit" : "months",
                                                   "type" : "Quantity"
                                                } ]
                                             }
                                          } ]
                                       }, {
                                          "type" : "Not",
                                          "operand" : {
                                             "type" : "IsNull",
                                             "operand" : {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "SecondMostRecentBiopsyReport",
                                                   "type" : "ExpressionRef"
                                                }
                                             }
                                          }
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "type" : "And",
                                 "operand" : [ {
                                    "name" : "SecondMostRecentHistologyInterpretedAsCin1OrNormal",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "name" : "PrecedingCytologyBeforeSecondMostRecentBiopsyIsHsil",
                                    "type" : "ExpressionRef"
                                 } ]
                              } ]
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "In",
                                       "operand" : [ {
                                          "name" : "MostRecentTreatmentDate",
                                          "type" : "ExpressionRef"
                                       }, {
                                          "lowClosed" : false,
                                          "highClosed" : true,
                                          "type" : "Interval",
                                          "low" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "SecondMostRecentBiopsyReport",
                                                "type" : "ExpressionRef"
                                             }
                                          },
                                          "high" : {
                                             "type" : "Add",
                                             "operand" : [ {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "SecondMostRecentBiopsyReport",
                                                   "type" : "ExpressionRef"
                                                }
                                             }, {
                                                "value" : 2,
                                                "unit" : "years",
                                                "type" : "Quantity"
                                             } ]
                                          }
                                       } ]
                                    }, {
                                       "type" : "Not",
                                       "operand" : {
                                          "type" : "IsNull",
                                          "operand" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "SecondMostRecentBiopsyReport",
                                                "type" : "ExpressionRef"
                                             }
                                          }
                                       }
                                    } ]
                                 }
                              }, {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "MostRecentTreatment",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           } ]
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "And",
                                    "operand" : [ {
                                       "name" : "HasFirstNegativeSurveillanceTestAfterMostRecentBiopsy",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "type" : "Greater",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "FirstNegativeSurveillanceTestAfterMostRecentBiopsy",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "type" : "Subtract",
                                          "operand" : [ {
                                             "type" : "Now"
                                          }, {
                                             "value" : 24,
                                             "unit" : "months",
                                             "type" : "Quantity"
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "In",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "FirstNegativeSurveillanceTestAfterMostRecentBiopsy",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "lowClosed" : false,
                                          "highClosed" : true,
                                          "type" : "Interval",
                                          "low" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "MostRecentBiopsyReport",
                                                "libraryName" : "Collate",
                                                "type" : "ExpressionRef"
                                             }
                                          },
                                          "high" : {
                                             "type" : "Add",
                                             "operand" : [ {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "MostRecentBiopsyReport",
                                                   "libraryName" : "Collate",
                                                   "type" : "ExpressionRef"
                                                }
                                             }, {
                                                "value" : 24,
                                                "unit" : "months",
                                                "type" : "Quantity"
                                             } ]
                                          }
                                       } ]
                                    }, {
                                       "type" : "Not",
                                       "operand" : {
                                          "type" : "IsNull",
                                          "operand" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "MostRecentBiopsyReport",
                                                "libraryName" : "Collate",
                                                "type" : "ExpressionRef"
                                             }
                                          }
                                       }
                                    } ]
                                 } ]
                              }, {
                                 "type" : "And",
                                 "operand" : [ {
                                    "name" : "HistologyInterpretedAsCin1OrNormal",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "name" : "PrecedingCytologyIsAscH",
                                    "type" : "ExpressionRef"
                                 } ]
                              } ]
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "In",
                                       "operand" : [ {
                                          "name" : "MostRecentTreatmentDate",
                                          "type" : "ExpressionRef"
                                       }, {
                                          "lowClosed" : false,
                                          "highClosed" : true,
                                          "type" : "Interval",
                                          "low" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "MostRecentBiopsyReport",
                                                "libraryName" : "Collate",
                                                "type" : "ExpressionRef"
                                             }
                                          },
                                          "high" : {
                                             "type" : "Add",
                                             "operand" : [ {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "MostRecentBiopsyReport",
                                                   "libraryName" : "Collate",
                                                   "type" : "ExpressionRef"
                                                }
                                             }, {
                                                "value" : 2,
                                                "unit" : "years",
                                                "type" : "Quantity"
                                             } ]
                                          }
                                       } ]
                                    }, {
                                       "type" : "Not",
                                       "operand" : {
                                          "type" : "IsNull",
                                          "operand" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "MostRecentBiopsyReport",
                                                "libraryName" : "Collate",
                                                "type" : "ExpressionRef"
                                             }
                                          }
                                       }
                                    } ]
                                 }
                              }, {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "MostRecentTreatment",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           } ]
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.4.3.1)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Primary hrHPV testing or cotesting is recommended in 1 year.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "Or",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "name" : "HistologyInterpretedAsCin1OrNormal",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "type" : "Or",
                                    "operand" : [ {
                                       "name" : "PrecedingCytologyIsHsil",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "name" : "PrecedingCytologyIsAscH",
                                       "type" : "ExpressionRef"
                                    } ]
                                 } ]
                              }, {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "type" : "Not",
                                    "operand" : {
                                       "type" : "And",
                                       "operand" : [ {
                                          "type" : "In",
                                          "operand" : [ {
                                             "name" : "MostRecentTreatmentDate",
                                             "type" : "ExpressionRef"
                                          }, {
                                             "lowClosed" : false,
                                             "highClosed" : true,
                                             "type" : "Interval",
                                             "low" : {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "MostRecentBiopsyReport",
                                                   "libraryName" : "Collate",
                                                   "type" : "ExpressionRef"
                                                }
                                             },
                                             "high" : {
                                                "type" : "Add",
                                                "operand" : [ {
                                                   "path" : "date",
                                                   "type" : "Property",
                                                   "source" : {
                                                      "name" : "MostRecentBiopsyReport",
                                                      "libraryName" : "Collate",
                                                      "type" : "ExpressionRef"
                                                   }
                                                }, {
                                                   "value" : 2,
                                                   "unit" : "years",
                                                   "type" : "Quantity"
                                                } ]
                                             }
                                          } ]
                                       }, {
                                          "type" : "Not",
                                          "operand" : {
                                             "type" : "IsNull",
                                             "operand" : {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "MostRecentBiopsyReport",
                                                   "libraryName" : "Collate",
                                                   "type" : "ExpressionRef"
                                                }
                                             }
                                          }
                                       } ]
                                    }
                                 }, {
                                    "type" : "IsNull",
                                    "operand" : {
                                       "name" : "MostRecentTreatment",
                                       "type" : "ExpressionRef"
                                    }
                                 } ]
                              } ]
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "And",
                                       "operand" : [ {
                                          "type" : "And",
                                          "operand" : [ {
                                             "type" : "Not",
                                             "operand" : {
                                                "type" : "IsNull",
                                                "operand" : {
                                                   "name" : "MostRecentCytologyReport",
                                                   "type" : "ExpressionRef"
                                                }
                                             }
                                          }, {
                                             "type" : "Not",
                                             "operand" : {
                                                "name" : "CytologyInterpretedAsNilm",
                                                "type" : "ExpressionRef"
                                             }
                                          } ]
                                       }, {
                                          "type" : "Not",
                                          "operand" : {
                                             "name" : "CytologyInterpretedAsHsil",
                                             "type" : "ExpressionRef"
                                          }
                                       } ]
                                    }, {
                                       "type" : "In",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "MostRecentCytologyReport",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "lowClosed" : false,
                                          "highClosed" : false,
                                          "type" : "Interval",
                                          "low" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "MostRecentBiopsyReport",
                                                "libraryName" : "Collate",
                                                "type" : "ExpressionRef"
                                             }
                                          },
                                          "high" : {
                                             "type" : "Add",
                                             "operand" : [ {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "MostRecentBiopsyReport",
                                                   "libraryName" : "Collate",
                                                   "type" : "ExpressionRef"
                                                }
                                             }, {
                                                "value" : 3.5,
                                                "unit" : "years",
                                                "type" : "Quantity"
                                             } ]
                                          }
                                       } ]
                                    } ]
                                 }, {
                                    "type" : "After",
                                    "operand" : [ {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "MostRecentCytologyReport",
                                          "type" : "ExpressionRef"
                                       }
                                    }, {
                                       "type" : "Add",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "MostRecentBiopsyReport",
                                             "libraryName" : "Collate",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "value" : 6,
                                          "unit" : "months",
                                          "type" : "Quantity"
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "And",
                                       "operand" : [ {
                                          "type" : "Not",
                                          "operand" : {
                                             "type" : "IsNull",
                                             "operand" : {
                                                "name" : "MostRecentHpvReport",
                                                "libraryName" : "Collate",
                                                "type" : "ExpressionRef"
                                             }
                                          }
                                       }, {
                                          "type" : "Not",
                                          "operand" : {
                                             "type" : "Equal",
                                             "operand" : [ {
                                                "name" : "MostRecentHpvResult",
                                                "libraryName" : "Collate",
                                                "type" : "ExpressionRef"
                                             }, {
                                                "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                                "value" : "HPV-negative",
                                                "type" : "Literal"
                                             } ]
                                          }
                                       } ]
                                    }, {
                                       "type" : "In",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "MostRecentHpvReport",
                                             "libraryName" : "Collate",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "lowClosed" : false,
                                          "highClosed" : false,
                                          "type" : "Interval",
                                          "low" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "MostRecentBiopsyReport",
                                                "libraryName" : "Collate",
                                                "type" : "ExpressionRef"
                                             }
                                          },
                                          "high" : {
                                             "type" : "Add",
                                             "operand" : [ {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "MostRecentBiopsyReport",
                                                   "libraryName" : "Collate",
                                                   "type" : "ExpressionRef"
                                                }
                                             }, {
                                                "value" : 3.5,
                                                "unit" : "years",
                                                "type" : "Quantity"
                                             } ]
                                          }
                                       } ]
                                    } ]
                                 }, {
                                    "type" : "After",
                                    "operand" : [ {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "MostRecentHpvReport",
                                          "libraryName" : "Collate",
                                          "type" : "ExpressionRef"
                                       }
                                    }, {
                                       "type" : "Add",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "MostRecentBiopsyReport",
                                             "libraryName" : "Collate",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "value" : 6,
                                          "unit" : "months",
                                          "type" : "Quantity"
                                       } ]
                                    } ]
                                 } ]
                              } ]
                           } ]
                        } ]
                     }, {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "name" : "SecondMostRecentHistologyInterpretedAsCin1OrNormal",
                                 "type" : "ExpressionRef"
                              }, {
                                 "type" : "Or",
                                 "operand" : [ {
                                    "name" : "PrecedingCytologyBeforeSecondMostRecentBiopsyIsHsil",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "name" : "PrecedingCytologyBeforeSecondMostRecentBiopsyIsAscH",
                                    "type" : "ExpressionRef"
                                 } ]
                              } ]
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "In",
                                       "operand" : [ {
                                          "name" : "MostRecentTreatmentDate",
                                          "type" : "ExpressionRef"
                                       }, {
                                          "lowClosed" : false,
                                          "highClosed" : true,
                                          "type" : "Interval",
                                          "low" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "SecondMostRecentBiopsyReport",
                                                "type" : "ExpressionRef"
                                             }
                                          },
                                          "high" : {
                                             "type" : "Add",
                                             "operand" : [ {
                                                "path" : "date",
                                                "type" : "Property",
                                                "source" : {
                                                   "name" : "SecondMostRecentBiopsyReport",
                                                   "type" : "ExpressionRef"
                                                }
                                             }, {
                                                "value" : 2,
                                                "unit" : "years",
                                                "type" : "Quantity"
                                             } ]
                                          }
                                       } ]
                                    }, {
                                       "type" : "Not",
                                       "operand" : {
                                          "type" : "IsNull",
                                          "operand" : {
                                             "path" : "date",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "SecondMostRecentBiopsyReport",
                                                "type" : "ExpressionRef"
                                             }
                                          }
                                       }
                                    } ]
                                 }
                              }, {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "MostRecentTreatment",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           } ]
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "Not",
                                    "operand" : {
                                       "type" : "IsNull",
                                       "operand" : {
                                          "name" : "MostRecentBiopsyReport",
                                          "libraryName" : "Collate",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "type" : "Not",
                                    "operand" : {
                                       "name" : "HistologyInterpretedAsNormal",
                                       "type" : "ExpressionRef"
                                    }
                                 } ]
                              }, {
                                 "type" : "In",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentBiopsyReport",
                                       "libraryName" : "Collate",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "lowClosed" : false,
                                    "highClosed" : false,
                                    "type" : "Interval",
                                    "low" : {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "SecondMostRecentBiopsyReport",
                                          "type" : "ExpressionRef"
                                       }
                                    },
                                    "high" : {
                                       "type" : "Add",
                                       "operand" : [ {
                                          "path" : "date",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "SecondMostRecentBiopsyReport",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "value" : 3.5,
                                          "unit" : "years",
                                          "type" : "Quantity"
                                       } ]
                                    }
                                 } ]
                              } ]
                           }, {
                              "type" : "After",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentBiopsyReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "type" : "Add",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "SecondMostRecentBiopsyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 6,
                                    "unit" : "months",
                                    "type" : "Quantity"
                                 } ]
                              } ]
                           } ]
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.4.4)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Colposcopy is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "GreaterOrEqual",
                                    "operand" : [ {
                                       "precision" : "Year",
                                       "type" : "CalculateAge",
                                       "operand" : {
                                          "path" : "birthDate.value",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "Patient",
                                             "type" : "ExpressionRef"
                                          }
                                       }
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "25",
                                       "type" : "Literal"
                                    } ]
                                 }, {
                                    "name" : "HistologyInterpretedAsCin1OrNormal",
                                    "type" : "ExpressionRef"
                                 } ]
                              }, {
                                 "name" : "PrecedingCytologyIsHsil",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "HasTreatmentAfterMostRecentBiopsy",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "HasColposcopyProcedureAfterMostRecentBiopsy",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "HasSurveillanceAfterMostRecentBiopsy",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.4.1)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Immediate diagnostic excisional procedure (unless the patient is pregnant), or observation with primary HPV testing or cotesting and colposcopy in 1 year, or review of the cytologic, histologic and colposcopic findings are acceptable.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Observation is only acceptable when the initial colposcopic examination fully visualized the squamocolumnar junction and the upper limit of any lesion, and that the endocervical sampling, if collected, was less than CIN 2.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "GreaterOrEqual",
                                    "operand" : [ {
                                       "precision" : "Year",
                                       "type" : "CalculateAge",
                                       "operand" : {
                                          "path" : "birthDate.value",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "Patient",
                                             "type" : "ExpressionRef"
                                          }
                                       }
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "25",
                                       "type" : "Literal"
                                    } ]
                                 }, {
                                    "name" : "HistologyInterpretedAsCin1OrNormal",
                                    "type" : "ExpressionRef"
                                 } ]
                              }, {
                                 "name" : "PrecedingCytologyIsAscH",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "HasTreatmentAfterMostRecentBiopsy",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "HasColposcopyProcedureAfterMostRecentBiopsy",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "HasSurveillanceAfterMostRecentBiopsy",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.4.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Observation with primary HPV testing or cotesting at 1 year is recommended if the colposcopic examination fully visualized the squamocolumnar junction and the upper limit of any lesion, and the endocervical sampling, if collected, was negative.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "A diagnostic excisional procedure is not recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "And",
                                 "operand" : [ {
                                    "type" : "And",
                                    "operand" : [ {
                                       "type" : "GreaterOrEqual",
                                       "operand" : [ {
                                          "precision" : "Year",
                                          "type" : "CalculateAge",
                                          "operand" : {
                                             "path" : "birthDate.value",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "Patient",
                                                "type" : "ExpressionRef"
                                             }
                                          }
                                       }, {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                          "value" : "25",
                                          "type" : "Literal"
                                       } ]
                                    }, {
                                       "name" : "HistologyInterpretedAsCin1",
                                       "type" : "ExpressionRef"
                                    } ]
                                 }, {
                                    "name" : "SecondMostRecentHistologyInterpretedAsCin1",
                                    "type" : "ExpressionRef"
                                 } ]
                              }, {
                                 "name" : "TwoMostRecentBiopsyReportsWithin2YearsApart",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "type" : "IsNull",
                              "operand" : {
                                 "name" : "LastKnownHsilUnspecifiedBiopsyInPast6Years",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "LastKnownCin2BiopsyInPast6Years",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Not",
                           "operand" : {
                              "type" : "After",
                              "operand" : [ {
                                 "name" : "MostRecentTreatmentDate",
                                 "type" : "ExpressionRef"
                              }, {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "SecondMostRecentBiopsyReport",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           }
                        }, {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "MostRecentTreatment",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Managing Histology (I.5)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Histologic LSIL (CIN1) is not considered a cancer precursor, so observation is preferred. Treatment is acceptable if strongly preferred by the patient.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "If treatment is selected and the entire squamocolumnar junction and all lesions were fully visualized during colposcopic examination, either excision or ablation treatments are acceptable.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "short",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Date",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "group",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "details",
                        "elementType" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "TreatmentInLastYear",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "P",
                  "expression" : {
                     "name" : "MostRecentTreatment",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "GreaterOrEqual",
                  "operand" : [ {
                     "name" : "ProcedureDate",
                     "libraryName" : "CCF",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "P",
                        "type" : "AliasRef"
                     } ]
                  }, {
                     "type" : "Subtract",
                     "operand" : [ {
                        "type" : "Now"
                     }, {
                        "value" : 12,
                        "unit" : "months",
                        "type" : "Quantity"
                     } ]
                  } ]
               }
            }
         }, {
            "name" : "HasTreatmentInLastYear",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Not",
               "operand" : {
                  "type" : "IsNull",
                  "operand" : {
                     "name" : "TreatmentInLastYear",
                     "type" : "ExpressionRef"
                  }
               }
            }
         }, {
            "name" : "AnyHistologicHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "B",
                  "expression" : {
                     "name" : "SortedBiopsyReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "AnyTrue",
                  "source" : {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "aC",
                        "expression" : {
                           "path" : "allConclusions",
                           "scope" : "B",
                           "type" : "Property"
                        }
                     } ],
                     "relationship" : [ ],
                     "return" : {
                        "expression" : {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "CIN2",
                                       "libraryName" : "Dash",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              }, {
                                 "type" : "InValueSet",
                                 "code" : {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 },
                                 "valueset" : {
                                    "name" : "Histologic CIN3",
                                    "libraryName" : "Dash"
                                 }
                              } ]
                           }, {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "ToConcept",
                                 "libraryName" : "FHIRHelpers",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "aC",
                                    "type" : "AliasRef"
                                 } ]
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "HSIL, Unspecified",
                                    "libraryName" : "Dash",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           } ]
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "HistologyInterpretedAsHistologicHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Or",
                  "operand" : [ {
                     "name" : "HistologyInterpretedAsCin2",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "HistologyInterpretedAsCin3",
                     "type" : "ExpressionRef"
                  } ]
               }, {
                  "name" : "HistologyInterpretedAsUnspecifiedHsil",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "SecondMostRecentHistologyInterpretedAsCin2",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "CIN2",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentHistologyInterpretedAsCin3",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "Histologic CIN3",
                           "libraryName" : "Dash"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentHistologyInterpretedAsUnspecifiedHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentBiopsyReport",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "HSIL, Unspecified",
                              "libraryName" : "Dash",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "SecondMostRecentHistologyInterpretedAsHistologicHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Or",
                  "operand" : [ {
                     "name" : "SecondMostRecentHistologyInterpretedAsCin2",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "SecondMostRecentHistologyInterpretedAsCin3",
                     "type" : "ExpressionRef"
                  } ]
               }, {
                  "name" : "SecondMostRecentHistologyInterpretedAsUnspecifiedHsil",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "HistologicHsilWithin12MonthsBeforeTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "B",
                  "expression" : {
                     "name" : "AnyHistologicHsil",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "In",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "B",
                        "type" : "Property"
                     }, {
                        "lowClosed" : true,
                        "highClosed" : false,
                        "type" : "Interval",
                        "low" : {
                           "type" : "Subtract",
                           "operand" : [ {
                              "name" : "MostRecentTreatmentDate",
                              "type" : "ExpressionRef"
                           }, {
                              "value" : 12,
                              "unit" : "months",
                              "type" : "Quantity"
                           } ]
                        },
                        "high" : {
                           "name" : "MostRecentTreatmentDate",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "MostRecentTreatmentDate",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ]
               }
            }
         }, {
            "name" : "HasHistologicHsilWithin12MonthsBeforeTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "HistologicHsilWithin12MonthsBeforeTreatment",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "MostRecentTreatment",
                           "type" : "ExpressionRef"
                        }
                     }
                  }, {
                     "name" : "ManageTreatmentWithoutPreviousBiopsy",
                     "libraryName" : "Collate",
                     "type" : "ParameterRef"
                  } ]
               } ]
            }
         }, {
            "name" : "PositiveHrHpvTestAfterTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "GreaterOrEqual",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHpvReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "type" : "Subtract",
                        "operand" : [ {
                           "type" : "Now"
                        }, {
                           "value" : 12,
                           "unit" : "months",
                           "type" : "Quantity"
                        } ]
                     } ]
                  }, {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentHpvReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "lowClosed" : false,
                           "highClosed" : true,
                           "type" : "Interval",
                           "low" : {
                              "name" : "MostRecentTreatmentDate",
                              "type" : "ExpressionRef"
                           },
                           "high" : {
                              "type" : "Add",
                              "operand" : [ {
                                 "name" : "MostRecentTreatmentDate",
                                 "type" : "ExpressionRef"
                              }, {
                                 "value" : 12,
                                 "unit" : "months",
                                 "type" : "Quantity"
                              } ]
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "MostRecentTreatmentDate",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ]
                  } ]
               }, {
                  "type" : "AnyTrue",
                  "source" : {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "aC",
                        "expression" : {
                           "path" : "allConclusions",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentHpvReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ],
                     "relationship" : [ ],
                     "return" : {
                        "expression" : {
                           "type" : "InValueSet",
                           "code" : {
                              "name" : "ToConcept",
                              "libraryName" : "FHIRHelpers",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "aC",
                                 "type" : "AliasRef"
                              } ]
                           },
                           "valueset" : {
                              "name" : "High Risk HPV Positive Results",
                              "libraryName" : "Dash"
                           }
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "RareAbnormalityHighGradeHistology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "B",
                  "expression" : {
                     "name" : "SortedBiopsyReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "AnyTrue",
                  "source" : {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "aC",
                        "expression" : {
                           "path" : "allConclusions",
                           "scope" : "B",
                           "type" : "Property"
                        }
                     } ],
                     "relationship" : [ ],
                     "return" : {
                        "expression" : {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "Equivalent",
                                 "operand" : [ {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 }, {
                                    "type" : "ToConcept",
                                    "operand" : {
                                       "name" : "CIN2",
                                       "libraryName" : "Dash",
                                       "type" : "CodeRef"
                                    }
                                 } ]
                              }, {
                                 "type" : "InValueSet",
                                 "code" : {
                                    "name" : "ToConcept",
                                    "libraryName" : "FHIRHelpers",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "aC",
                                       "type" : "AliasRef"
                                    } ]
                                 },
                                 "valueset" : {
                                    "name" : "Histologic CIN3",
                                    "libraryName" : "Dash"
                                 }
                              } ]
                           }, {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "ToConcept",
                                 "libraryName" : "FHIRHelpers",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "aC",
                                    "type" : "AliasRef"
                                 } ]
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "HSIL, Unspecified",
                                    "libraryName" : "Dash",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           } ]
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "RareAbnormalityHighGradeHistologyBeforeTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "MostRecentTreatment",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "C",
                     "expression" : {
                        "name" : "RareAbnormalityHighGradeHistology",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "C",
                           "type" : "Property"
                        }, {
                           "lowClosed" : true,
                           "highClosed" : false,
                           "type" : "Interval",
                           "low" : {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "name" : "MostRecentTreatmentDate",
                                 "type" : "ExpressionRef"
                              }, {
                                 "value" : 12,
                                 "unit" : "months",
                                 "type" : "Quantity"
                              } ]
                           },
                           "high" : {
                              "name" : "MostRecentTreatmentDate",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "MostRecentTreatmentDate",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ]
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "riskTableInput",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "allConclusions",
                           "elementType" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "name" : "{http://hl7.org/fhir}CodeableConcept",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        }, {
                           "name" : "date",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologicHsilOrAgc",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "C",
                  "expression" : {
                     "name" : "SortedCytologyReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "AnyTrue",
                  "source" : {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "aC",
                        "expression" : {
                           "path" : "allConclusions",
                           "scope" : "C",
                           "type" : "Property"
                        }
                     } ],
                     "relationship" : [ ],
                     "return" : {
                        "expression" : {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "InValueSet",
                              "code" : {
                                 "name" : "ToConcept",
                                 "libraryName" : "FHIRHelpers",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "aC",
                                    "type" : "AliasRef"
                                 } ]
                              },
                              "valueset" : {
                                 "name" : "HSIL",
                                 "preserve" : true
                              }
                           }, {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "ToConcept",
                                 "libraryName" : "FHIRHelpers",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "aC",
                                    "type" : "AliasRef"
                                 } ]
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "AGC",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           } ]
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "CytologicHsilOrAgcBeforeTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "MostRecentTreatment",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "C",
                     "expression" : {
                        "name" : "CytologicHsilOrAgc",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "C",
                           "type" : "Property"
                        }, {
                           "lowClosed" : true,
                           "highClosed" : false,
                           "type" : "Interval",
                           "low" : {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "name" : "MostRecentTreatmentDate",
                                 "type" : "ExpressionRef"
                              }, {
                                 "value" : 12,
                                 "unit" : "months",
                                 "type" : "Quantity"
                              } ]
                           },
                           "high" : {
                              "name" : "MostRecentTreatmentDate",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "MostRecentTreatmentDate",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ]
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "riskTableInput",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "allConclusions",
                           "elementType" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "name" : "{http://hl7.org/fhir}CodeableConcept",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        }, {
                           "name" : "date",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "CytologyResultsBeforeTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "MostRecentTreatment",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "C",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "C",
                           "type" : "Property"
                        }, {
                           "lowClosed" : true,
                           "highClosed" : false,
                           "type" : "Interval",
                           "low" : {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "name" : "MostRecentTreatmentDate",
                                 "type" : "ExpressionRef"
                              }, {
                                 "value" : 12,
                                 "unit" : "months",
                                 "type" : "Quantity"
                              } ]
                           },
                           "high" : {
                              "name" : "MostRecentTreatmentDate",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "MostRecentTreatmentDate",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ]
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "riskTableInput",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "allConclusions",
                           "elementType" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "name" : "{http://hl7.org/fhir}CodeableConcept",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        }, {
                           "name" : "date",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "HasPersistentAscHBeforeTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "GreaterOrEqual",
                  "operand" : [ {
                     "type" : "Count",
                     "source" : {
                        "name" : "CytologyResultsBeforeTreatment",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2",
                     "type" : "Literal"
                  } ]
               },
               "then" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "AnyTrue",
                     "source" : {
                        "type" : "Query",
                        "source" : [ {
                           "alias" : "aC",
                           "expression" : {
                              "path" : "allConclusions",
                              "type" : "Property",
                              "source" : {
                                 "type" : "Indexer",
                                 "operand" : [ {
                                    "name" : "CytologyResultsBeforeTreatment",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "0",
                                    "type" : "Literal"
                                 } ]
                              }
                           }
                        } ],
                        "relationship" : [ ],
                        "return" : {
                           "expression" : {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "ToConcept",
                                 "libraryName" : "FHIRHelpers",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "aC",
                                    "type" : "AliasRef"
                                 } ]
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "ASC-H",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           }
                        }
                     }
                  }, {
                     "type" : "AnyTrue",
                     "source" : {
                        "type" : "Query",
                        "source" : [ {
                           "alias" : "aC",
                           "expression" : {
                              "path" : "allConclusions",
                              "type" : "Property",
                              "source" : {
                                 "type" : "Indexer",
                                 "operand" : [ {
                                    "name" : "CytologyResultsBeforeTreatment",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "1",
                                    "type" : "Literal"
                                 } ]
                              }
                           }
                        } ],
                        "relationship" : [ ],
                        "return" : {
                           "expression" : {
                              "type" : "Equivalent",
                              "operand" : [ {
                                 "name" : "ToConcept",
                                 "libraryName" : "FHIRHelpers",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "aC",
                                    "type" : "AliasRef"
                                 } ]
                              }, {
                                 "type" : "ToConcept",
                                 "operand" : {
                                    "name" : "ASC-H",
                                    "type" : "CodeRef"
                                 }
                              } ]
                           }
                        }
                     }
                  } ]
               },
               "else" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "value" : "false",
                  "type" : "Literal"
               }
            }
         }, {
            "name" : "TreatmentForHighGradeHistologyOrCytology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "MostRecentTreatment",
                           "type" : "ExpressionRef"
                        }
                     }
                  }, {
                     "type" : "Or",
                     "operand" : [ {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "Exists",
                              "operand" : {
                                 "name" : "RareAbnormalityHighGradeHistologyBeforeTreatment",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "type" : "Exists",
                              "operand" : {
                                 "name" : "CytologicHsilOrAgcBeforeTreatment",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "name" : "HasPersistentAscHBeforeTreatment",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "ManageTreatmentWithoutPreviousBiopsy",
                        "libraryName" : "Collate",
                        "type" : "ParameterRef"
                     } ]
                  } ]
               },
               "then" : {
                  "name" : "MostRecentTreatment",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "asType" : "{http://hl7.org/fhir}Procedure",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "HasTreatmentForHighGradeHistologyOrCytology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Not",
               "operand" : {
                  "type" : "IsNull",
                  "operand" : {
                     "name" : "TreatmentForHighGradeHistologyOrCytology",
                     "type" : "ExpressionRef"
                  }
               }
            }
         }, {
            "name" : "TreatmentForHighGradeHistologyOrCytologyDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ProcedureDate",
               "libraryName" : "CCF",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "TreatmentForHighGradeHistologyOrCytology",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "NegativeSurveillanceTestsAfterTreatmentForHighGradeHistologyOrCytology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "name" : "HasTreatmentForHighGradeHistologyOrCytology",
                  "type" : "ExpressionRef"
               },
               "then" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "T",
                     "expression" : {
                        "name" : "SortedNegativeSurveillanceTests",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "Greater",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "T",
                        "type" : "Property"
                     }, {
                        "name" : "TreatmentForHighGradeHistologyOrCytologyDate",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "date",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "InitialIntensiveSurveillancePeriod",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "GreaterOrEqual",
                  "operand" : [ {
                     "type" : "Count",
                     "source" : {
                        "name" : "NegativeSurveillanceTestsAfterTreatmentForHighGradeHistologyOrCytology",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "3",
                     "type" : "Literal"
                  } ]
               },
               "then" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "SameOrBefore",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "type" : "Indexer",
                           "operand" : [ {
                              "name" : "NegativeSurveillanceTestsAfterTreatmentForHighGradeHistologyOrCytology",
                              "type" : "ExpressionRef"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "0",
                              "type" : "Literal"
                           } ]
                        }
                     }, {
                        "type" : "Subtract",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "type" : "Indexer",
                              "operand" : [ {
                                 "name" : "NegativeSurveillanceTestsAfterTreatmentForHighGradeHistologyOrCytology",
                                 "type" : "ExpressionRef"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "2",
                                 "type" : "Literal"
                              } ]
                           }
                        }, {
                           "value" : 2,
                           "unit" : "years",
                           "type" : "Quantity"
                        } ]
                     } ]
                  }, {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "type" : "Indexer",
                              "operand" : [ {
                                 "name" : "NegativeSurveillanceTestsAfterTreatmentForHighGradeHistologyOrCytology",
                                 "type" : "ExpressionRef"
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "0",
                                 "type" : "Literal"
                              } ]
                           }
                        }, {
                           "lowClosed" : true,
                           "highClosed" : false,
                           "type" : "Interval",
                           "low" : {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "type" : "Indexer",
                                    "operand" : [ {
                                       "name" : "NegativeSurveillanceTestsAfterTreatmentForHighGradeHistologyOrCytology",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "2",
                                       "type" : "Literal"
                                    } ]
                                 }
                              }, {
                                 "value" : 3,
                                 "unit" : "years",
                                 "type" : "Quantity"
                              } ]
                           },
                           "high" : {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "type" : "Indexer",
                                 "operand" : [ {
                                    "name" : "NegativeSurveillanceTestsAfterTreatmentForHighGradeHistologyOrCytology",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "2",
                                    "type" : "Literal"
                                 } ]
                              }
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "type" : "Indexer",
                                 "operand" : [ {
                                    "name" : "NegativeSurveillanceTestsAfterTreatmentForHighGradeHistologyOrCytology",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "2",
                                    "type" : "Literal"
                                 } ]
                              }
                           }
                        }
                     } ]
                  } ]
               },
               "else" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "value" : "false",
                  "type" : "Literal"
               }
            }
         }, {
            "name" : "HasHistologyAfterTreatmentForHighGradeResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "TreatmentForHighGradeHistologyOrCytology",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ]
               }, {
                  "type" : "After",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentBiopsyReport",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "name" : "TreatmentForHighGradeHistologyOrCytologyDate",
                     "type" : "ExpressionRef"
                  } ]
               } ]
            }
         }, {
            "name" : "RecommendationForSurveillanceAfterAbnormalities",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "HistologyInterpretedAsHistologicHsil",
                           "type" : "ExpressionRef"
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "In",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentBiopsyReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "lowClosed" : false,
                                 "highClosed" : true,
                                 "type" : "Interval",
                                 "low" : {
                                    "name" : "MostRecentTreatmentDate",
                                    "type" : "ExpressionRef"
                                 },
                                 "high" : {
                                    "type" : "Add",
                                    "operand" : [ {
                                       "name" : "MostRecentTreatmentDate",
                                       "type" : "ExpressionRef"
                                    }, {
                                       "value" : 5,
                                       "unit" : "years",
                                       "type" : "Quantity"
                                    } ]
                                 }
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "MostRecentTreatmentDate",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ]
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "SecondMostRecentHistologyInterpretedAsHistologicHsil",
                              "type" : "ExpressionRef"
                           }, {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "In",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "SecondMostRecentBiopsyReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "lowClosed" : true,
                                    "highClosed" : false,
                                    "type" : "Interval",
                                    "low" : {
                                       "type" : "Subtract",
                                       "operand" : [ {
                                          "name" : "MostRecentTreatmentDate",
                                          "type" : "ExpressionRef"
                                       }, {
                                          "value" : 5,
                                          "unit" : "years",
                                          "type" : "Quantity"
                                       } ]
                                    },
                                    "high" : {
                                       "name" : "MostRecentTreatmentDate",
                                       "type" : "ExpressionRef"
                                    }
                                 } ]
                              }, {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "IsNull",
                                    "operand" : {
                                       "name" : "MostRecentTreatmentDate",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              } ]
                           } ]
                        }, {
                           "name" : "ManageTreatmentWithoutPreviousBiopsy",
                           "libraryName" : "Collate",
                           "type" : "ParameterRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Management Surveillance (J.2.3)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Repeat excision is acceptable if recurrent histologic HSIL (CIN 2+) develops after excisional treatment.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "If repeat excision is not feasible or not desired, hysterectomy is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "name" : "PositiveHrHpvTestAfterTreatment",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "HasHistologicHsilWithin12MonthsBeforeTreatment",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Management Surveillance (J.2.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Colposcopy is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "name" : "HasTreatmentInLastYear",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "HasHistologicHsilWithin12MonthsBeforeTreatment",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Management Surveillance (J.2.1)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Primary HPV testing or cotesting is preferred at 6 months regardless of the margin status of the excisional specimen.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Follow-up at 6 months with colposcopy and ECC is acceptable*.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "*Refer to ASCCP Consensus Guideline 2019 Section J.2",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "HasTreatmentForHighGradeHistologyOrCytology",
                              "type" : "ExpressionRef"
                           }, {
                              "type" : "GreaterOrEqual",
                              "operand" : [ {
                                 "name" : "TreatmentForHighGradeHistologyOrCytologyDate",
                                 "type" : "ExpressionRef"
                              }, {
                                 "type" : "Subtract",
                                 "operand" : [ {
                                    "type" : "Now"
                                 }, {
                                    "value" : 25,
                                    "unit" : "years",
                                    "type" : "Quantity"
                                 } ]
                              } ]
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "InitialIntensiveSurveillancePeriod",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "HasHistologyAfterTreatmentForHighGradeResult",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Management Surveillance (J.3.1)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Primary HPV testing or cotesting is recommended at 6, 18, and 30 months following treatment.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "After 3 consecutive negative tests have been obtained, surveillance can continue at 3-year intervals for at least 25 years, even if this is past age 65, and may continue for as long as the patient remains in good health.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "HasTreatmentForHighGradeHistologyOrCytology",
                           "type" : "ExpressionRef"
                        }, {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "name" : "TreatmentForHighGradeHistologyOrCytologyDate",
                              "type" : "ExpressionRef"
                           }, {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "type" : "Now"
                              }, {
                                 "value" : 25,
                                 "unit" : "years",
                                 "type" : "Quantity"
                              } ]
                           } ]
                        } ]
                     }, {
                        "name" : "InitialIntensiveSurveillancePeriod",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Management Surveillance (J.3.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Primary HPV testing or cotesting at 3-year intervals is recommended for at least 25 years after treatment of high-grade histology.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Discontinuation of screening is recommended if a patient has a limited life expectancy.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "HasTreatmentForHighGradeHistologyOrCytology",
                           "type" : "ExpressionRef"
                        }, {
                           "type" : "Less",
                           "operand" : [ {
                              "name" : "TreatmentForHighGradeHistologyOrCytologyDate",
                              "type" : "ExpressionRef"
                           }, {
                              "type" : "Subtract",
                              "operand" : [ {
                                 "type" : "Now"
                              }, {
                                 "value" : 25,
                                 "unit" : "years",
                                 "type" : "Quantity"
                              } ]
                           } ]
                        } ]
                     }, {
                        "name" : "InitialIntensiveSurveillancePeriod",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "group",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Management Surveillance (J.3.2)",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Continued surveillance with HPV testing or cotesting at 3-year intervals is recommended and may continue as long as the patient is in reasonably good health.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "short",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Date",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "group",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "details",
                        "elementType" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "Recommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "name" : "RecommendationForAisHistologyResults",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "RecommendationForSurveillanceAfterAbnormalities",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "RecommendationForHistologyResults",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "RecommendationForExceptionsToColposcopyThreshold",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "RecommendationForRareCytology",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "WhichRarityMadeTheRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForAisHistologyResults",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "3",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForSurveillanceAfterAbnormalities",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "4",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForHistologyResults",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "3",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForExceptionsToColposcopyThreshold",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "RecommendationForRareCytology",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  }
               } ],
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "Errors",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "List"
            }
         }, {
            "name" : "ErrorsHaveOccurred",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "Errors",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "NoErrorsHaveOccurred",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Not",
               "operand" : {
                  "name" : "ErrorsHaveOccurred",
                  "type" : "ExpressionRef"
               }
            }
         } ]
      }
   }
}

