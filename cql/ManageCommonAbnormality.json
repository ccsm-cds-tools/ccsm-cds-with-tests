{
   "library" : {
      "annotation" : [ {
         "translatorVersion" : "2.4.0",
         "translatorOptions" : "",
         "type" : "CqlToElmInfo"
      } ],
      "identifier" : {
         "id" : "ManageCommonAbnormality",
         "version" : "1.1.0"
      },
      "schemaIdentifier" : {
         "id" : "urn:hl7-org:elm",
         "version" : "r1"
      },
      "usings" : {
         "def" : [ {
            "localIdentifier" : "System",
            "uri" : "urn:hl7-org:elm-types:r1"
         }, {
            "localIdentifier" : "FHIR",
            "uri" : "http://hl7.org/fhir",
            "version" : "4.0.1"
         } ]
      },
      "includes" : {
         "def" : [ {
            "localIdentifier" : "FHIRHelpers",
            "path" : "FHIRHelpers",
            "version" : "4.0.1"
         }, {
            "localIdentifier" : "Dash",
            "path" : "DashboardLibrary",
            "version" : "1.0.0"
         }, {
            "localIdentifier" : "Collate",
            "path" : "CollateManagementData",
            "version" : "1.1.0"
         }, {
            "localIdentifier" : "RiskTableLookup",
            "path" : "AutogeneratedTableLookup",
            "version" : "1.0.0"
         }, {
            "localIdentifier" : "CCF",
            "path" : "CCSMCommonFunctions",
            "version" : "1.0.0"
         } ]
      },
      "codeSystems" : {
         "def" : [ {
            "name" : "SNOMED-CT",
            "id" : "http://snomed.info/sct",
            "accessLevel" : "Public"
         } ]
      },
      "codes" : {
         "def" : [ {
            "name" : "ASC-US",
            "id" : "441087007",
            "display" : "Atypical squamous cells of undetermined significance on cervical Papanicolaou smear (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         } ]
      },
      "contexts" : {
         "def" : [ {
            "name" : "Patient"
         } ]
      },
      "statements" : {
         "def" : [ {
            "name" : "Patient",
            "context" : "Patient",
            "expression" : {
               "type" : "SingletonFrom",
               "operand" : {
                  "dataType" : "{http://hl7.org/fhir}Patient",
                  "templateId" : "http://hl7.org/fhir/StructureDefinition/Patient",
                  "type" : "Retrieve"
               }
            }
         }, {
            "name" : "HpvDates",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "H",
                  "expression" : {
                     "name" : "SortedHpvReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "path" : "date",
                     "scope" : "H",
                     "type" : "Property"
                  }
               }
            }
         }, {
            "name" : "CytologyAloneReports",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "HpvDates",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "C",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "scope" : "C",
                           "type" : "Property"
                        }, {
                           "name" : "HpvDates",
                           "type" : "ExpressionRef"
                        } ]
                     }
                  },
                  "return" : {
                     "expression" : {
                        "name" : "C",
                        "type" : "AliasRef"
                     }
                  },
                  "sort" : {
                     "by" : [ {
                        "direction" : "desc",
                        "path" : "date",
                        "type" : "ByColumn"
                     } ]
                  }
               },
               "else" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "C",
                     "expression" : {
                        "name" : "SortedCytologyReports",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "name" : "C",
                        "type" : "AliasRef"
                     }
                  },
                  "sort" : {
                     "by" : [ {
                        "direction" : "desc",
                        "path" : "date",
                        "type" : "ByColumn"
                     } ]
                  }
               }
            }
         }, {
            "name" : "LastKnownCytologyAloneReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "name" : "CytologyAloneReports",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "CytologyAloneInRecentHistory",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "SecondMostRecentHpvResult",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "LastKnownCytologyAloneReport",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ]
                  }, {
                     "type" : "After",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "LastKnownCytologyAloneReport",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "SecondMostRecentHpvReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  } ]
               },
               "then" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "value" : "true",
                  "type" : "Literal"
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "SecondMostRecentHpvResult",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "LastKnownCytologyAloneReport",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ]
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "true",
                     "type" : "Literal"
                  },
                  "else" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "false",
                     "type" : "Literal"
                  }
               }
            }
         }, {
            "name" : "AbnormalCytologyAloneInRecentHistory",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "name" : "CytologyAloneInRecentHistory",
                  "type" : "ExpressionRef"
               }, {
                  "type" : "In",
                  "operand" : [ {
                     "path" : "riskTableInput",
                     "type" : "Property",
                     "source" : {
                        "name" : "LastKnownCytologyAloneReport",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "type" : "List",
                     "element" : [ {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "ASC-US",
                        "type" : "Literal"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "LSIL",
                        "type" : "Literal"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "ASC-H",
                        "type" : "Literal"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "AGC",
                        "type" : "Literal"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "HSIL+",
                        "type" : "Literal"
                     } ]
                  } ]
               } ]
            }
         }, {
            "name" : "DefaultLookupTableReturnValue",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "action",
                  "value" : {
                     "type" : "Null"
                  }
               }, {
                  "name" : "riskNow",
                  "value" : {
                     "type" : "Null"
                  }
               }, {
                  "name" : "risk5yr",
                  "value" : {
                     "type" : "Null"
                  }
               } ]
            }
         }, {
            "name" : "LookUpTable1",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "name" : "AbnormalCytologyAloneInRecentHistory",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "name" : "GetGeneralScreeningManagement",
                  "libraryName" : "RiskTableLookup",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "SecondMostRecentHpvResult",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "SecondMostRecentCytologyCotestResult",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "MostRecentHpvResult",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "MostRecentCytologyCotestResult",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  } ]
               },
               "else" : {
                  "name" : "DefaultLookupTableReturnValue",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "RowTable1",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetRowTable1",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "SecondMostRecentHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyCotestResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyCotestResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "AdjacentRowsTable1",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetAdjacentRowsTable1",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "SecondMostRecentHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyCotestResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyCotestResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "GeneralScreeningManagementRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "LookUpTable1",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "path" : "action",
                  "type" : "Property",
                  "source" : {
                     "name" : "LookUpTable1",
                     "type" : "ExpressionRef"
                  }
               },
               "else" : {
                  "type" : "Null"
               }
            }
         }, {
            "name" : "LookUpTable2",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "name" : "AbnormalCytologyAloneInRecentHistory",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "name" : "GetSurveillanceManagement",
                  "libraryName" : "RiskTableLookup",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "ThirdMostRecentHpvResult",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "ThirdMostRecentCytologyCotestResult",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "SecondMostRecentHpvResult",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "SecondMostRecentCytologyCotestResult",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "MostRecentHpvResult",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "MostRecentCytologyCotestResult",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  } ]
               },
               "else" : {
                  "name" : "DefaultLookupTableReturnValue",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "RowTable2",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetRowTable2",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ThirdMostRecentHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentCytologyCotestResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyCotestResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyCotestResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "AdjacentRowsTable2",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetAdjacentRowsTable2",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ThirdMostRecentHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentCytologyCotestResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyCotestResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyCotestResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "SurveillanceManagementRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "LookUpTable2",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "path" : "action",
                  "type" : "Property",
                  "source" : {
                     "name" : "LookUpTable2",
                     "type" : "ExpressionRef"
                  }
               },
               "else" : {
                  "type" : "Null"
               }
            }
         }, {
            "name" : "LookUpTable3",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetColposcopyResultsManagement",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ReferringHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ReferringCytologyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentBiopsyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "RowTable3",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetRowTable3",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ReferringHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ReferringCytologyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentBiopsyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "AdjacentRowsTable3",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetAdjacentRowsTable3",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ReferringHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ReferringCytologyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentBiopsyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "ColposcopyResultsManagementRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "LookUpTable3",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "path" : "action",
                  "type" : "Property",
                  "source" : {
                     "name" : "LookUpTable3",
                     "type" : "ExpressionRef"
                  }
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "LookUpTable4",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetPostColposcopyManagement",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ReferringHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ReferringCytologyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentBiopsyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentHpvResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentCytologyResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentHpvResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "RowTable4",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetRowTable4",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ReferringHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ReferringCytologyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentBiopsyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentHpvResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentCytologyResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentHpvResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "AdjacentRowsTable4",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetAdjacentRowsTable4",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ReferringHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ReferringCytologyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentBiopsyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentHpvResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentCytologyResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentHpvResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyResultPostBiopsy",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "PostColposcopyManagementRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "LookUpTable4",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "path" : "action",
                  "type" : "Property",
                  "source" : {
                     "name" : "LookUpTable4",
                     "type" : "ExpressionRef"
                  }
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "LookUpTable5",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetPostTreatmentManagement",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecentBiopsyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentHpvResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentCytologyResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentHpvResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "RowTable5",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetRowTable5",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecentBiopsyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentHpvResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentCytologyResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentHpvResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "AdjacentRowsTable5",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "GetAdjacentRowsTable5",
               "libraryName" : "RiskTableLookup",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecentBiopsyResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentHpvResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ThirdMostRecentCytologyResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentHpvResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "SecondMostRecentCytologyResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentHpvResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "MostRecentCytologyResultAfterTreatment",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "PostTreatmentManagementRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "LookUpTable5",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "path" : "action",
                  "type" : "Property",
                  "source" : {
                     "name" : "LookUpTable5",
                     "type" : "ExpressionRef"
                  }
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "HighRiskHPVPositiveResults",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHpvReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "InValueSet",
                        "code" : {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        },
                        "valueset" : {
                           "name" : "High Risk HPV Positive Results",
                           "libraryName" : "Dash"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "IsHsilAndHpvPositive",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "MostRecentCytologyCotest",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  }, {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "MostRecentCytologyCotestResult",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "HSIL+",
                        "type" : "Literal"
                     } ]
                  } ]
               }, {
                  "name" : "HighRiskHPVPositiveResults",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "RarelyScreenedLookbackInterval",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "lowClosed" : true,
               "highClosed" : false,
               "type" : "Interval",
               "low" : {
                  "type" : "Subtract",
                  "operand" : [ {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentCytologyCotest",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "name" : "RarelyScreenedInterval",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  } ]
               },
               "high" : {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentCytologyCotest",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               }
            }
         }, {
            "name" : "PreviousCytologyOrSurveillanceIsOldOrAbsent",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "Not",
                     "operand" : {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "name" : "SecondMostRecentCytologyReport",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "type" : "In",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondMostRecentCytologyReport",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "name" : "RarelyScreenedLookbackInterval",
                              "type" : "ExpressionRef"
                           } ]
                        } ]
                     }
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "name" : "SecondMostRecentCytologyCotest",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "type" : "In",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "SecondMostRecentCytologyCotest",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "name" : "RarelyScreenedLookbackInterval",
                              "type" : "ExpressionRef"
                           } ]
                        } ]
                     }
                  } ]
               }, {
                  "type" : "Not",
                  "operand" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "SecondMostRecentHpvReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }
                     }, {
                        "type" : "In",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "SecondMostRecentHpvReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "RarelyScreenedLookbackInterval",
                           "type" : "ExpressionRef"
                        } ]
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "IsRarelyScreenedPatient",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "27",
                              "type" : "Literal"
                           } ]
                        }, {
                           "name" : "IsHsilAndHpvPositive",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "MostRecentBiopsyReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "In",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentBiopsyReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }, {
                                 "name" : "RarelyScreenedLookbackInterval",
                                 "type" : "ExpressionRef"
                              } ]
                           }
                        } ]
                     } ]
                  }, {
                     "type" : "Or",
                     "operand" : [ {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "DateOfLastCervicalPrecancerTreatment",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "In",
                           "operand" : [ {
                              "name" : "DateOfLastCervicalPrecancerTreatment",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "RarelyScreenedLookbackInterval",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  } ]
               }, {
                  "name" : "PreviousCytologyOrSurveillanceIsOldOrAbsent",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "RarelyScreenedTreatmentRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "name" : "IsRarelyScreenedPatient",
                  "type" : "ExpressionRef"
               }, {
                  "type" : "GreaterOrEqual",
                  "operand" : [ {
                     "precision" : "Year",
                     "type" : "CalculateAge",
                     "operand" : {
                        "path" : "birthDate.value",
                        "type" : "Property",
                        "source" : {
                           "name" : "Patient",
                           "type" : "ExpressionRef"
                        }
                     }
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "27",
                     "type" : "Literal"
                  } ]
               } ]
            }
         }, {
            "name" : "TableRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "name" : "PostTreatmentManagementRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "PostColposcopyManagementRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "ColposcopyResultsManagementRecommendation",
                  "type" : "ExpressionRef"
               }, {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "name" : "SurveillanceManagementRecommendation",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "name" : "GeneralScreeningManagementRecommendation",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "WhichTableMadeTheRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "PostTreatmentManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "5",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "PostColposcopyManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "4",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "ColposcopyResultsManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "3",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "SurveillanceManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "GeneralScreeningManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  }
               } ],
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "PositivePrimaryHpv",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "AnyTrue",
                  "source" : {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "aC",
                        "expression" : {
                           "path" : "allConclusions",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentHpvReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ],
                     "relationship" : [ ],
                     "return" : {
                        "expression" : {
                           "type" : "InValueSet",
                           "code" : {
                              "name" : "ToConcept",
                              "libraryName" : "FHIRHelpers",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "aC",
                                 "type" : "AliasRef"
                              } ]
                           },
                           "valueset" : {
                              "name" : "High Risk HPV Positive Results",
                              "libraryName" : "Dash"
                           }
                        }
                     }
                  }
               }, {
                  "type" : "IsNull",
                  "operand" : {
                     "name" : "MostRecentCytologyCotest",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "MostRecentPrimaryHpvPositive",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "name" : "PositivePrimaryHpv",
                     "type" : "ExpressionRef"
                  }, {
                     "type" : "Or",
                     "operand" : [ {
                        "type" : "IsNull",
                        "operand" : {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "type" : "After",
                           "operand" : [ {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyReport",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentHpvReport",
                                 "libraryName" : "Collate",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }
                     } ]
                  } ]
               }, {
                  "type" : "Or",
                  "operand" : [ {
                     "type" : "IsNull",
                     "operand" : {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentBiopsyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  }, {
                     "type" : "Not",
                     "operand" : {
                        "type" : "After",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentBiopsyReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentHpvReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "CytologyInterpretedAsAscusOrAbove",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "CytologyInterpretedAsAscusOrAbove",
               "libraryName" : "Collate",
               "type" : "ExpressionRef"
            }
         }, {
            "name" : "HpvInterpretedAsPositive",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "In",
               "operand" : [ {
                  "name" : "MostRecentHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "type" : "List",
                  "element" : [ {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "HPV16+",
                     "type" : "Literal"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "HPV16-, HPV18+",
                     "type" : "Literal"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "HPV-positive",
                     "type" : "Literal"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentScreeningResultIsPositive",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "name" : "CytologyInterpretedAsAscusOrAbove",
                  "type" : "ExpressionRef"
               }, {
                  "name" : "HpvInterpretedAsPositive",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "AnyCytologicLsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "C",
                  "expression" : {
                     "name" : "SortedCytologyReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "Equal",
                  "operand" : [ {
                     "path" : "riskTableInput",
                     "scope" : "C",
                     "type" : "Property"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "LSIL",
                     "type" : "Literal"
                  } ]
               }
            }
         }, {
            "name" : "DateOfMostRecentPositiveScreeningResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "type" : "And",
                  "operand" : [ {
                     "name" : "CytologyInterpretedAsAscusOrAbove",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "HpvInterpretedAsPositive",
                     "type" : "ExpressionRef"
                  } ]
               },
               "then" : {
                  "type" : "If",
                  "condition" : {
                     "type" : "SameOrAfter",
                     "operand" : [ {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHpvReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentCytologyReport",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  },
                  "else" : {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentHpvReport",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "name" : "CytologyInterpretedAsAscusOrAbove",
                     "type" : "ExpressionRef"
                  },
                  "then" : {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "MostRecentCytologyReport",
                        "libraryName" : "Collate",
                        "type" : "ExpressionRef"
                     }
                  },
                  "else" : {
                     "type" : "If",
                     "condition" : {
                        "name" : "HpvInterpretedAsPositive",
                        "type" : "ExpressionRef"
                     },
                     "then" : {
                        "path" : "date",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentHpvReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     },
                     "else" : {
                        "asType" : "{urn:hl7-org:elm-types:r1}DateTime",
                        "type" : "As",
                        "operand" : {
                           "type" : "Null"
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "LsilBeforeMostRecentPositiveResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "name" : "MostRecentScreeningResultIsPositive",
                  "type" : "ExpressionRef"
               },
               "then" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "C",
                     "expression" : {
                        "name" : "AnyCytologicLsil",
                        "type" : "ExpressionRef"
                     }
                  } ],
                  "relationship" : [ ],
                  "where" : {
                     "type" : "Before",
                     "operand" : [ {
                        "path" : "date",
                        "scope" : "C",
                        "type" : "Property"
                     }, {
                        "name" : "DateOfMostRecentPositiveScreeningResult",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "riskTableInput",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "allConclusions",
                           "elementType" : {
                              "type" : "ListTypeSpecifier",
                              "elementType" : {
                                 "name" : "{http://hl7.org/fhir}CodeableConcept",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }
                        }, {
                           "name" : "date",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "LastKnownLsilBeforeMostRecentPositiveResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "name" : "LsilBeforeMostRecentPositiveResult",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "AnyCytologicAscus",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "C",
                  "expression" : {
                     "name" : "SortedCytologyReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "Equal",
                  "operand" : [ {
                     "path" : "riskTableInput",
                     "scope" : "C",
                     "type" : "Property"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ASC-US",
                     "type" : "Literal"
                  } ]
               }
            }
         }, {
            "name" : "AnyHpvPositiveCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "H",
                  "expression" : {
                     "name" : "SortedHpvReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "In",
                  "operand" : [ {
                     "path" : "riskTableInput",
                     "scope" : "H",
                     "type" : "Property"
                  }, {
                     "type" : "List",
                     "element" : [ {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "HPV16+",
                        "type" : "Literal"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "HPV16-, HPV18+",
                        "type" : "Literal"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "HPV-positive",
                        "type" : "Literal"
                     } ]
                  } ]
               }
            }
         }, {
            "name" : "AnyAscusHpvPositiveCotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "C",
                  "expression" : {
                     "name" : "AnyCytologicAscus",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "alias" : "H",
                  "expression" : {
                     "name" : "AnyHpvPositiveCotest",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "Equal",
                  "operand" : [ {
                     "path" : "date",
                     "scope" : "C",
                     "type" : "Property"
                  }, {
                     "path" : "date",
                     "scope" : "H",
                     "type" : "Property"
                  } ]
               },
               "return" : {
                  "expression" : {
                     "name" : "C",
                     "type" : "AliasRef"
                  }
               }
            }
         }, {
            "name" : "AscusHpvPositiveCotestBeforeMostRecentPositiveResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "C",
                  "expression" : {
                     "name" : "AnyAscusHpvPositiveCotest",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "Before",
                  "operand" : [ {
                     "path" : "date",
                     "scope" : "C",
                     "type" : "Property"
                  }, {
                     "name" : "DateOfMostRecentPositiveScreeningResult",
                     "type" : "ExpressionRef"
                  } ]
               }
            }
         }, {
            "name" : "LastKnownAscusHpvPositiveCotestBeforeMostRecentPositiveResult",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "name" : "AscusHpvPositiveCotestBeforeMostRecentPositiveResult",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "SecondMostRecentHpvInterpretedAsPositive",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "In",
               "operand" : [ {
                  "name" : "SecondMostRecentHpvResult",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }, {
                  "type" : "List",
                  "element" : [ {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "HPV16+",
                     "type" : "Literal"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "HPV16-, HPV18+",
                     "type" : "Literal"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "HPV-positive",
                     "type" : "Literal"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentCytologyIsNotACotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "IsNull",
               "operand" : {
                  "type" : "Coalesce",
                  "operand" : [ {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "S",
                        "expression" : {
                           "name" : "SortedHpvReports",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     } ],
                     "relationship" : [ ],
                     "where" : {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "In",
                           "operand" : [ {
                              "path" : "date",
                              "scope" : "S",
                              "type" : "Property"
                           }, {
                              "lowClosed" : true,
                              "highClosed" : true,
                              "type" : "Interval",
                              "low" : {
                                 "type" : "Subtract",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "libraryName" : "Collate",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 1,
                                    "unit" : "day",
                                    "type" : "Quantity"
                                 } ]
                              },
                              "high" : {
                                 "type" : "Add",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyReport",
                                       "libraryName" : "Collate",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 1,
                                    "unit" : "day",
                                    "type" : "Quantity"
                                 } ]
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "MostRecentCytologyReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }
                        } ]
                     }
                  } ]
               }
            }
         }, {
            "name" : "MostRecentCytologyAlone",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "name" : "MostRecentCytologyIsNotACotest",
                  "type" : "ExpressionRef"
               },
               "then" : {
                  "name" : "MostRecentCytologyReport",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "allConclusions",
                        "elementType" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}CodeableConcept",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "CytologyAloneInterpretedAsAscus",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Equal",
               "operand" : [ {
                  "path" : "riskTableInput",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentCytologyAlone",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "ASC-US",
                  "type" : "Literal"
               } ]
            }
         }, {
            "name" : "CytologyAloneInterpretedAsLsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Equal",
               "operand" : [ {
                  "path" : "riskTableInput",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentCytologyAlone",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "LSIL",
                  "type" : "Literal"
               } ]
            }
         }, {
            "name" : "CytologyAloneInterpretedAsHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Equal",
               "operand" : [ {
                  "path" : "riskTableInput",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentCytologyAlone",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "HSIL+",
                  "type" : "Literal"
               } ]
            }
         }, {
            "name" : "CytologicHsil",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "C",
                  "expression" : {
                     "name" : "SortedCytologyReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "Equal",
                  "operand" : [ {
                     "path" : "riskTableInput",
                     "scope" : "C",
                     "type" : "Property"
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "HSIL+",
                     "type" : "Literal"
                  } ]
               }
            }
         }, {
            "name" : "LastKnownHsilCytology",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "name" : "CytologicHsil",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "DateOfMostRecentHpvReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "path" : "date",
               "type" : "Property",
               "source" : {
                  "name" : "MostRecentHpvReport",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "LsilBeforeMostRecentHpvReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "C",
                  "expression" : {
                     "name" : "AnyCytologicLsil",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "Before",
                  "operand" : [ {
                     "path" : "date",
                     "scope" : "C",
                     "type" : "Property"
                  }, {
                     "name" : "DateOfMostRecentHpvReport",
                     "type" : "ExpressionRef"
                  } ]
               }
            }
         }, {
            "name" : "LastKnownLsilBeforeMostRecentMostRecentHpvReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "name" : "LsilBeforeMostRecentHpvReport",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "AnyCytologyInterpretedAsAscusOrAbove",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "C",
                  "expression" : {
                     "name" : "SortedCytologyReports",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "In",
                  "operand" : [ {
                     "path" : "riskTableInput",
                     "scope" : "C",
                     "type" : "Property"
                  }, {
                     "type" : "List",
                     "element" : [ {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "ASC-US",
                        "type" : "Literal"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "LSIL",
                        "type" : "Literal"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "ASC-H",
                        "type" : "Literal"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "AGC",
                        "type" : "Literal"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "HSIL+",
                        "type" : "Literal"
                     } ]
                  } ]
               }
            }
         }, {
            "name" : "LastKnownCytologyInterpretedAsAscusOrAbove",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "name" : "AnyCytologyInterpretedAsAscusOrAbove",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "AscusHpvPositiveBeforeMostRecentHpvReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "C",
                  "expression" : {
                     "name" : "AnyAscusHpvPositiveCotest",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "Before",
                  "operand" : [ {
                     "path" : "date",
                     "scope" : "C",
                     "type" : "Property"
                  }, {
                     "name" : "DateOfMostRecentHpvReport",
                     "type" : "ExpressionRef"
                  } ]
               }
            }
         }, {
            "name" : "LastKnownAscusHpvPositiveBeforeMostRecentHpvReport",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "First",
               "source" : {
                  "name" : "AscusHpvPositiveBeforeMostRecentHpvReport",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "ErrataRecommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "Or",
                           "operand" : [ {
                              "name" : "CytologyInterpretedAsAscusOrAbove",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "HpvInterpretedAsPositive",
                              "type" : "ExpressionRef"
                           } ]
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "LastKnownLsilBeforeMostRecentPositiveResult",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "name" : "HasNoBiopsyOrTreatmentAfterDate",
                              "libraryName" : "Collate",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "LastKnownLsilBeforeMostRecentPositiveResult",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           } ]
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "LastKnownAscusHpvPositiveCotestBeforeMostRecentPositiveResult",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "name" : "HasNoBiopsyOrTreatmentAfterDate",
                              "libraryName" : "Collate",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "LastKnownAscusHpvPositiveCotestBeforeMostRecentPositiveResult",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           } ]
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Colposcopy is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "GreaterOrEqual",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "25",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "name" : "HpvInterpretedAsPositive",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "SecondMostRecentHpvInterpretedAsPositive",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HasNoBiopsyOrTreatmentAfterDate",
                        "libraryName" : "Collate",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "SecondMostRecentHpvReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Colposcopy is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "GreaterOrEqual",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "25",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "name" : "CytologyAloneInterpretedAsAscus",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "Equal",
                           "operand" : [ {
                              "name" : "MostRecentReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }, {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyAlone",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        } ]
                     }, {
                        "name" : "HasNoBiopsyOrTreatmentAfterDate",
                        "libraryName" : "Collate",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyAlone",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Reflex HPV",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Reflex HPV testing is preferred. If HPV testing is not feasible, repeat cytology in 1 year.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "GreaterOrEqual",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "25",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "name" : "CytologyAloneInterpretedAsLsil",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "Equal",
                           "operand" : [ {
                              "name" : "MostRecentReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }, {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyAlone",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        } ]
                     }, {
                        "name" : "HasNoBiopsyOrTreatmentAfterDate",
                        "libraryName" : "Collate",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyAlone",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Colposcopy is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "GreaterOrEqual",
                              "operand" : [ {
                                 "precision" : "Year",
                                 "type" : "CalculateAge",
                                 "operand" : {
                                    "path" : "birthDate.value",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "25",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "name" : "CytologyAloneInterpretedAsHsil",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "Equal",
                           "operand" : [ {
                              "name" : "MostRecentReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }, {
                              "path" : "date",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MostRecentCytologyAlone",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        } ]
                     }, {
                        "name" : "HasNoBiopsyOrTreatmentAfterDate",
                        "libraryName" : "Collate",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentCytologyAlone",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy or Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Treatment using an excisional procedure without previous biopsy confirmation OR colposcopy and biopsy are both acceptable.",
                              "type" : "Literal"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "If the patient is currently pregnant, endocervical curettage, endometrial biopsy, and treatment without biopsy are unacceptable.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "name" : "LastKnownHsilCytology",
                                 "type" : "ExpressionRef"
                              }
                           }
                        } ]
                     }, {
                        "name" : "HasNoBiopsyOrTreatmentAfterDate",
                        "libraryName" : "Collate",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "date",
                           "type" : "Property",
                           "source" : {
                              "name" : "LastKnownHsilCytology",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Colposcopy is recommended.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "Or",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "Equal",
                                 "operand" : [ {
                                    "name" : "MostRecentHpvResult",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "HPV-negative",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "MostRecentCytologyCotest",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           }, {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "Equal",
                                 "operand" : [ {
                                    "name" : "MostRecentHpvResult",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "HPV-negative",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "type" : "Equal",
                                 "operand" : [ {
                                    "path" : "riskTableInput",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "MostRecentCytologyCotest",
                                       "libraryName" : "Collate",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "NILM",
                                    "type" : "Literal"
                                 } ]
                              } ]
                           } ]
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "IsNull",
                                    "operand" : {
                                       "name" : "LastKnownLsilBeforeMostRecentMostRecentHpvReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "name" : "HasNoBiopsyOrTreatmentAfterDate",
                                 "libraryName" : "Collate",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "LastKnownLsilBeforeMostRecentMostRecentHpvReport",
                                       "type" : "ExpressionRef"
                                    }
                                 } ]
                              } ]
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "LastKnownCytologyInterpretedAsAscusOrAbove",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "After",
                                    "operand" : [ {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "LastKnownCytologyInterpretedAsAscusOrAbove",
                                          "type" : "ExpressionRef"
                                       }
                                    }, {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "LastKnownLsilBeforeMostRecentMostRecentHpvReport",
                                          "type" : "ExpressionRef"
                                       }
                                    } ]
                                 }
                              } ]
                           } ]
                        }, {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "IsNull",
                                    "operand" : {
                                       "name" : "LastKnownAscusHpvPositiveBeforeMostRecentHpvReport",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "name" : "HasNoBiopsyOrTreatmentAfterDate",
                                 "libraryName" : "Collate",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "LastKnownAscusHpvPositiveBeforeMostRecentHpvReport",
                                       "type" : "ExpressionRef"
                                    }
                                 } ]
                              } ]
                           }, {
                              "type" : "Or",
                              "operand" : [ {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "LastKnownCytologyInterpretedAsAscusOrAbove",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              }, {
                                 "type" : "Not",
                                 "operand" : {
                                    "type" : "After",
                                    "operand" : [ {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "LastKnownCytologyInterpretedAsAscusOrAbove",
                                          "type" : "ExpressionRef"
                                       }
                                    }, {
                                       "path" : "date",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "LastKnownAscusHpvPositiveBeforeMostRecentHpvReport",
                                          "type" : "ExpressionRef"
                                       }
                                    } ]
                                 }
                              } ]
                           } ]
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Add",
                           "operand" : [ {
                              "name" : "DateOfMostRecentReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }, {
                              "value" : 1,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Primary HPV testing or cotesting is recommended in one year.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "short",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Date",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "details",
                        "elementType" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "CommonAbnormalityGroup",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "name" : "RarelyScreenedTreatmentRecommendation",
                     "type" : "ExpressionRef"
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Guidance for Expedited Treatment",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "name" : "MostRecentPrimaryHpvPositive",
                     "type" : "ExpressionRef"
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Reflex Cytology",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "PostTreatmentManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Post Treatment (Table 5)",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "PostColposcopyManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Post Colposcopy (Table 4)",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "ColposcopyResultsManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Colposcopy Results (Table 3)",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "SurveillanceManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Surveillance (Table 2)",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "GeneralScreeningManagementRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "General Screening (Table 1)",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "ErrataRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2023 JLGTD Addendum to the 2019 ASCCP Guidelines",
                     "type" : "Literal"
                  }
               } ],
               "else" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "N/A",
                  "type" : "Literal"
               }
            }
         }, {
            "name" : "debugCytologyInterpretedAsAscus",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "AnyTrue",
               "source" : {
                  "type" : "Query",
                  "source" : [ {
                     "alias" : "aC",
                     "expression" : {
                        "path" : "allConclusions",
                        "type" : "Property",
                        "source" : {
                           "name" : "MostRecentCytologyReport",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "expression" : {
                        "type" : "Equivalent",
                        "operand" : [ {
                           "name" : "ToConcept",
                           "libraryName" : "FHIRHelpers",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "aC",
                              "type" : "AliasRef"
                           } ]
                        }, {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "ASC-US",
                              "type" : "CodeRef"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "debugCytologyAloneInterpretedAsAscus",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Equal",
               "operand" : [ {
                  "path" : "riskTableInput",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentCytologyAlone",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "ASC-US",
                  "type" : "Literal"
               } ]
            }
         }, {
            "name" : "SecondMostRecentCytologyIsNotACotest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "IsNull",
               "operand" : {
                  "type" : "Coalesce",
                  "operand" : [ {
                     "type" : "Query",
                     "source" : [ {
                        "alias" : "S",
                        "expression" : {
                           "name" : "SortedHpvReports",
                           "libraryName" : "Collate",
                           "type" : "ExpressionRef"
                        }
                     } ],
                     "relationship" : [ ],
                     "where" : {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "In",
                           "operand" : [ {
                              "path" : "date",
                              "scope" : "S",
                              "type" : "Property"
                           }, {
                              "lowClosed" : true,
                              "highClosed" : true,
                              "type" : "Interval",
                              "low" : {
                                 "type" : "Subtract",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "SecondMostRecentCytologyReport",
                                       "libraryName" : "Collate",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 1,
                                    "unit" : "day",
                                    "type" : "Quantity"
                                 } ]
                              },
                              "high" : {
                                 "type" : "Add",
                                 "operand" : [ {
                                    "path" : "date",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "SecondMostRecentCytologyReport",
                                       "libraryName" : "Collate",
                                       "type" : "ExpressionRef"
                                    }
                                 }, {
                                    "value" : 1,
                                    "unit" : "day",
                                    "type" : "Quantity"
                                 } ]
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "path" : "date",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "SecondMostRecentCytologyReport",
                                    "libraryName" : "Collate",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }
                        } ]
                     }
                  } ]
               }
            }
         }, {
            "name" : "SecondMostRecentCytologyAlone",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "name" : "SecondMostRecentCytologyIsNotACotest",
                  "type" : "ExpressionRef"
               },
               "then" : {
                  "name" : "SecondMostRecentCytologyReport",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "riskTableInput",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "allConclusions",
                        "elementType" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{http://hl7.org/fhir}CodeableConcept",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "LastCervicalPrecancerTreatment",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Last",
               "source" : {
                  "name" : "CervicalPrecancerTreatmentsSorted",
                  "libraryName" : "Collate",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "ReflexTestingRecommendationText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "Reflex testing with cervical cytology is indicated.",
               "type" : "Literal"
            }
         }, {
            "name" : "Pap6MonthIntervalText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "If HPV testing or cotesting is not available, Pap testing may be performed. This is recommended at 6-month intervals.",
               "type" : "Literal"
            }
         }, {
            "name" : "Pap1YearIntervalText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "If HPV testing or cotesting is not available, Pap testing may be performed. This is recommended at 1-year intervals.",
               "type" : "Literal"
            }
         }, {
            "name" : "Pap3YearIntervalText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "If HPV testing or cotesting is not available, Pap testing may be performed. This is recommended at 3-year intervals.",
               "type" : "Literal"
            }
         }, {
            "name" : "TreatmentWithPregnancyConcernsRecommendationText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "If the patient is currently pregnant, endocervical curettage, endometrial biopsy, and treatment without biopsy are unacceptable.",
               "type" : "Literal"
            }
         }, {
            "name" : "OneYearSurveillanceRecommendationText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "Repeat testing in 1 year with primary HPV testing or cotesting is recommended.",
               "type" : "Literal"
            }
         }, {
            "name" : "ThreeYearSurveillanceRecommendationText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "Repeat testing in 3 years with primary HPV testing or cotesting is recommended.",
               "type" : "Literal"
            }
         }, {
            "name" : "FiveYearSurveillanceRecommendationText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "Routine screening at 5-year intervals using primary HPV testing or cotesting is recommended.",
               "type" : "Literal"
            }
         }, {
            "name" : "ColposcopyRecommendationText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "Colposcopy is recommended.",
               "type" : "Literal"
            }
         }, {
            "name" : "ColposcopyOrTreatmentRecommendationText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "Treatment using an excisional procedure without previous biopsy confirmation OR colposcopy and biopsy are both acceptable.",
               "type" : "Literal"
            }
         }, {
            "name" : "TreatmentRecommendationText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "Treatment using an excisional procedure without previous biopsy confirmation is preferred, but colposcopy with biopsy is acceptable.",
               "type" : "Literal"
            }
         }, {
            "name" : "RarelyScreenedRecommendationText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "For patients who have not been screened within the past 5 years or more, risks are higher and treatment is preferred to colposcopy to minimize loss to follow-up.",
               "type" : "Literal"
            }
         }, {
            "name" : "MostRecentCytologyCotestWasAfterAge21",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "GreaterOrEqual",
               "operand" : [ {
                  "path" : "date",
                  "type" : "Property",
                  "source" : {
                     "name" : "MostRecentCytologyCotest",
                     "libraryName" : "Collate",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "ToDateTime",
                  "operand" : {
                     "type" : "Add",
                     "operand" : [ {
                        "name" : "ToDate",
                        "libraryName" : "FHIRHelpers",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "path" : "birthDate",
                           "type" : "Property",
                           "source" : {
                              "name" : "Patient",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "value" : 21,
                        "unit" : "years",
                        "type" : "Quantity"
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "Action",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "27",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "LessOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "50",
                              "type" : "Literal"
                           } ]
                        } ]
                     }, {
                        "name" : "IsRarelyScreenedPatient",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "TreatmentRecommendationText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "RarelyScreenedRecommendationText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "TreatmentWithPregnancyConcernsRecommendationText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "Greater",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "50",
                           "type" : "Literal"
                        } ]
                     }, {
                        "name" : "IsRarelyScreenedPatient",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "TreatmentRecommendationText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "RarelyScreenedRecommendationText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "name" : "MostRecentPrimaryHpvPositive",
                     "type" : "ExpressionRef"
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Cytology",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "ReflexTestingRecommendationText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "LessOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "65",
                              "type" : "Literal"
                           } ]
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "1-year follow-up",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Add",
                           "operand" : [ {
                              "name" : "DateOfMostRecentReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }, {
                              "value" : 1,
                              "unit" : "year",
                              "type" : "Quantity"
                           } ]
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "OneYearSurveillanceRecommendationText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "Pap6MonthIntervalText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "Greater",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "65",
                           "type" : "Literal"
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "1-year follow-up",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Add",
                           "operand" : [ {
                              "name" : "DateOfMostRecentReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }, {
                              "value" : 1,
                              "unit" : "year",
                              "type" : "Quantity"
                           } ]
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "OneYearSurveillanceRecommendationText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "Pap6MonthIntervalText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "LessOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "65",
                              "type" : "Literal"
                           } ]
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "3-year follow-up",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Add",
                           "operand" : [ {
                              "name" : "DateOfMostRecentReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }, {
                              "value" : 3,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "ThreeYearSurveillanceRecommendationText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "Pap1YearIntervalText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "Greater",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "65",
                           "type" : "Literal"
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "3-year follow-up",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Add",
                           "operand" : [ {
                              "name" : "DateOfMostRecentReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }, {
                              "value" : 3,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "ThreeYearSurveillanceRecommendationText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "Pap1YearIntervalText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "LessOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "65",
                              "type" : "Literal"
                           } ]
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "5-year follow-up",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Add",
                           "operand" : [ {
                              "name" : "DateOfMostRecentReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }, {
                              "value" : 5,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "FiveYearSurveillanceRecommendationText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "Pap3YearIntervalText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "Greater",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "65",
                           "type" : "Literal"
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "5-year follow-up",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Surveillance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Add",
                           "operand" : [ {
                              "name" : "DateOfMostRecentReport",
                              "libraryName" : "Collate",
                              "type" : "ExpressionRef"
                           }, {
                              "value" : 5,
                              "unit" : "years",
                              "type" : "Quantity"
                           } ]
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "FiveYearSurveillanceRecommendationText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "Pap3YearIntervalText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "GreaterOrEqual",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "25",
                           "type" : "Literal"
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "ColposcopyRecommendationText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "LessOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "50",
                              "type" : "Literal"
                           } ]
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy/Treatment",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy or Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "ColposcopyOrTreatmentRecommendationText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "TreatmentWithPregnancyConcernsRecommendationText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "Greater",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "50",
                           "type" : "Literal"
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy/Treatment",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Colposcopy or Treatment",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "ColposcopyOrTreatmentRecommendationText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "GreaterOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "25",
                              "type" : "Literal"
                           } ]
                        }, {
                           "type" : "LessOrEqual",
                           "operand" : [ {
                              "precision" : "Year",
                              "type" : "CalculateAge",
                              "operand" : {
                                 "path" : "birthDate.value",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Patient",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "50",
                              "type" : "Literal"
                           } ]
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "TreatmentRecommendationText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "TreatmentWithPregnancyConcernsRecommendationText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "Greater",
                        "operand" : [ {
                           "precision" : "Year",
                           "type" : "CalculateAge",
                           "operand" : {
                              "path" : "birthDate.value",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Patient",
                                 "type" : "ExpressionRef"
                              }
                           }
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "50",
                           "type" : "Literal"
                        } ]
                     }, {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Treatment",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "name" : "TableRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "TreatmentRecommendationText",
                              "type" : "ExpressionRef"
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "ErrataRecommendation",
                           "type" : "ExpressionRef"
                        }
                     }
                  },
                  "then" : {
                     "name" : "ErrataRecommendation",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "Less",
                                 "operand" : [ {
                                    "precision" : "Year",
                                    "type" : "CalculateAge",
                                    "operand" : {
                                       "path" : "birthDate.value",
                                       "type" : "Property",
                                       "source" : {
                                          "name" : "Patient",
                                          "type" : "ExpressionRef"
                                       }
                                    }
                                 }, {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "25",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "name" : "MostRecentCytologyCotestWasAfterAge21",
                                 "type" : "ExpressionRef"
                              } ]
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "type" : "IsNull",
                                 "operand" : {
                                    "name" : "MostRecentNilmCytology",
                                    "libraryName" : "Dash",
                                    "type" : "ExpressionRef"
                                 }
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "name" : "MostRecentPositiveHpv",
                                 "libraryName" : "Dash",
                                 "type" : "ExpressionRef"
                              }
                           }
                        } ]
                     }, {
                        "name" : "CoincidentDiagnosticReports",
                        "libraryName" : "CCF",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "MostRecentNilmCytology",
                           "libraryName" : "Dash",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "MostRecentPositiveHpv",
                           "libraryName" : "Dash",
                           "type" : "ExpressionRef"
                        } ]
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "short",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "See Details",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "date",
                        "value" : {
                           "type" : "Today"
                        }
                     }, {
                        "name" : "details",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "There is no specific recommendation for a NILM cytology and HPV + in a patient < 25 years of age. Use clinical judgement.",
                              "type" : "Literal"
                           } ]
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "short",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "date",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Date",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "details",
                        "elementType" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "Recommendation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "short",
                  "value" : {
                     "path" : "short",
                     "type" : "Property",
                     "source" : {
                        "name" : "Action",
                        "type" : "ExpressionRef"
                     }
                  }
               }, {
                  "name" : "date",
                  "value" : {
                     "path" : "date",
                     "type" : "Property",
                     "source" : {
                        "name" : "Action",
                        "type" : "ExpressionRef"
                     }
                  }
               }, {
                  "name" : "details",
                  "value" : {
                     "path" : "details",
                     "type" : "Property",
                     "source" : {
                        "name" : "Action",
                        "type" : "ExpressionRef"
                     }
                  }
               }, {
                  "name" : "group",
                  "value" : {
                     "name" : "CommonAbnormalityGroup",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "TableTitle",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "Risk Estimates",
               "type" : "Literal"
            }
         }, {
            "name" : "TableSubtitle",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "CommonAbnormalityGroup",
               "type" : "ExpressionRef"
            }
         }, {
            "name" : "HeaderTable1",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "List",
               "element" : [ {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "history",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "History",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "hpv",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Current HPV Result",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "cyto",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Current Cytology Result",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "riskNow",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CIN 3+ Immediate Risk (%)",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "risk5yr",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CIN 3+ 5 yr Risk (%)",
                        "type" : "Literal"
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "HeaderTable2",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "List",
               "element" : [ {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "prev2",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Second Previous",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "prev1",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Previous",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "hpv",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Current HPV Result",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "cyto",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Current Cytology Result",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "riskNow",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CIN 3+ Immediate Risk (%)",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "risk5yr",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CIN 3+ 5 yr Risk (%)",
                        "type" : "Literal"
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "HeaderTable3",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "List",
               "element" : [ {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "referral",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Referring Result",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "biopsy",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Biopsy Result",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "riskNow",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CIN 3+ Immediate Risk (%)",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "risk5yr",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CIN 3+ 5 yr Risk (%)",
                        "type" : "Literal"
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "HeaderTable4",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "List",
               "element" : [ {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "preColposcopyResult",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Pre-Colposcopy History",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "postColposcopyPastHistory",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Post-Colposcopy History",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "hpv",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Current HPV Result",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "cyto",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Current Cytology Result",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "riskNow",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CIN 3+ Immediate Risk (%)",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "risk5yr",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CIN 3+ 5 yr Risk (%)",
                        "type" : "Literal"
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "HeaderTable5",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "List",
               "element" : [ {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "biopsy",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Biopsy Result",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "hpv",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Current HPV Result",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "cyto",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Current Cytology Result",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "riskNow",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CIN 3+ Immediate Risk (%)",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "key",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "risk5yr",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "display",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "CIN 3+ 5 yr Risk (%)",
                        "type" : "Literal"
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "TableHeaders",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "5",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "HeaderTable5",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "4",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "HeaderTable4",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "3",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "HeaderTable3",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "2",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "HeaderTable2",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "HeaderTable1",
                     "type" : "ExpressionRef"
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "key",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "display",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "RelevantRow",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "5",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "RowTable5",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "4",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "RowTable4",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "3",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "RowTable3",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "2",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "RowTable2",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "RowTable1",
                     "type" : "ExpressionRef"
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "action",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "history",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "prev2",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "prev1",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "referral",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "biopsy",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "preColposcopyResult",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "postColposcopyPastHistory",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "hpv",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "cyto",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "riskNow",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "risk5yr",
                        "elementType" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "AdjacentRows",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "5",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "AdjacentRowsTable5",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "4",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "AdjacentRowsTable4",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "3",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "AdjacentRowsTable3",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "2",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "AdjacentRowsTable2",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "WhichTableMadeTheRecommendation",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "name" : "AdjacentRowsTable1",
                     "type" : "ExpressionRef"
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "ListTypeSpecifier",
                     "elementType" : {
                        "type" : "TupleTypeSpecifier",
                        "element" : [ {
                           "name" : "action",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "history",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "prev2",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "prev1",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "preColposcopyResult",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "postColposcopyPastHistory",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "referral",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "biopsy",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "hpv",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "cyto",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "riskNow",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "type" : "NamedTypeSpecifier"
                           }
                        }, {
                           "name" : "risk5yr",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}Decimal",
                              "type" : "NamedTypeSpecifier"
                           }
                        } ]
                     }
                  }
               }
            }
         }, {
            "name" : "RiskTableSummary",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "title",
                  "value" : {
                     "name" : "TableTitle",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "subtitle",
                  "value" : {
                     "name" : "TableSubtitle",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "headers",
                  "value" : {
                     "name" : "TableHeaders",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "relevant",
                  "value" : {
                     "name" : "RelevantRow",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "adjacent",
                  "value" : {
                     "name" : "AdjacentRows",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "Errors",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "List"
            }
         }, {
            "name" : "ErrorsHaveOccurred",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "Errors",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "NoErrorsHaveOccurred",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Not",
               "operand" : {
                  "name" : "ErrorsHaveOccurred",
                  "type" : "ExpressionRef"
               }
            }
         } ]
      }
   }
}

